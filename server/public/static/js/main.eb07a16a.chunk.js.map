{"version":3,"sources":["create_user/createUser.module.css","resources/create_resource.module.css","images/1.jpeg","login/login.module.css","course/create_course.module.css","vacation-form/components/Header.js","vacation-form/components/UserInfo.js","vacation-form/components/VacationInput.js","vacation-form/components/Vacation.js","vacation-form/components/VacationList.js","vacation-form/Vacation.js","components/Month.jsx","components/Form.jsx","components/Slot.jsx","components/RowHeader.jsx","components/TimelineGrid.jsx","components/NoCollisionLayout.jsx","components/AdminNav.js","components/UserNav.js","components/DefaultNav.js","components/NoCollision_Year.jsx","components/Slot_Week.jsx","components/RowHeader_Week.jsx","components/TimelineGrid_Week.jsx","components/NoCollision_Week.jsx","components/Month_Year.jsx","components/Week.jsx","components/Timeline.jsx","Schedule.js","detailed-schedule/components/Header.js","detailed-schedule/detailedSchedule.js","resources/resources.js","login/components/Footer.js","login/Login.js","create_user/CreateUser.js","course/CreateCourse.js","resources/create_resource.js","vacation-approval/components/VacationEntry.js","vacation-approval/components/NotApprovedList.js","vacation-approval/components/NoVacations.js","vacation-approval/components/Header.js","vacation-approval/VacationApproval.js","App.js","index.js","images/BCIT_logo.png"],"names":["module","exports","signup-form","container","checkmark","resource-form","__webpack_require__","p","login-form","footer","successMessage","course-form","screenLayout","createTheme","breakpoints","values","xxs","xs","lg","styles","makeStyles","button","border","borderRadius","color","padding","background","width","alignSelf","&:hover","&:focus","textAlign","marginLeft","image","height","Logo","classes","react_default","a","createElement","className","src","require","alt","style","position","left","top","BackButton","Button","onClick","e","window","location","href","TopNavWrapper","styled","display","flexDirection","alignItems","justifyContent","backgroundColor","TitleAndBackBWrapper","Header","_ref","title","Typography","theme","sx","fontSize","defaultProps","Form","buttonStyles","marginTop","marginBottom","SubmitButton","type","UserInfo","onAdd","_useState","useState","_useState2","Object","slicedToArray","setFirst","_useState3","_useState4","setLast","_useState5","_useState6","setEmp","_useState7","_useState8","setExt","onSubmit","preventDefault","ReactSession","get","UserInputContainer","VacationInput","NC","setNC","startingMonth","setStartingMonth","startingDay","setStartingDay","endingMonth","setEndingMonth","_useState9","_useState10","endingDay","setEndingDay","_useState11","_useState12","day","setDay","_useState13","_useState14","hour","setHour","_useState15","_useState16","VABT","setVABT","_useState17","_useState18","notes","setNotes","_useState19","_useState20","dateRange","setDateRange","_dateRange","startDate","endDate","VacationInput_Form","FormControl","m","minWidth","size","InputLabel","id","Select","labelId","label","onChange","target","value","MenuItem","react_datepicker_min_default","selectsRange","update","concat","getMonth","getDate","Date","elapsed","daysAfterLastSunday","ifThen","b","c","daysBeforeFirstSunday","getDay","Math","ceil","getBusinessDateCount","placeholder","VacationLayout","VacationDetailSeparator","VacationDetailWrapper","clearButton","Vacation","vacation","onDelete","Clear_default","VacationList","vacations","map","key","components_Vacation","END_POINT_ROOT","VACATION_RESOURCE","Container","Wrapper","margin","minHeight","SubmissionFormWrapper","VacationListWrapper","overflowY","VacationFormWrapper","state","user","users","vacationID","vacationSubmitted","loaded","changeUser","_this","includes","stateVacations","i","length","objectSpread","setState","postSubmission","console","log","alert","addVacation","newVacation","toConsumableArray","deleteVacation","index","findIndex","vac","splice","createDate","month","year","getFullYear","username","start_date","getTime","end_date","duration","props","socket","emit","parseData","data","parsedData","JSON","parse","dataUsers","push","getUsers","fetch","then","response","text","this","undefined","components_Header","components_VacationInput","components_UserInfo","components_VacationList","renderApp","React","Component","Month","weeks","next","previous","currentYear","Fragment","gridArea","x","y","Stack","direction","spacing","IconButton","aria-label","ArrowBackIos_default","ArrowForwardIos_default","item","getCourses","callBack","courseArray","course","course_num","textObject","_ref$isCourse","isCourse","input","setInput","selectedOption","setSelectedOption","isLoaded","setLoaded","setCourseArray","useEffect","name","react_select_esm","defaultValue","options","onInput","defineProperty","split","join","toLowerCase","number","datejoined","Slot","createCourse","RowHeader","removeFunction","slotArray","slots","pos","createRowSlots","createSlot","TimelineGrid","heightLimit","instructorArray","totalWeeks","onRemoveUser","onAddUser","initialRowHeaderArray","setHeight","rowHeaderArray","setRowHeaderArray","removeRowHeader","arguments","_","reject","element","set","on","stringify","firstname","lastname","timeblocks","addRowHeader","createRowHeader","LocalStorageLayout","newInstructorArray","weekInformation","currentMonthWeeks","firstWeek","currentMonth","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","replaceItem","layout","newLayout","slice","onLayoutChange","onItemChange","oldItem","newItem","findWeekDate","w","monthItems","toString","foundItem","yAxisLockedItem","instructor","floor","courseNum","caId","start","end","onAddVacation","info","findWeekIndex","uid","vid","vacation_id","h","items","onAddCourse","parseInt","weeklength","instructorKey","userId","initialLength","reduce","acc","newElement","itemData","isDraggable","isResizable","resize","forceUpdate","timeLineInformation","weekRangesArray","getCourseWidth","vacationStart","vacationEnd","vacationId","monthWeeks","mWeeks","filter","itemLayout","date","adjustment","setMonth","onRemoveItem","onRemoveVacation","el","isVacation","data-grid","right","cursor","bind","dist","to","pathname","search","bottom","_this2","ReactGridLayout","WidthProvider","RGL","updateItems","assign","cols","maxRows","autoSize","prevProps","prevState","addEventListener","_this3","random","forEach","maxW","createItemGrid","PureComponent","monthStart","times","monthEnd","range","monthIndex","weekRanges","indexMap","rowHeight","allowOverlap","preventCollision","resizeHandles","compactType","logout","localStorage","clear","AdminNav","onMouseDown","UserNav","DefaultNav","layouts","NoCollision_Year_ReactGridLayout","onResizeStop","onDragStop","reactjs_popup_esm","trigger","opacity","zIndex","modal","Form_Form","Slot_Week_Slot","RowHeader_Week_RowHeader","createRowHeaderWeek","currentWeekDays","firstDay","currentWeek","currentDate","getDayRange","current_date","firstDate","TimelineGrid_Week_TimelineGrid","_getMonFri","monday","friday","new_monday","new_friday","getMonFri","_getMonFri2","week","d1","d2","round","Week","weekDayName","String","setDate","SelectNav","userStatus","components_AdminNav","components_UserNav","components_DefaultNav","Timeline","setYear","thisYear","setFullYear","weekNum","initialMonthArray","getMonthArray","year_month_array","setYearMonthArray","monthNameArray","weekDayNameArray","firstWeekArray","weekNumber","getFirstWeek","monthArray","current_month","setCurrentMonth","current_month_name","setCurrentMonthName","current_week","month_weeks","setMonthWeeks","first_week","setFirstWeek","first_day","setDisplay","_useState21","_useState22","setCurrentDate","_useState23","_useState24","setDayNameArray","Array","from","keys","getWeeks","nextMonth","previousMonth","nextWeek","_ref2","asyncToGenerator","_regeneratorRuntime","mark","_callee","new_date","d","next_week_friday","friday_month","wrap","_context","prev","stop","apply","previousWeek","next_date","handleChange","event","createDisplayOption","autoWidth","getNumberOfWeeks","createMonth","NoCollisionLayout_LocalStorageLayout","week_day_names","Week_Week","createWeek","current_day_name_array","NoCollision_Week_LocalStorageLayout","Month_Year_Month","createMonthYear","NoCollision_Year_LocalStorageLayout","weekTimes","sum","INSTRUCTORS_RESOURCE","App","instructors","error","first_name","last_name","ca_id","vacation_start","vacation_end","approved","retrieveInstructorDataFromDatabase","catch","getHeightLimit","limit","setHeightLimit","err","detail","code","Header_TopNavWrapper","Header_Logo","Header_TitleAndBackBWrapper","Header_BackButton","Day","handleSave","previousValue","description","ds_id","model_name","model_num","quantity","subject","resources","editMode","m_num","index_modern","getStringDate","readonly","class","onSave","rows","_ref3","days","rowInfo","copyDays","dayData","dayInfo","detailedSchedule_Day","_this4","renderDay","Course","_ref4","_this5","formattedData","formattedData_len","prev_ds_id","dataLoaded","retrieveDailyScheduleDataFromDatabase","method","headers","Content-Type","weekInfo","detailedSchedule_Week","_this6","weeksData","j","renderWeek","detailed_schedule_components_Header","renderCourse","DetailedSchedule","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","detailedSchedule_Course","PopUp","toggle","resInfo","handleClose","handleSubmit","quantityAvailable","isNaN","inputValue","quantity_total","model_location","q_left","quantity_booked","updateInputValue","evt","Item","togglePop","seen","resources_PopUp","Resource","retrieveResourcesDataFromDatabase","copyData","res","rowData","itemInfo","resources_Item","renderItem","renderResouce","Resources","formattedDate","resources_Resource","Footer","Login","setUsername","password","setPassword","authenticate","Login_regeneratorRuntime","res_data","requestOptions","body","json","status","admin","document","getElementById","innerText","fontWeight","_x","backgroundImage","bg","backgroundSize","align","logo","components_Footer","CreateUser","setFirstName","setLastName","setAdmin","email","setEmail","confirmPassword","setConfirmPassword","dateJoined","new_user","checked","Create_Course","setCourseNum","setSubject","setTitle","new_course","colour","Create_resource","setModelNum","setModelName","setQuantityTotal","setModelLocation","new_resource","CheckAndCancelStyles","check","cancel","VacationInfoWrapper","ButtonsWrapper","borderColor","VacationEntry","onApprove","onReject","timestamp","num","numToMonth","VacationEntry_Container","CheckCircle_default","Cancel_default","NotApprovedList","capitalizeString","string","charAt","toUpperCase","usernameToName","first","last","components_VacationEntry","noVacations","components_Header_TopNavWrapper","components_Header_Logo","components_Header_TitleAndBackBWrapper","components_Header_BackButton","ApprovalContainer","VacationApproval","approveVacation","v","rejectVacation","getVacations","vacation_approval_components_Header","components_NotApprovedList","NoVacations","io","connect","setStoreType","react_router_dist","exact","path","Schedule_App","detailedSchedule","resources_resources","vacation_form_Vacation_Vacation","VacationApproval_VacationApproval","CreateCourse","resources_create_resource","ReactDOM","render","src_App"],"mappings":"mGACAA,EAAAC,QAAA,CAAkBC,cAAA,gCAAAC,UAAA,8BAAAC,UAAA,oDCAlBJ,EAAAC,QAAA,CAAkBI,gBAAA,6DCDlBL,EAAAC,QAAiBK,EAAAC,EAAuB,oDCCxCP,EAAAC,QAAA,CAAkBO,aAAA,0BAAAC,OAAA,sBAAAC,eAAA,oDCAlBV,EAAAC,QAAA,CAAkBU,cAAA,2WCIZC,EAAeC,YAAY,CAC7BC,YAAa,CACTC,OAAQ,CACJC,IAAK,EACLC,GAAI,IACJC,GAAI,QAKVC,EAASC,YAAW,CACtBC,OAAQ,CACJC,OAAQ,EACRC,aAAc,EACdC,MAAO,QACPC,QAAS,SACTC,WAAY,UACZC,MAAO,MACPC,UAAW,SACXC,UAAW,CACPH,WAAY,WAEhBI,UAAW,CACPJ,WAAY,UACZG,UAAW,CACPH,WAAY,YAGpBK,UAAW,QACXC,WAAY,OAEhBC,MAAO,CACHN,MAAO,GACPO,OAAQ,MAIhB,SAASC,IACL,IAAMC,EAAUjB,IAChB,OAAOkB,EAAAC,EAAAC,cAAA,OAAKC,UAAWJ,EAAQH,MAAOQ,IAAKC,EAAQ,IAC/CC,IAAK,OAAQC,MAAO,CAChBC,SAAU,WACVC,KAAM,EACNC,IAAK,KAIjB,SAASC,IACL,IAAMZ,EAAUjB,IAChB,OAAOkB,EAAAC,EAAAC,cAACU,EAAA,EAAD,CAAQT,UAAWJ,EAAQf,OAAQ6B,QAAS,SAACC,GAAQC,OAAOC,SAASC,KAAO,MAA5E,QAGX,IAAMC,EAAgBC,YAAO,MAAPA,CAAc,CAChC7B,MAAO,QACPO,OAAQ,OACRuB,QAAS,OACTC,cAAe,SACfC,WAAY,OACZC,eAAgB,eAChBpC,MAAO,UACPqC,gBAAiB,UAGfC,EAAuBN,YAAO,MAAPA,CAAc,CACvC7B,MAAO,OACPO,OAAQ,OACRuB,QAAS,OACTC,cAAe,MACfC,WAAY,SACZC,eAAgB,WAWdG,GAPoBP,YAAO,MAAPA,CAAc,IAGlBA,YAAO,MAAPA,CAAc,IAIrB,SAAAQ,GAAe,IAAZC,EAAYD,EAAZC,MACd,OACI5B,EAAAC,EAAAC,cAACgB,EAAD,KACIlB,EAAAC,EAAAC,cAACJ,EAAD,MACAE,EAAAC,EAAAC,cAACuB,EAAD,KACIzB,EAAAC,EAAAC,cAAC2B,EAAA,EAAD,CAAYC,MAAOvD,EAAcwD,GAAI,CACjCC,SAAU,CACNrD,IAAK,OACLC,GAAI,OACJC,GAAI,QAERc,WAAY,CACRhB,IAAK,OACLC,GAAI,UAGRoB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,kBAAkByB,IAEpC5B,EAAAC,EAAAC,cAACS,EAAD,UAMhBe,EAAOO,aAAe,CAClBL,MAAO,oBAGIF,uBC1GTQ,EAAOf,YAAO,OAAPA,CAAe,IAGtBgB,EAAepD,YAAW,CAC5BC,OAAQ,CACJC,OAAQ,EACRC,aAAc,EACdC,MAAO,QACPC,QAAS,SACTC,WAAY,UACZG,UAAW,CACPH,WAAY,WAEhBI,UAAW,CACPJ,WAAY,UACZG,UAAW,CACPH,WAAY,YAGpB+C,UAAW,GACXC,aAAc,MAItB,SAASC,IACL,IAAMvC,EAAUoC,IAChB,OAAOnC,EAAAC,EAAAC,cAACU,EAAA,EAAD,CAAQT,UAAWJ,EAAQf,OAAQuD,KAAK,UAAxC,UAGX,IAwBeC,EAxBE,SAAAb,GAAe,IAAZc,EAAYd,EAAZc,MAAYC,EAEFC,mBAAS,IAFPC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAEdK,GAFcH,EAAA,GAAAA,EAAA,IAAAI,EAGJL,mBAAS,IAHLM,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAGfE,GAHeD,EAAA,GAAAA,EAAA,IAAAE,EAINR,mBAAS,IAJHS,EAAAP,OAAAC,EAAA,EAAAD,CAAAM,EAAA,GAIhBE,GAJgBD,EAAA,GAAAA,EAAA,IAAAE,EAKNX,mBAAS,IALHY,EAAAV,OAAAC,EAAA,EAAAD,CAAAS,EAAA,GAKhBE,GALgBD,EAAA,GAAAA,EAAA,IAiB5B,OACIvD,EAAAC,EAAAC,cAACgC,EAAD,CAAMuB,SAXK,SAAC3C,GACZA,EAAE4C,iBAEFjB,EAAMkB,eAAaC,IAAI,aACvBb,EAAS,IACTG,EAAQ,IACRG,EAAO,IACPG,EAAO,MAKHxD,EAAAC,EAAAC,cAACoC,EAAD,uECxBZ,IAAMuB,EAAqB1C,YAAO,MAAPA,CAAc,CACvCC,QAAS,OACTC,cAAe,SACfC,WAAY,SAGRY,EAAOf,YAAO,OAAPA,CAAe,IAgHb2C,EA5GO,SAAAnC,GAAe,IAAZc,EAAYd,EAAZc,MAAYC,EACfC,mBAAS,IADMC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAC5BqB,EAD4BnB,EAAA,GACxBoB,EADwBpB,EAAA,GAAAI,EAEOL,mBAAS,IAFhBM,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAE5BiB,EAF4BhB,EAAA,GAEbiB,EAFajB,EAAA,GAAAE,EAGGR,mBAAS,IAHZS,EAAAP,OAAAC,EAAA,EAAAD,CAAAM,EAAA,GAG5BgB,EAH4Bf,EAAA,GAGfgB,EAHehB,EAAA,GAAAE,EAIGX,mBAAS,IAJZY,EAAAV,OAAAC,EAAA,EAAAD,CAAAS,EAAA,GAI5Be,EAJ4Bd,EAAA,GAIfe,EAJef,EAAA,GAAAgB,EAKD5B,mBAAS,IALR6B,EAAA3B,OAAAC,EAAA,EAAAD,CAAA0B,EAAA,GAK5BE,EAL4BD,EAAA,GAKjBE,EALiBF,EAAA,GAAAG,EAMbhC,mBAAS,IANIiC,EAAA/B,OAAAC,EAAA,EAAAD,CAAA8B,EAAA,GAM5BE,EAN4BD,EAAA,GAMvBE,EANuBF,EAAA,GAAAG,EAOXpC,mBAAS,IAPEqC,EAAAnC,OAAAC,EAAA,EAAAD,CAAAkC,EAAA,GAO5BE,EAP4BD,EAAA,GAOtBE,EAPsBF,EAAA,GAAAG,EAQXxC,mBAAS,IAREyC,EAAAvC,OAAAC,EAAA,EAAAD,CAAAsC,EAAA,GAQ5BE,EAR4BD,EAAA,GAQtBE,EARsBF,EAAA,GAAAG,EAST5C,mBAAS,IATA6C,EAAA3C,OAAAC,EAAA,EAAAD,CAAA0C,EAAA,GAS5BE,EAT4BD,EAAA,GASrBE,EATqBF,EAAA,GAAAG,EAUDhD,mBAAS,CAAC,KAAM,OAVfiD,EAAA/C,OAAAC,EAAA,EAAAD,CAAA8C,EAAA,GAU5BE,EAV4BD,EAAA,GAUjBE,EAViBF,EAAA,GAAAG,GAAAlD,OAAAC,EAAA,EAAAD,CAWNgD,EAXM,GAW5BG,GAX4BD,GAAA,GAWjBE,GAXiBF,GAAA,GAa7BjH,GAASC,YAAW,CACxBC,OAAQ,CACNC,OAAQ,EACRC,aAAc,EACdC,MAAO,QACPC,QAAS,SACTC,WAAY,UACZG,UAAW,CACTH,WAAY,WAEdI,UAAW,CACTJ,WAAY,UACZG,UAAW,CACTH,WAAY,YAGhB+C,UAAW,GACXC,aAAc,MAwBlB,OACErC,EAAAC,EAAAC,cAAC2D,EAAD,KACE7D,EAAAC,EAAAC,cAACgG,EAAD,CAAMzC,SAjBO,SAAC3C,GAChBA,EAAE4C,iBAEFjB,EAAM,CAAEsB,KAAIE,gBAAeE,cAAaE,cAAaI,YAAWI,MAAKI,OAAMI,OAAMI,UACjFzB,EAAM,IACNE,EAAiB,IACjBE,EAAe,IACfE,EAAe,IACfI,EAAa,IACbI,EAAO,IACPI,EAAQ,IACRI,EAAQ,IACRI,EAAS,MAML1F,EAAAC,EAAAC,cAACiG,EAAA,EAAD,CAAapE,GAAI,CAAEqE,EAAG,EAAGC,SAAU,KAAOC,KAAK,SAC7CtG,EAAAC,EAAAC,cAACqG,EAAA,EAAD,CAAYC,GAAG,mCAAf,cACAxG,EAAAC,EAAAC,cAACuG,EAAA,EAAD,CACEC,QAAQ,kCACRF,GAAG,4BACHG,MAAM,aACNC,SAAU,SAAC9F,GAAD,OAAOkD,EAAMlD,EAAE+F,OAAOC,SAEhC9G,EAAAC,EAAAC,cAAC6G,EAAA,EAAD,CAAUD,MAAO,IAAKvG,MAAO,CAAEjB,MAAO,SAAtC,OACAU,EAAAC,EAAAC,cAAC6G,EAAA,EAAD,CAAUD,MAAO,IAAKvG,MAAO,CAAEjB,MAAO,SAAtC,YAEUU,EAAAC,EAAAC,cAAA,WACdF,EAAAC,EAAAC,cAAA,oBACAF,EAAAC,EAAAC,cAAC8G,EAAA/G,EAAD,CACEgH,cAAc,EACdjB,UAAWA,GACXC,QAASA,GACTW,SAAU,SAACM,GAETpB,EAAaoB,GACbhD,EAAgB,GAAAiD,OAAID,EAAO,GAAGE,WAAa,IAC3ChD,EAAe8C,EAAO,GAAGG,WACzB/C,EAAc,GAAA6C,OAAID,EAAO,GAAGE,WAAa,IACzC1C,EAAawC,EAAO,GAAGG,WACT,IAAIC,KAAKJ,EAAO,IAClB,IAAII,KAAKJ,EAAO,IAG5BpC,EAAM,GAAAqC,OAlHlB,SAA8BnB,EAAWC,GACvC,IAAIsB,EAASC,EACTC,EAAS,SAAUxH,EAAGyH,EAAGC,GAC3B,OAAO1H,GAAKyH,EAAIC,EAAI1H,GAGtBsH,EAAUtB,EAAUD,EACpBuB,GAAW,MAEX,IAAIK,GAAyB,EAAI5B,EAAU6B,UAAY,EAOvD,OAHAN,GADAA,GAAYK,GAFZJ,EAAsBvB,EAAQ4B,WAGT,EAAK,EAC1BN,GAAWE,EAAOG,EAAwB,GAAI,EAAG,GAAKH,EAAOD,EAAqB,EAAG,GAE9EM,KAAKC,KAAKR,GAkGGS,CAAqBd,EAAO,GAAIA,EAAO,SAGrDlH,EAAAC,EAAAC,cAACiG,EAAA,EAAD,CAAapE,GAAI,CAAEqE,EAAG,EAAGC,SAAU,KAAOC,KAAK,SAC7CtG,EAAAC,EAAAC,cAACqG,EAAA,EAAD,CAAYC,GAAG,mCAAf,SACAxG,EAAAC,EAAAC,cAACuG,EAAA,EAAD,CACEC,QAAQ,kCACRF,GAAG,4BACHG,MAAM,QACNC,SAAU,SAAC9F,GAAD,OAAOwE,EAAQxE,EAAE+F,OAAOC,SAElC9G,EAAAC,EAAAC,cAAC6G,EAAA,EAAD,CAAUD,MAAO,KAAMvG,MAAO,CAAEjB,MAAO,SAAvC,YACAU,EAAAC,EAAAC,cAAC6G,EAAA,EAAD,CAAUD,MAAO,KAAMvG,MAAO,CAAEjB,MAAO,SAAvC,YAEUU,EAAAC,EAAAC,cAAA,WACdF,EAAAC,EAAAC,cAAA,iCAA8BF,EAAAC,EAAAC,cAAA,WAC9BF,EAAAC,EAAAC,cAAA,SAAOC,UAAU,uBAAuBoC,KAAK,OAAO0F,YAAY,MAAMnB,MAAOrB,EAAOmB,SAAU,SAAC9F,GAAD,OAAO4E,EAAS5E,EAAE+F,OAAOC,UAAU9G,EAAAC,EAAAC,cAAA,WACjIF,EAAAC,EAAAC,cApEN,WACE,IAAMH,EAAUjB,KAChB,OAAOkB,EAAAC,EAAAC,cAACU,EAAA,EAAD,CAAQT,UAAWJ,EAAQf,OAAQuD,KAAK,UAAxC,QAkEH,2BC1IF2F,EAAiB/G,YAAO,MAAPA,CAAc,CACpCC,QAAS,OACTC,cAAe,MACfC,WAAY,OACZrC,OAAQ,sBACRK,MAAO,cACPO,OAAQ,gBAGHsI,EAA0BhH,YAAO,MAAPA,CAAc,CAC7CC,QAAS,OACTC,cAAe,QAGV+G,EAAwBjH,YAAO,MAAPA,CAAc,IAItCgB,EAAepD,YAAW,CAC/BC,OAAQ,CACPC,OAAQ,EACRC,aAAc,EACdC,MAAO,QACPC,QAAS,SACTC,WAAY,UACZG,UAAW,CACVH,WAAY,WAEbI,UAAW,CACVJ,WAAY,UACZG,UAAW,CACVH,WAAY,YAGd+C,UAAW,GACXC,aAAc,IAEfgG,YAAa,CACZpJ,OAAQ,EACRC,aAAc,GACdG,WAAY,QACZF,MAAO,MACPK,UAAW,CACVH,WAAY,MACZF,MAAO,YAkCKmJ,EA7BE,SAAA3G,GAA4B,IAAzB4G,EAAyB5G,EAAzB4G,SAAUC,EAAe7G,EAAf6G,SAC7B,OACCxI,EAAAC,EAAAC,cAACgI,EAAD,KACClI,EAAAC,EAAAC,cAACkI,EAAD,KACCpI,EAAAC,EAAAC,cAACiI,EAAD,KACCnI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iCAAiCoI,EAASxE,KAE1D/D,EAAAC,EAAAC,cAACiI,EAAD,KACCnI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iCAAf,QAAqDoI,EAAStE,eAC9DjE,EAAAC,EAAAC,cAAA,iBACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iCAAiCoI,EAASpE,aACzDnE,EAAAC,EAAAC,cAAA,mBACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iCAAiCoI,EAASlE,aACzDrE,EAAAC,EAAAC,cAAA,iBACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iCAAiCoI,EAAS9D,YAE1DzE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iCAAf,SAAsDoI,EAAS1D,KAC/D7E,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iCAAf,SAAsDoI,EAASlD,MAC/DrF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kDACboI,EAAS9C,QAGZzF,EAAAC,EAAAC,cAACU,EAAA,EAAD,CAAQC,QAAS,kBAAM2H,EAASD,EAAS/B,KAAKrG,UAAWgC,IAAekG,aACvErI,EAAAC,EAAAC,cAACuI,EAAAxI,EAAD,SC9DWyI,EAbM,SAAA/G,GAA6B,IAA1BgH,EAA0BhH,EAA1BgH,UAAWH,EAAe7G,EAAf6G,SAClC,OACCxI,EAAAC,EAAAC,cAAA,WACEyI,EAAUC,IAAI,SAACL,GAAD,OACdvI,EAAAC,EAAAC,cAAA,OAAK2I,IAAKN,EAAS/B,GAAIrG,UAAU,mCAChCH,EAAAC,EAAAC,cAAC4I,EAAD,CAAUP,SAAUA,EAAUC,SAAUA,SCGvCO,EAAiB,IACjBC,EAAoB,QAU1B,IAAMzK,EAAeC,YAAY,CAChCC,YAAa,CACZC,OAAQ,CACPC,IAAK,EACLC,GAAI,IACJC,GAAI,QAgCDoK,GA3BSlK,YAAW,CACzBC,OAAQ,CACPC,OAAQ,EACRC,aAAc,EACdC,MAAO,QACPC,QAAS,SACTC,WAAY,UACZC,MAAO,MACPC,UAAW,SACXC,UAAW,CACVH,WAAY,WAEbI,UAAW,CACVJ,WAAY,UACZG,UAAW,CACVH,WAAY,YAGdK,UAAW,QACXC,WAAY,OAEbC,MAAO,CACNN,MAAO,GACPO,OAAQ,MAIQsB,YAAO,MAAPA,CAAc,CAC/B7B,MAAO,QACPO,OAAQ,QACRuB,QAAS,OACTC,cAAe,SACfC,WAAY,SACZC,eAAgB,QAChBpC,MAAO,gBACPqC,gBAAiB,WAGZ0H,GAAU/H,YAAO,MAAPA,CAAc,CAC7B7B,MAAO,MACPO,OAAQ,MACRuB,QAAS,OACTC,cAAe,MACfC,WAAY,SACZE,gBAAiB,QACjB2H,OAAQ,YACRC,UAAW,QACXnK,OAAQ,sBACRG,QAAS,OACTF,aAAc,MACdQ,UAAW,SAGN2J,GAAwBlI,YAAO,MAAPA,CAAc,CAC3CC,QAAS,OACTE,WAAY,OACZC,eAAgB,SAChBF,cAAe,WAGViI,GAAsBnI,YAAO,MAAPA,CAAc,CACzCkF,SAAU,QACVxG,OAAQ,OACRyB,WAAY,SACZC,eAAgB,SAChBgI,UAAW,WAGNC,GAAsBrI,YAAO,MAAPA,CAAc,CACzCC,QAAS,OACTC,cAAe,MACfC,WAAY,SACZC,eAAgB,eAChBjC,MAAO,OACPO,OAAQ,QAGYyI,8MACpBmB,MAAQ,CACPC,KAAM,GACNC,MAAO,GACPhB,UAAW,GACXiB,WAAY,EACZC,mBAAmB,EACnBC,QAAQ,KAITC,WAAa,SAACL,GACb,GAAKM,EAAKP,MAAME,MAAMM,SAASP,GAGxB,CAEN,IADA,IAAIQ,EAAiBF,EAAKP,MAAMd,UACvBwB,EAAI,EAAGA,EAAIH,EAAKP,MAAMd,UAAUyB,OAAQD,IAChDD,EAAeC,GAAftH,OAAAwH,EAAA,EAAAxH,CAAA,GAAyBqH,EAAeC,GAAxC,CAA4CT,SAE7CM,EAAKM,SAAS,CAAE3B,UAAWuB,IAC3BF,EAAKO,eAAeb,QARpBc,QAAQC,IAAIf,GACZgB,MAAM,8BAWRC,YAAc,SAACpC,GACd,IAAM/B,EAAKwD,EAAKP,MAAMG,WAChBgB,EAAW/H,OAAAwH,EAAA,EAAAxH,CAAA,CAAK2D,MAAO+B,GAC7ByB,EAAKM,SAAS,CAAEV,WAAYI,EAAKP,MAAMG,WAAa,IACpDI,EAAKM,SAAS,CAAE3B,UAAS,GAAAxB,OAAAtE,OAAAgI,EAAA,EAAAhI,CAAMmH,EAAKP,MAAMd,WAAjB,CAA4BiC,SAGtDE,eAAiB,SAACtE,GAEjB,IAAMuE,EAAQf,EAAKP,MAAMd,UAAUqC,UAAU,SAAAC,GAAG,OAAIA,EAAIzE,KAAOA,IAC/DwD,EAAKM,SAASN,EAAKP,MAAMd,UAAUuC,OAAOH,EAAO,OAGlDI,WAAa,SAACC,EAAOvG,GACpB,IAAMwG,GAAO,IAAI/D,MAAOgE,cAExB,OADa,IAAIhE,KAAK+D,EAAMD,EAAQ,EAAGvG,MAIxC0F,eAAiB,SAACgB,GACjB,IAAK,IAAIR,EAAQ,EAAGA,EAAQf,EAAKP,MAAMd,UAAUyB,OAAQW,IAAS,CACjE,IAIMxC,EAAW,CAAE/B,GAJRwD,EAAKP,MAAMd,UAAUoC,GAAOvE,GAIhB+E,WAAUC,WAHdxB,EAAKmB,WAAWnB,EAAKP,MAAMd,UAAUoC,GAAO9G,cAAe+F,EAAKP,MAAMd,UAAUoC,GAAO5G,aAAasH,UAG1EC,SAF5B1B,EAAKmB,WAAWnB,EAAKP,MAAMd,UAAUoC,GAAO1G,YAAa2F,EAAKP,MAAMd,UAAUoC,GAAOtG,WAAWgH,UAE1DE,SADtC3B,EAAKP,MAAMd,UAAUoC,GAAOlG,KAE7CmF,EAAK4B,MAAMC,OAAOC,KAAK,gBAAiBvD,GAEzCyB,EAAKM,SAAS,CAAEV,WAAY,IAC5BI,EAAKM,SAAS,CAAET,mBAAmB,IACnCG,EAAKM,SAAS,CAAE3B,UAAW,QAG5BoD,UAAY,SAACC,GACZ,IAAKA,EACJ,OAAO,KAIR,IAFA,IAAMC,EAAaC,KAAKC,MAAMH,GAC1BI,EAAY,GACPjC,EAAI,EAAGA,EAAI8B,EAAW7B,OAAQD,IACtCiC,EAAUC,KAAKJ,EAAW9B,GAAGoB,UAE9BvB,EAAKM,SAAS,CAAEX,MAAOyC,IACvBpC,EAAKM,SAAS,CAAER,QAAQ,IACxBU,QAAQC,IAAI2B,MAGbE,SAAW,WACVC,MAAMxD,EAAiBC,GACrBwD,KAAK,SAAAC,GACL,OAAOA,EAASC,SAEhBF,KAAK,SAAAR,GACLhC,EAAK+B,UAAUC,yFAKjBW,KAAKL,+CAIL,YApLkBM,IADFjJ,eAAaC,IAAI,SAsLhC5D,EAAAC,EAAAC,cAAC+I,EAAD,KACCjJ,EAAAC,EAAAC,cAAC2M,EAAD,MACA7M,EAAAC,EAAAC,cAACgJ,GAAD,CAASpH,MAAOvD,EAAcwD,GAAI,CACjClC,OAAQ,CACPlB,IAAK,OACLC,GAAI,MACJC,GAAI,SAGLmB,EAAAC,EAAAC,cAACsJ,GAAD,CAAqB1H,MAAOvD,EAAcwD,GAAI,CAC7CV,cAAe,CACd1C,IAAK,SACLC,GAAI,SACJC,GAAI,OAELgB,OAAQ,CACPlB,IAAK,MACLC,GAAI,MACJC,GAAI,SAGLmB,EAAAC,EAAAC,cAACmJ,GAAD,KACCrJ,EAAAC,EAAAC,cAAC4M,EAAD,CAAerK,MAAOkK,KAAKhC,cAC3B3K,EAAAC,EAAAC,cAAC6M,EAAD,CAAUtK,MAAOkK,KAAK5C,aACrB4C,KAAKlD,MAAMI,kBAAqB7J,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BAAf,kCAAmF,IAErHH,EAAAC,EAAAC,cAACoJ,GAAD,CAAqBxH,MAAOvD,EAAcwD,GAAI,CAC7CT,WAAY,CACX3C,IAAK,UAGLgO,KAAKlD,MAAMd,UAAUyB,OAAS,EAAKpK,EAAAC,EAAAC,cAAC8M,EAAD,CAAcrE,UAAWgE,KAAKlD,MAAMd,UAAWH,SAAUmE,KAAK7B,iBAAuB9K,EAAAC,EAAAC,cAAA,sCAM1Ha,OAAOC,SAASC,KAAO,qCAI3B,OAAQ0L,KAAKlD,MAAMK,OAAS6C,KAAKM,YAChCjN,EAAAC,EAAAC,cAAA,sCAlImCgN,IAAMC,yGCtG7B,SAASC,GAATzL,GAAgF,IAA/DC,EAA+DD,EAA/DC,MAAepB,GAAgDmB,EAAxDkK,OAAwDlK,EAAhDnB,UAAU6M,EAAsC1L,EAAtC0L,MAAOC,EAA+B3L,EAA/B2L,KAAMC,EAAyB5L,EAAzB4L,SAAUC,EAAe7L,EAAf6L,YAE5E,OACIxN,EAAAC,EAAAC,cAACF,EAAAC,EAAMwN,SAAP,KACIzN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAaI,MAAO,CAAEmN,SAAUlN,EAASmN,EAAI,MAAQnN,EAASoN,EAAI,oBAAsBP,EAAMjD,SACzGpK,EAAAC,EAAAC,cAAC2N,GAAA,EAAD,CAAOC,UAAU,MAAMC,QAAS,GAC5B/N,EAAAC,EAAAC,cAAC8N,GAAA,EAAD,CAAYC,aAAW,OAAOpN,QAAS0M,GACnCvN,EAAAC,EAAAC,cAACgO,GAAAjO,EAAD,OAEJD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeyB,GAC7B5B,EAAAC,EAAAC,cAAC8N,GAAA,EAAD,CAAYC,aAAW,OAAOpN,QAASyM,GACnCtN,EAAAC,EAAAC,cAACiO,GAAAlO,EAAD,OAEJD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeqN,KAIjCH,EAAMzE,IAAI,SAACwF,EAAMjE,GACb,OAAOnK,EAAAC,EAAAC,cAAA,OAAK2I,IAAKjH,EAAQwM,EAAMjO,UAAU,WAAWI,MAAO,CAAEmN,SAAWlN,EAASmN,EAAI,EAAK,OAASnN,EAASoN,EAAIzD,GAAK,uBAChHiE,gDCHnBC,GAAa,SAACC,GAClB/B,MAAMxD,YACHyD,KAAK,SAAAC,GACJ,OAAOA,EAASC,SAEjBF,KAAK,SAAAR,GACJsC,EAtBY,SAACtC,GACjB,IAAKA,EACH,OAAO,KAET,IAAMC,EAAaC,KAAKC,MAAMH,GAC9BxB,QAAQC,IAAIwB,GAGZ,IADA,IAAIsC,EAAc,GACTpE,EAAI,EAAGA,EAAI8B,EAAW7B,OAAQD,IAAK,CAC1C,IAAMqE,EAAS,CAAE1H,MAAOmF,EAAW9B,GAAGsE,WAAY9H,MAAOsF,EAAW9B,GAAGvI,OAEvE2M,EAAYlC,KAAKmC,GAEnB,OAAOD,EASMxC,CAAUC,OAIV,SAAS9J,GAATP,GAAiE,IAAjDC,EAAiDD,EAAjDC,MAAO8M,EAA0C/M,EAA1C+M,WAAYJ,EAA8B3M,EAA9B2M,SAA8BK,EAAAhN,EAApBiN,gBAAoB,IAAAD,KAAAjM,EACpDC,mBAAS,IAD2CC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACvEmM,EADuEjM,EAAA,GAChEkM,EADgElM,EAAA,GAAAI,EAElCL,mBAAS,MAFyBM,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAEvE+L,EAFuE9L,EAAA,GAEvD+L,EAFuD/L,EAAA,GAAAE,EAGhDR,oBAAS,GAHuCS,EAAAP,OAAAC,EAAA,EAAAD,CAAAM,EAAA,GAGvE8L,EAHuE7L,EAAA,GAG7D8L,EAH6D9L,EAAA,GAAAE,EAIxCX,mBAAS,IAJ+BY,EAAAV,OAAAC,EAAA,EAAAD,CAAAS,EAAA,GAIvEiL,EAJuEhL,EAAA,GAI1D4L,EAJ0D5L,EAAA,GAM9E6L,oBAAU,WACJR,EACFP,GAAW,SAACrC,GACVmD,EAAenD,GACfkD,GAAU,KAGZA,GAAU,IAEX,IAsCH,OACElP,EAAAC,EAAAC,cAACF,EAAAC,EAAMwN,SAAP,KACGwB,EApCDjP,EAAAC,EAAAC,cAAA,OAAK2I,IAAKjH,EAAQ,OAAQrB,MAAO,CAAEa,QAAS,SAAUZ,SAAU,WAE5DoO,EACE5O,EAAAC,EAAAC,cAACF,EAAAC,EAAMwN,SAAP,KACEzN,EAAAC,EAAAC,cAAA,SAAOmP,KAAM,SAAUxG,IAAK,gBAA5B,UACA7I,EAAAC,EAAAC,cAACoP,GAAA,EAAD,CACEC,aAAcR,EACdnI,SAAUoI,EACVQ,QAASjB,UAIb3B,EAEH8B,EAAW9F,IAAI,SAACwF,EAAMjE,GACrB,OACEnK,EAAAC,EAAAC,cAACF,EAAAC,EAAMwN,SAAP,CAAgB5E,IAAKuF,EAAO,cAC1BpO,EAAAC,EAAAC,cAAA,SAAOmP,KAAMjB,EAAO,SAAUvF,IAAKuF,EAAO,UAAWA,GACrDpO,EAAAC,EAAAC,cAAA,SAAOmP,KAAMjB,EAAO,SAAUvF,IAAKuF,EAAO,SAAUqB,QAAS,SAAA3O,GAAC,OAAIgO,EAASjM,OAAAwH,EAAA,EAAAxH,CAAA,GAAKgM,EAANhM,OAAA6M,GAAA,EAAA7M,CAAA,GAAcuL,EAAKuB,MAAM,KAAKC,KAAK,IAAIC,cAAgB/O,EAAE+F,OAAOC,YAC1I9G,EAAAC,EAAAC,cAAA,cAKJ0O,EACE5O,EAAAC,EAAAC,cAAA,UAAQmP,KAAMzN,EAAQ,UAAWiH,IAAKjH,EAAQ,UAAWf,QAAS,kBAAMyN,EAASzL,OAAAwH,EAAA,EAAAxH,CAAA,CAAEiN,OAAQf,EAAejI,MAAOlF,MAAOmN,EAAepI,OAAUkI,EAAjE,CAAwEkB,YAAY,IAAIzI,MAAOmE,eAA/K,UAEAzL,EAAAC,EAAAC,cAAA,UAAQmP,KAAMzN,EAAQ,UAAWiH,IAAKjH,EAAQ,UAAWf,QAAS,kBAAMyN,EAASzL,OAAAwH,EAAA,EAAAxH,CAAA,GAAKgM,EAAN,CAAakB,YAAY,IAAIzI,MAAOmE,eAApH,WAYJzL,EAAAC,EAAAC,cAAA,mCCtFO,SAAS8P,GAATrO,GAAgDA,EAAhC0N,KAAgC,IAA1B7O,EAA0BmB,EAA1BnB,SAA0BmB,EAAhBsO,aAE7C,OACEjQ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAYI,MAAO,CAAEC,SAAU,WAAYkN,SAAUlN,EAASmN,EAAI,MAAQnN,EAASoN,EAAI,wBCH3F,SAASsC,GAATvO,GAAkF,IAA9DnB,EAA8DmB,EAA9DnB,SAAUkM,EAAoD/K,EAApD+K,KAAMpN,EAA8CqC,EAA9CrC,MAAOO,EAAuC8B,EAAvC9B,OAAQsQ,EAA+BxO,EAA/BwO,eAAgBF,EAAetO,EAAfsO,aAyB1EG,EAxBmB,WAEnB,IADA,IAAIC,EAAQ,GACJzC,EAAI,EAAGA,EAAItO,EAAOsO,IACtB,IAAI,IAAID,EAAI,EAAGA,EAAI9N,EAAQ8N,IACvB0C,EAAMhE,KAAK,CACPxD,IAAK6D,EAAO,MAAQlM,EAASmN,EAAIA,GAAK,MAAQnN,EAASoN,EAAIA,GAC3D0C,IAAK,CAAC3C,EAAGnN,EAASmN,EAAIA,EAAIC,EAAGpN,EAASoN,EAAIA,EAAI,KAI1D,OAAOyC,EAcKE,GAEhB,OACIvQ,EAAAC,EAAAC,cAACF,EAAAC,EAAMwN,SAAP,KACIzN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBAAkBI,MAAO,CAACmN,SAAUlN,EAASmN,EAAI,MAAQnN,EAASoN,EAAI,uBAE/C,IAA9BjK,eAAaC,IAAI,SACjB5D,EAAAC,EAAAC,cAAA,UAAQmP,KAAM3C,EAAO,UAAWvM,UAAU,wBAAwBU,QAASsP,GACvEnQ,EAAAC,EAAAC,cAAA,yBAGJ0M,EAEJ5M,EAAAC,EAAAC,cAAA,SAAIwM,IAEP0D,EAAUxH,IAAI,SAACwF,EAAMjE,GAClB,OA3BM,SAACiE,EAAMjE,GACrB,OACInK,EAAAC,EAAAC,cAAC8P,GAAD,CAAMnH,IAAKuF,EAAKvF,IAAKrI,SAAU,CAACmN,EAAGS,EAAKkC,IAAI3C,EAAGC,EAAGQ,EAAKkC,IAAI1C,GAE3DqC,aAAc7B,EAAKkC,IAAI3C,EAAI,IAAM,EAAIsC,EAAe,KACpDZ,KAAM3C,IAuBE8D,CAAWpC,MCxChB,SAASqC,GAAT9O,GAAiH,IAA1FkK,EAA0FlK,EAA1FkK,OAAQ6E,EAAkF/O,EAAlF+O,YAAaC,EAAqEhP,EAArEgP,gBAAiBV,EAAoDtO,EAApDsO,aAAcW,EAAsCjP,EAAtCiP,WAAYC,EAA0BlP,EAA1BkP,aAAcC,EAAYnP,EAAZmP,UAC1GC,EAAwBJ,EAD8FjO,EAOhGC,mBAHV,IAGmBoO,EAAsB3G,QAPiExH,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAOrH7C,EAPqH+C,EAAA,GAO7GoO,EAP6GpO,EAAA,GAAAI,EAUhFL,mBAASoO,GAVuE9N,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAUrHiO,EAVqHhO,EAAA,GAUrGiO,EAVqGjO,EAAA,GA4BtHkO,EAAkB,SAACtI,EAAK8E,GAAiB,IAAd7B,IAAcsF,UAAAhH,OAAA,QAAAwC,IAAAwE,UAAA,KAAAA,UAAA,GAE3CF,EAAkB,SAAAD,GAAc,OAAII,KAAEC,OAAOL,EAAgB,SAACM,GAAa,OAAOA,EAAQ1I,MAAQA,MAClGmI,EAAU,SAAAnR,GAAM,OAAIA,EA3BN,MA8Bd6Q,EAAYc,IAAkC,GAA7BP,EAAe7G,OAAS,IAGzCyG,EAAahI,EAAK8E,EAAI,GAEnB7B,GACCD,EAAOC,KAAK,cAAejD,EAAK8E,IAsDxC,OAzCAyB,oBAAU,WACNvD,EAAO4F,GAAG,YAAa,SAAC/H,EAAMD,GAC1Be,QAAQC,IAAI,UAAYyB,KAAKwF,UAAUhI,IA1C1B,SAACA,GAAoB0H,UAAAhH,OAAA,QAAAwC,IAAAwE,UAAA,KAAAA,UAAA,IAIlCF,EAAkB,SAAAD,GAAc,SAAA9J,OAAAtE,OAAAgI,EAAA,EAAAhI,CAAQoO,GAAR,CAAwB,CAACpI,IAAKa,EAAK6B,SAAU8D,KAAM3F,EAAKiI,UAAY,IAAMjI,EAAKkI,SAAUC,WAAY,GAAIlJ,UAAW,QAGpJ+H,EAAYc,IAAkC,GAA7BP,EAAe7G,OAAS,IACzC4G,EAAU,SAAAnR,GAAM,OAAIA,EAjBV,MAoBViR,EAAUpH,IATVmC,EAAOC,KAAK,YAAapC,GAyCzBoI,CAAapI,GAAM,EAAOD,KAG9BoC,EAAO4F,GAAG,cAAe,SAACjL,EAAImH,GAC1BnD,QAAQC,IAAIkD,GACZnD,QAAQC,IAAIjE,GACZ2K,EAAgB3K,EAAImH,GAAG,MAE5B,IA+BS3N,EAAAC,EAAAC,cAACF,EAAAC,EAAMwN,SAAP,KACIzN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBAAwBI,MAAO,CAACV,OAAOA,IAE9CoR,EAAerI,IAAI,SAACwF,EAAMjE,GACtB,OAxDJ,SAACiE,EAAMjE,GAC3B,IAAMwD,EAAQ,EAAJxD,EAAQ,EAClB,OAAOnK,EAAAC,EAAAC,cAACgQ,GAAD,CAAWrH,IAAKuF,EAAKvF,IAAM,YAAcsB,EAAG0B,OAAQA,EAAQa,KAAM0B,EAAKiB,KACtE7O,SAAU,CAACmN,EAAGA,EAAGC,EAAG,GAAItO,MAAOsR,EAAY/Q,OAAQ,EACnDsQ,eAAgB,WACZgB,EAAgB/C,EAAKvF,IAAK8E,IAC1BsC,aAAcA,IAmDE8B,CAAgB3D,EAAMjE,wCCnGrC6H,eAYnB,SAAAA,EAAArQ,GACkE,IAAAqI,EADpD4B,EACoDjK,EADpDiK,MAAOC,EAC6ClK,EAD7CkK,OAAQ6E,EACqC/O,EADrC+O,YAAauB,EACwBtQ,EADxBsQ,mBAAoBC,EACIvQ,EADJuQ,gBAC5DtB,EAAgEjP,EAAhEiP,WAAuBuB,GAAyCxQ,EAApDyQ,UAAoDzQ,EAAzCwQ,mBAAmBE,EAAsB1Q,EAAtB0Q,aAAsB1Q,EAAR0J,KAAQxI,OAAAyP,EAAA,EAAAzP,CAAA8J,KAAAqF,IAChEhI,EAAAnH,OAAA0P,EAAA,EAAA1P,CAAA8J,KAAA9J,OAAA2P,EAAA,EAAA3P,CAAAmP,GAAAS,KAAA9F,KAAMf,KAgIR8G,YAAc,SAACtE,GACb,IAAK,IAAIjE,EAAI,EAAGA,EAAIH,EAAKP,MAAMkJ,OAAOvI,OAAQD,IAC5C,GAAIH,EAAKP,MAAMkJ,OAAOxI,GAAGA,IAAMiE,EAAKjE,EAAG,CACrC,IAAMyI,EAAY5I,EAAKP,MAAMkJ,OAAOE,QACpCD,EAAUzI,GAAKiE,EAEfpE,EAAKM,SAAS,CACZqI,OAAQC,IAGV,QA3I4D5I,EAgJlE8I,eAAiB,SAACH,GAChB3I,EAAKM,SAAS,CACZqI,OAAQA,KAlJsD3I,EAsJlE+I,aAAe,SAACJ,EAAQK,EAASC,GAE/B,IAAMjN,EAAYkN,GAAalJ,EAAKP,MAAMyI,gBAAiBe,EAAQtF,GAC7D1H,EAAUiN,GAAalJ,EAAKP,MAAMyI,gBAAiBe,EAAQE,EAAIF,EAAQtF,EAAI,GAG3E5C,EAAQsG,KAAErG,UAAUhB,EAAKoJ,WAAY,SAAC7B,GAAc,OAAOA,EAAQvF,KAAK7B,EAAEkJ,aAAeJ,EAAQ9I,IACjGmJ,EAAYtJ,EAAKoJ,WAAWrI,GAG5BwI,EAAkBN,EACxBM,EAAgB3F,EAAIoF,EAAQpF,EAC5B5D,EAAK0I,YAAYa,GAEjB,IAAMC,EAAaxJ,EAAKP,MAAMkH,gBAAgB7I,KAAK2L,MAAMR,EAAQrF,EAAI,IACrE5D,EAAK6B,OAAOC,KAAK,cAAeyH,EAAiB,CAAEhI,SAAUiI,EAAW3K,IAAK6K,UAAWJ,EAAUI,UAAWC,KAAML,EAAUK,KAAMC,MAAO5N,EAAUyF,UAAWoI,IAAK5N,EAAQwF,aArK5GzB,EAwKlE8J,cAAgB,SAACC,GACf,IAAMH,EAAQI,GAAchK,EAAKP,MAAMyI,gBAAiB,IAAI5K,KAAKyM,EAAKvI,aAChEqI,EAAMG,GAAchK,EAAKP,MAAMyI,gBAAiB,IAAI5K,KAAKyM,EAAKrI,WAAa,EAC3EX,EAAQsG,KAAErG,UAAUhB,EAAKP,MAAMkH,gBAAiB,SAACY,GAAc,OAAOA,EAAQ1I,MAAQkL,EAAKxI,WAE3FX,EAAc,CAClB8B,KAAMqH,EAAKxI,SAAW,cACtB0I,IAAKF,EAAKxI,SACV2I,IAAKH,EAAKI,YACVnI,KAAM,CACJ7B,EAAG4J,EAAKxI,SAAWwI,EAAKI,YACxBxG,EAAGiG,EACHhG,EAAY,EAAR7C,EAAa,EACjBoI,EAAGU,EAAMD,EACTQ,EAAG,IAIPpK,EAAKM,SAAS,CACZ+J,MAAOrK,EAAKP,MAAM4K,MAAMlN,OACtByD,MA5L4DZ,EAiMlEsK,YAAc,SAAC9F,GAAsC,IAA9Bb,EAA8ByD,UAAAhH,OAAA,QAAAwC,IAAAwE,UAAA,GAAAA,UAAA,GAA1B,EAAGxD,EAAuBwD,UAAAhH,OAAA,QAAAwC,IAAAwE,UAAA,GAAAA,UAAA,GAAnB,EAAGtF,IAAgBsF,UAAAhH,OAAA,QAAAwC,IAAAwE,UAAA,KAAAA,UAAA,GAC7C+B,EAAIoB,SAAS/F,EAAOgG,YAE1BhK,QAAQC,IAAIkD,GAEZ,IAAM3H,EAAYkN,GAAalJ,EAAKP,MAAMyI,gBAAiBvE,EAAI3D,EAAK4B,MAAMwG,WACpEnM,EAAUiN,GAAalJ,EAAKP,MAAMyI,gBAAiBiB,EAAIxF,EAAI3D,EAAK4B,MAAMwG,WACtEoB,EAAaxJ,EAAKP,MAAMkH,gBAAgB7I,KAAK2L,MAAM7F,EAAI,IAEvDgG,EAAQI,GAAchK,EAAKP,MAAMyI,gBAAiBlM,GAClD6N,EAAMG,GAAchK,EAAKP,MAAMyI,gBAAiBjM,QAGnC2G,IAAf4G,IAIA1H,EACF9B,EAAK6B,OAAOC,KAAK,cAAjBjJ,OAAAwH,EAAA,EAAAxH,CAAA,GAAqC2L,EAArC,CAA6Cb,EAAGA,EAAGC,EAAGA,EAAG6G,cAAejB,EAAW3K,IAAK6K,UAAWlF,EAAOsB,OAAQ8D,MAAO5N,EAAUyF,UAAWoI,IAAK5N,EAAQwF,aAE3JzB,EAAKM,SAAS,CAEZ+J,MAAOrK,EAAKP,MAAM4K,MAAMlN,OAAO,CAC7ByM,MAAOA,EACPC,IAAKA,EACLnH,KAAM8B,EAAO5M,MACb8S,OAAQlB,EAAW3K,IACnB6K,UAAWlF,EAAOsB,OAClB6D,KAAMnF,EAAOmF,KACb3H,KAAM,CACJ7B,EAAGqE,EAAOmF,KACVhG,EAAGA,EACHC,EAAGA,EACHuF,EAAGA,EACHiB,EAAG,OAKX5J,QAAQC,IAAIT,EAAKP,MAAM4K,SAxOyCrK,EAkQlE6G,aAAe,SAAChI,EAAK+E,GACnB,IAAM+G,EAAgB3K,EAAKP,MAAMkH,gBAAgBvG,OACjDJ,EAAKM,SAAS,CAAEqG,gBAAiBU,KAAEC,OAAOtH,EAAKP,MAAMkH,gBAAiB,SAACY,GAAc,OAAOA,EAAQ1I,MAAQA,KAC1G,WAEMmB,EAAKP,MAAMkH,gBAAgBvG,SAAWuK,IAExCnK,QAAQC,IAAI,qBAAuBmD,GACnC5D,EAAKM,SAAS,CAAE+J,MAAOhD,KAAEC,OAAOtH,EAAKP,MAAM4K,MAAO,SAAC9C,GAAc,OAAOA,EAAQvF,KAAK4B,IAAMA,GAAK2D,EAAQvF,KAAK4B,IAAMA,EAAI,KACnH,WACApD,QAAQC,IAAIT,EAAKP,MAAM4K,OAEvBrK,EAAKM,SAAS,CACZ+J,MAAOhD,KAAEuD,OAAO5K,EAAKP,MAAM4K,MAAO,SAACQ,EAAKtD,GACtC,GAAIA,EAAQvF,KAAK4B,EAAIA,EAAG,CACtB,IAAMkH,EAAavD,EAEnB,OADAuD,EAAW9I,KAAK4B,GAAK,EACrB,GAAAzG,OAAAtE,OAAAgI,EAAA,EAAAhI,CAAWgS,GAAX,CAAgBC,IAEhB,SAAA3N,OAAAtE,OAAAgI,EAAA,EAAAhI,CAAWgS,GAAX,CAAgBtD,KAEjB,KAEH,WACEvH,EAAKM,SAAS,CACZqI,OAAQtB,KAAEuD,OAAO5K,EAAKP,MAAM4K,MAAO,SAACQ,EAAKtD,GACvC,QAAoB3E,IAAhB2E,EAAQ2C,IAAmB,CAC7B,IAAMa,EAAQlS,OAAAwH,EAAA,EAAAxH,CAAA,GAAQ0O,EAAQvF,KAAhB,CAAsBgJ,aAAa,EAAOC,aAAa,IACrE,SAAA9N,OAAAtE,OAAAgI,EAAA,EAAAhI,CAAWgS,GAAX,CAAgBE,IAEhB,IAAMA,EAAWxD,EAAQvF,KACzB,SAAA7E,OAAAtE,OAAAgI,EAAA,EAAAhI,CAAWgS,GAAX,CAAgBE,KAEjB,MAELvK,QAAQC,IAAIT,EAAKP,MAAMkJ,gBArS2B3I,EA6SlE8G,UAAY,SAACpH,GACXM,EAAKM,SAAS,CAAEqG,gBAAe,GAAAxJ,OAAAtE,OAAAgI,EAAA,EAAAhI,CAAMmH,EAAKP,MAAMkH,iBAAjB,CAAkC,CAAE9H,IAAKa,EAAK6B,SAAU8D,KAAM3F,EAAKiI,UAAY,IAAMjI,EAAKkI,SAAUC,WAAY,GAAIlJ,UAAW,SA9S9FqB,EAkYlEkL,OAAS,kBAAMlL,EAAKmL,eA/XlB,IAAIC,EAAsBlD,EAAgBmD,gBAAgBhD,GAHM,OAKhErI,EAAKP,MAAQ,CAEX4K,MAAOpC,EAAmB2C,OAAO,SAAUC,EAAKtD,EAASxG,GACvD,OAAmC,IAA9BwG,EAAQM,WAAWzH,QAA6C,IAA7BmH,EAAQ5I,UAAUyB,QAA4C,IAA3B8H,EAAgB9H,OAClFyK,EAICA,EAAI1N,OACZoK,EAAQM,WAAWjJ,IAAI,SAACmL,GACtB,IAAMH,EAAQI,GAAc9B,EAAiB6B,EAAKH,OAC5CC,EAAMG,GAAc9B,EAAiB6B,EAAKF,KAChDrJ,QAAQC,IAAI,aAAcmJ,EAAOC,GACjC,IAAMvU,EAAQgW,GAAe1B,EAAOC,EAAK3B,EAAiBkD,GAE1D,MACE,CACExB,MAAOA,EACPC,IAAKA,EACLnH,KAAMqH,EAAK1E,KACXsE,KAAMI,EAAKJ,KACXe,OAAQX,EAAKW,OACbhB,UAAWK,EAAKL,UAChB1H,KAAM,CACJ7B,EAAG4J,EAAKJ,KACRhG,EAAGiG,EACHhG,EAAW,EAAR7C,EACHoI,EAAG7T,EACH8U,EAAG,OAOFjN,OACToK,EAAQ5I,UAAUC,IAAI,SAACmL,GACrB,IAAMH,EAAQI,GAAc9B,EAAiB6B,EAAKwB,eAC5C1B,EAAMG,GAAc9B,EAAiB6B,EAAKyB,aAAe,EAEzDlW,EAAQgW,GAAe1B,EAAOC,EAAK3B,EAAiBkD,GAC1D,MACE,CACExB,MAAOA,EACPC,IAAKA,EACLnH,KAAMqH,EAAKW,OAAS,cACpBT,IAAKF,EAAKW,OACVR,IAAKH,EAAK0B,WACVzJ,KAAM,CACJ7B,EAAG4J,EAAKW,OAASX,EAAK0B,WACtB9H,EAAGiG,EACHhG,EAAY,EAAR7C,EAAa,EACjBoI,EAAG7T,EACH8U,EAAG,QAMZ,IACH1D,YAAaA,EAAY9M,IACzBsO,gBAAiBA,EACjBvB,gBAAiBsB,EACjByD,WAAYvD,GAGdnI,EAAK6B,OAASA,EACd7B,EAAK0G,YAAcA,EACnB1G,EAAK4G,WAAaA,EAClB5G,EAAK2L,OAASxD,EACdnI,EAAKoJ,WAAapJ,EAAKP,MAAM4K,MAAMuB,OAAO,SAAC7B,GAKzC,OAAc,IAFAuB,GAFAvB,EAAKH,MACPG,EAAKF,IACwB3B,EAAiBkD,KAQ5DpL,EAAK6L,WAAa,GAElB7L,EAAK6B,OAAO4F,GAAG,cAAe,SAACrD,GAC7B5D,QAAQC,IAAI,kBAAoByB,KAAKwF,UAAUtD,IAE/CpE,EAAK0I,YAAYtE,KAGnBpE,EAAK6B,OAAO4F,GAAG,cAAe,SAACrD,GAC7B5D,QAAQC,IAAI,kBAAoByB,KAAKwF,UAAUtD,IAE/C,IAAI0H,EAAO,IAAIxO,KAAK8G,EAAKwF,OAIrBmC,EAA8C,IAFjCD,EAAKxK,cAEStB,EAAK4B,MAAMP,MAE1CyK,EAAKE,SAASF,EAAK1O,WAAa2O,GAEhC3H,EAAKwF,MAAQkC,EAAKrK,UAElBzB,EAAKsK,YAAYlG,EAAMmG,SAASnG,EAAKT,GAAI4G,SAASnG,EAAKR,IAAI,KAG7D5D,EAAK6B,OAAO4F,GAAG,gBAAiB,SAACtH,GAC/BK,QAAQC,IAAI,kBAAoByB,KAAKwF,UAAUvH,IAE/CH,EAAKiM,aAAa9L,GAAG,KAGvBH,EAAK6B,OAAO4F,GAAG,mBAAoB,SAAClJ,GAClCiC,QAAQC,IAAI,kBAAoByB,KAAKwF,UAAUnJ,IAE/CyB,EAAK8J,cAAcvL,KAGrByB,EAAK6B,OAAO4F,GAAG,kBAAmB,SAAClJ,GACjCiC,QAAQC,IAAI,kBAAoByB,KAAKwF,UAAUnJ,IAE/CyB,EAAKkM,iBAAiB3N,EAAS4L,aAAa,KA7HkBnK,4EA2OrDG,GAAgB,IAAb2B,IAAasF,UAAAhH,OAAA,QAAAwC,IAAAwE,UAAA,KAAAA,UAAA,GAErBrG,EAAQsG,KAAErG,UAAU2B,KAAKlD,MAAM4K,MAAO,SAAC9C,GAAc,OAAOA,EAAQvF,KAAK7B,IAAMA,IAC/EmJ,EAAY3G,KAAKlD,MAAM4K,MAAMtJ,GAG/Be,GACFa,KAAKd,OAAOC,KAAK,gBAAiBwH,EAAWnJ,GAI/CwC,KAAKrC,SAAS,CAAE+J,MAAOhD,KAAEC,OAAO3E,KAAKlD,MAAM4K,MAAO,SAAC9C,GAAc,OAAOA,EAAQvF,KAAK7B,IAAMA,+CAG5E+J,MAAkB9C,UAAAhH,OAAA,QAAAwC,IAAAwE,UAAA,KAAAA,UAAA,KAE/BzE,KAAKd,OAAOC,KAAK,kBAAmB,CAAEqI,YAAaD,IAIrDvH,KAAKrC,SAAS,CAAE+J,MAAOhD,KAAEC,OAAO3E,KAAKlD,MAAM4K,MAAO,SAAC9C,GAAc,OAAOA,EAAQ2C,MAAQA,4CAkD5EiC,GAAgC,IAA5BC,EAA4BhF,UAAAhH,OAAA,QAAAwC,IAAAwE,UAAA,IAAAA,UAAA,GAAAA,UAAAhH,OAAA,GAAAgH,UAAA,GAiB5C,OACEpR,EAAAC,EAAAC,cAAA,OAAK2I,IAAKsN,EAAGnK,KAAK7B,EAAGkM,YAAWD,EAAUvT,OAAAwH,EAAA,EAAAxH,CAAA,GAAQsT,EAAGnK,KAAX,CAAiBgJ,aAAa,EAAOC,aAAa,IAAUkB,EAAGnK,KACvGqD,KAAM8G,EAAGzJ,KAAO,OAChB1M,EAAAC,EAAAC,cAAA,QAAMC,UAAU,QAAQgW,EAAGzJ,MAEO,IAA9B/I,eAAaC,IAAI,SACjB5D,EAAAC,EAAAC,cAAA,QACEC,UAAU,SACVI,MAxBU,CAClBC,SAAU,WACV8V,MAAO,MACP5V,IAAK,EACL6V,OAAQ,UACRnX,QAAS,MACTD,MAAO,SAmBC0B,QAASuV,EAAazJ,KAAKuJ,iBAAiBM,KAAK7J,KAAMwJ,EAAGjC,KAAOvH,KAAKsJ,aAAaO,KAAK7J,KAAMwJ,EAAGnK,KAAK7B,IAHxG,UAQAyC,EAEFwJ,GAA4C,IAA9BzS,eAAaC,IAAI,cAe/BgJ,EAdA5M,EAAAC,EAAAC,cAACuW,GAAA,EAAD,CACEC,GAAI,CACFC,SAAU,qBACVC,OAAQ,cAAgBT,EAAGzC,YAG7B1T,EAAAC,EAAAC,cAAA,QACEC,UAAU,SACVI,MAjCM,CACdC,SAAU,WACVC,KAAM,MACNoW,OAAQ,EACRN,OAAQ,UACRnX,QAAS,MACTD,MAAO,UAyBD,qDAcKyM,GAAO,IAAAkL,EAAAnK,KAEdoK,EAAkBC,yBAAcC,MAGtC,OADAtK,KAAKuK,cAEHlX,EAAAC,EAAAC,cAAC6W,EAADlU,OAAAsU,OAAA,GACMvL,EADN,CAEEwL,KAAMzK,KAAKf,MAAMuG,kBACjBkF,QAAS1K,KAAKlD,MAAMiH,cACpBiC,OAAQhG,KAAKlD,MAAMkJ,OACnBqC,iBAA2CpI,IAA9BjJ,eAAaC,IAAI,SAC9BqR,iBAA2CrI,IAA9BjJ,eAAaC,IAAI,SAC9B0T,UAAU,IAET3K,KAAKyG,WAAWxK,IAAI,SAAAuN,GAAE,OAAIW,EAAK5W,cAAciW,OAAevJ,IAAXuJ,EAAGjC,IAAkC4C,EAAKlL,MAAMuG,iEAKrFoF,EAAWC,GACxB7K,KAAKf,MAAMsG,gBAAgBmD,gBAAgB1I,KAAKf,MAAMyG,cAAcjH,QAAUmM,EAAUrF,gBAAgBmD,gBAAgB1I,KAAKf,MAAMyG,cAAcjH,OACnJuB,KAAKmG,eAAenG,KAAKkJ,wDAQ3B9U,OAAO0W,iBAAiB,SAAU9K,KAAKuI,8CAG3B,IAAAwC,EAAA/K,KAER0H,EAAQ,GAERsD,EAAShL,KAAKlD,MAAM4K,MAAMuB,OAAO,SAACxH,GAKpC,OAAc,IADAkH,GAHAlH,EAAKwF,MACPxF,EAAKyF,IAEwB6D,EAAK9L,MAAMsG,gBAAiBwF,EAAK9L,MAAMsG,gBAAgBmD,gBAAgBqC,EAAK9L,MAAMyG,iBAkB7H,OAVAsF,EAAOC,QAAQ,SAAArG,GACb,IAAMjS,EAAQgW,GAAe/D,EAAQqC,MAAOrC,EAAQsC,IAAK6D,EAAK9L,MAAMsG,gBAAiBwF,EAAK9L,MAAMsG,gBAAgBmD,gBAAgBqC,EAAK9L,MAAMyG,eAC3Id,EAAQvF,KAAKmH,EAAI7T,EACjBiS,EAAQvF,KAAK7B,EAAIoH,EAAQvF,KAAK7B,EAAEkJ,WAChC9B,EAAQvF,KAAK6L,KAAOH,EAAK9L,MAAMuG,kBAC/BkC,EAAMhI,KAAKkF,EAAQvF,QAErBW,KAAKyG,WAAauE,EAClBhL,KAAKkJ,WAAaxB,EAEXA,mCAIP,OACErU,EAAAC,EAAAC,cAACF,EAAAC,EAAMwN,SAAP,KACEzN,EAAAC,EAAAC,cAACuQ,GAAD,CACE5E,OAAQc,KAAKd,OACb6E,YAAa/D,KAAK+D,YAClBC,gBAAiBhE,KAAKlD,MAAMkH,gBAC5BV,aAActD,KAAK2H,YACnB1D,WAAYjE,KAAKf,MAAMuG,kBACvBtB,aAAclE,KAAKkE,aACnBC,UAAWnE,KAAKmE,YAClB9Q,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBAAsBI,MAAO,CAAEjB,MAAsC,IAA/BqN,KAAKf,MAAMuG,kBAAyB3R,SAAU,aAChGmM,KAAKmL,eAAenL,KAAKf,gBA9bYsB,IAAM6K,eAqctD,SAASzC,GAAe1B,EAAOC,EAAK3B,EAAiBkD,GACnD,IAAM4C,EAAahE,GAAc9B,EAAiBkD,EAAoB6C,MAAM,GAAGnC,MACzEoC,EAAWlE,GAAc9B,EAAiBkD,EAAoB6C,MAAM7C,EAAoB6C,MAAM7N,OAAS,GAAG0L,MAE1GtH,EAAS6C,KAAE8G,MAAMvE,EAAOC,GACxBzI,EAAQiG,KAAE8G,MAAMH,EAAYE,EAAW,GAI7C,OAFqB1J,EAAOoH,OAAO,SAAA9O,GAAK,OAAIsE,EAAMnB,SAASnD,KAEvCsD,OAItB,SAAS4J,GAAc9B,EAAiB4D,GAOtC,IALA,IAAMsC,EAAatC,EAAK1O,WAGlBiR,EAAanG,EAAgBmD,gBAAgB+C,GAAYH,MAEtD9N,EAAI,EAAGA,EAAIkO,EAAWjO,OAAQD,IACrC,GAAI2L,GAAQuC,EAAWlO,GAAG2L,KACxB,OAAOuC,EAAWlO,GAAGY,MAMzB,OAAOsN,EAAWA,EAAWjO,OAAS,GAAGW,MAG3C,SAASmI,GAAahB,EAAiBnH,GACrC,OAAOmH,EAAgBoG,SAASvN,GArebiH,GACZ/P,aAAe,CACpB9B,UAAW,SACXoY,UAAW,IACXpP,OAAQ,CAAC,EAAG,GACZqP,cAAc,EACdC,kBAAkB,EAClBC,cAAe,CAAC,KAChBC,YAAa,KACbrB,UAAU,UCbd,SAASsB,KACLC,aAAaC,QAGjB,IAAMC,GAAW,SAAApX,GAAeA,EAAZC,MAChB,OACI5B,EAAAC,EAAAC,cAAA,MAAIC,UAAU,UACVH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,UAASH,EAAAC,EAAAC,cAAA,KAAGe,KAAK,KAAR,SACvBjB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,UAASH,EAAAC,EAAAC,cAAA,KAAGe,KAAK,gBAAR,gBACvBjB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,UAASH,EAAAC,EAAAC,cAAA,KAAGe,KAAK,kBAAR,kBACvBjB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,UAASH,EAAAC,EAAAC,cAAA,KAAGe,KAAK,oBAAR,oBACvBjB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,UAASH,EAAAC,EAAAC,cAAA,KAAGe,KAAK,aAAR,qBACvBjB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,UAASH,EAAAC,EAAAC,cAAA,KAAGe,KAAK,qBAAR,qBACvBjB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBAAgBqG,GAAG,SAASwS,YAAaJ,IAAQ5Y,EAAAC,EAAAC,cAAA,KAAGe,KAAK,KAAR,aAM3E8X,GAAS9W,aAAe,CACpBL,MAAO,aAGImX,UCvBf,SAASH,KACLC,aAAaC,QAGjB,IAAMG,GAAU,SAAAtX,GAAeA,EAAZC,MACf,OACI5B,EAAAC,EAAAC,cAAA,MAAIC,UAAU,UACVH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,UAASH,EAAAC,EAAAC,cAAA,KAAGe,KAAK,aAAR,qBACvBjB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,SAASqG,GAAG,SAASwS,YAAaJ,IAAQ5Y,EAAAC,EAAAC,cAAA,KAAGe,KAAK,KAAR,aAKpEgY,GAAQhX,aAAe,CACnBL,MAAO,aAGIqX,UCjBTC,GAAa,SAAAvX,GAAeA,EAAZC,MAClB,OACI5B,EAAAC,EAAAC,cAAA,MAAIC,UAAU,UACVH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,SAASqG,GAAG,SAAQxG,EAAAC,EAAAC,cAAA,KAAGe,KAAK,UAAR,YAK9CiY,GAAWjX,aAAe,CACtBL,MAAO,eAGIsX,UCTTnC,GAAkBC,yBAAcC,MAGjBjF,eAYnB,SAAAA,EAAArQ,GAA6F,IAAAqI,EAA/E4B,EAA+EjK,EAA/EiK,MAAOC,EAAwElK,EAAxEkK,OAAQ6E,EAAgE/O,EAAhE+O,YAAauB,EAAmDtQ,EAAnDsQ,mBAAoBC,EAA+BvQ,EAA/BuQ,gBAAiBtB,EAAcjP,EAAdiP,WAAc,OAAA/N,OAAAyP,EAAA,EAAAzP,CAAA8J,KAAAqF,IAC3FhI,EAAAnH,OAAA0P,EAAA,EAAA1P,CAAA8J,KAAA9J,OAAA2P,EAAA,EAAA3P,CAAAmP,GAAAS,KAAA9F,KAAMf,KA4FR8G,YAAc,SAACtE,GACb,IAAK,IAAIjE,EAAI,EAAGA,EAAIH,EAAKP,MAAMkJ,OAAOvI,OAAQD,IAC5C,GAAIH,EAAKP,MAAMkJ,OAAOxI,GAAGA,IAAMiE,EAAKjE,EAAG,CACrC,IAAMyI,EAAY5I,EAAKP,MAAMkJ,OAAOE,QACpCD,EAAUzI,GAAKiE,EAEfpE,EAAKM,SAAS,CACZqI,OAAQC,IAGV,QAvGuF5I,EA4G7F8I,eAAiB,SAACH,EAAQwG,GACxBnP,EAAKM,SAAS,CACZqI,OAAQA,KA9GiF3I,EAkH7F+I,aAAe,SAACJ,EAAQK,EAASC,GAE/B,IAAMjN,EAAYkN,GAAalJ,EAAKP,MAAMyI,gBAAiBe,EAAQtF,GAC7D1H,EAAUiN,GAAalJ,EAAKP,MAAMyI,gBAAiBe,EAAQE,EAAIF,EAAQtF,EAAI,GAI3E5C,EAAQsG,KAAErG,UAAUhB,EAAKP,MAAM4K,MAAO,SAAC9C,GAAc,OAAOA,EAAQvF,KAAK7B,EAAEkJ,aAAeJ,EAAQ9I,IAClGmJ,EAAYtJ,EAAKP,MAAM4K,MAAMtJ,GAG7BwI,EAAkBN,EACxBM,EAAgB3F,EAAIoF,EAAQpF,EAC5B5D,EAAK0I,YAAYa,GAEjB,IAAMC,EAAaxJ,EAAKP,MAAMkH,gBAAgB7I,KAAK2L,MAAMR,EAAQrF,EAAI,IACrE5D,EAAK6B,OAAOC,KAAK,cAAeyH,EAAiB,CAAEhI,SAAUiI,EAAW3K,IAAK6K,UAAWJ,EAAUI,UAAWC,KAAML,EAAUK,KAAMC,MAAO5N,EAAUyF,UAAWoI,IAAK5N,EAAQwF,aAlIjFzB,EAqI7F8J,cAAgB,SAACC,GACf,IAAMH,EAAQI,GAAchK,EAAKP,MAAMyI,gBAAiB,IAAI5K,KAAKyM,EAAKvI,aAChEqI,EAAMG,GAAchK,EAAKP,MAAMyI,gBAAiB,IAAI5K,KAAKyM,EAAKrI,WAAa,EAC3EX,EAAQsG,KAAErG,UAAUhB,EAAKP,MAAMkH,gBAAiB,SAACY,GAAc,OAAOA,EAAQ1I,MAAQkL,EAAKxI,WAE3FX,EAAc,CAClB8B,KAAMqH,EAAKxI,SAAW,cACtB0I,IAAKF,EAAKxI,SACV2I,IAAKH,EAAKI,YACVnI,KAAM,CACJ7B,EAAG4J,EAAKxI,SAAWwI,EAAKI,YACxBxG,EAAGiG,EACHhG,EAAY,EAAR7C,EAAa,EACjBoI,EAAGU,EAAMD,EACTQ,EAAG,IAIPpK,EAAKM,SAAS,CACZ+J,MAAOrK,EAAKP,MAAM4K,MAAMlN,OACtByD,MAzJuFZ,EA8J7FsK,YAAc,SAAC9F,GAAsC,IAA9Bb,EAA8ByD,UAAAhH,OAAA,QAAAwC,IAAAwE,UAAA,GAAAA,UAAA,GAA1B,EAAGxD,EAAuBwD,UAAAhH,OAAA,QAAAwC,IAAAwE,UAAA,GAAAA,UAAA,GAAnB,EAAGtF,IAAgBsF,UAAAhH,OAAA,QAAAwC,IAAAwE,UAAA,KAAAA,UAAA,GAC7C+B,EAAIoB,SAAS/F,EAAOgG,YAEpBxO,EAAYkN,GAAalJ,EAAKP,MAAMyI,gBAAiBvE,GACrD1H,EAAUiN,GAAalJ,EAAKP,MAAMyI,gBAAiBiB,EAAIxF,EAAI,GAC3D6F,EAAaxJ,EAAKP,MAAMkH,gBAAgB7I,KAAK2L,MAAM7F,EAAI,SAG1ChB,IAAf4G,IAIA1H,EACF9B,EAAK6B,OAAOC,KAAK,cAAjBjJ,OAAAwH,EAAA,EAAAxH,CAAA,GAAqC2L,EAArC,CAA6Cb,EAAGA,EAAGC,EAAGA,EAAG6G,cAAejB,EAAW3K,IAAK6K,UAAWlF,EAAOsB,OAAQ8D,MAAO5N,EAAUyF,UAAWoI,IAAK5N,EAAQwF,aAE3JzB,EAAKM,SAAS,CAEZ+J,MAAOrK,EAAKP,MAAM4K,MAAMlN,OAAO,CAC7BuF,KAAM8B,EAAO5M,MACb8S,OAAQlB,EAAW3K,IACnB6K,UAAWlF,EAAOsB,OAClB6D,KAAMnF,EAAOmF,KACb3H,KAAM,CACJ7B,EAAGqE,EAAOmF,KACVhG,EAAGA,EACHC,EAAGA,EACHuF,EAAGA,EACHiB,EAAG,SAzLgFpK,EAuN7F6G,aAAe,SAAChI,EAAK+E,GACnB,IAAM+G,EAAgB3K,EAAKP,MAAMkH,gBAAgBvG,OACjDJ,EAAKM,SAAS,CAAEqG,gBAAiBU,KAAEC,OAAOtH,EAAKP,MAAMkH,gBAAiB,SAACY,GAAc,OAAOA,EAAQ1I,MAAQA,KAC1G,WAEMmB,EAAKP,MAAMkH,gBAAgBvG,SAAWuK,IAExCnK,QAAQC,IAAI,qBAAuBmD,GACnC5D,EAAKM,SAAS,CAAE+J,MAAOhD,KAAEC,OAAOtH,EAAKP,MAAM4K,MAAO,SAAC9C,GAAc,OAAOA,EAAQvF,KAAK4B,IAAMA,GAAK2D,EAAQvF,KAAK4B,IAAMA,EAAI,KACnH,WACApD,QAAQC,IAAIT,EAAKP,MAAM4K,OAEvBrK,EAAKM,SAAS,CACZ+J,MAAOhD,KAAEuD,OAAO5K,EAAKP,MAAM4K,MAAO,SAACQ,EAAKtD,GACtC,GAAIA,EAAQvF,KAAK4B,EAAIA,EAAG,CACtB,IAAMkH,EAAavD,EAEnB,OADAuD,EAAW9I,KAAK4B,GAAK,EACrB,GAAAzG,OAAAtE,OAAAgI,EAAA,EAAAhI,CAAWgS,GAAX,CAAgBC,IAEhB,SAAA3N,OAAAtE,OAAAgI,EAAA,EAAAhI,CAAWgS,GAAX,CAAgBtD,KAEjB,KAEH,WACEvH,EAAKM,SAAS,CACZqI,OAAQtB,KAAEuD,OAAO5K,EAAKP,MAAM4K,MAAO,SAACQ,EAAKtD,GACvC,QAAoB3E,IAAhB2E,EAAQ2C,IAAmB,CAC7B,IAAMa,EAAQlS,OAAAwH,EAAA,EAAAxH,CAAA,GAAQ0O,EAAQvF,KAAhB,CAAsBgJ,aAAa,EAAOC,aAAa,IACrE,SAAA9N,OAAAtE,OAAAgI,EAAA,EAAAhI,CAAWgS,GAAX,CAAgBE,IAEhB,IAAMA,EAAWxD,EAAQvF,KACzB,SAAA7E,OAAAtE,OAAAgI,EAAA,EAAAhI,CAAWgS,GAAX,CAAgBE,KAEjB,MAELvK,QAAQC,IAAIT,EAAKP,MAAMkJ,gBA1PsD3I,EAkQ7F8G,UAAY,SAACpH,GACXM,EAAKM,SAAS,CAAEqG,gBAAe,GAAAxJ,OAAAtE,OAAAgI,EAAA,EAAAhI,CAAMmH,EAAKP,MAAMkH,iBAAjB,CAAkC,CAAE9H,IAAKa,EAAK6B,SAAU8D,KAAM3F,EAAKiI,UAAY,IAAMjI,EAAKkI,SAAUC,WAAY,GAAIlJ,UAAW,SAhQ9JqB,EAAKP,MAAQ,CAEX4K,MAAOpC,EAAmB2C,OAAO,SAAUC,EAAKtD,EAASxG,GACvD,OAAmC,IAA9BwG,EAAQM,WAAWzH,QAA6C,IAA7BmH,EAAQ5I,UAAUyB,QAA4C,IAA3B8H,EAAgB9H,OAClFyK,EAICA,EAAI1N,OACZoK,EAAQM,WAAWjJ,IAAI,SAACmL,GACtB,IAAMH,EAAQI,GAAc9B,EAAiB6B,EAAKH,OAC5CC,EAAMG,GAAc9B,EAAiB6B,EAAKF,KAAO,EACvD,MACE,CACEnH,KAAMqH,EAAK1E,KACXsE,KAAMI,EAAKJ,KACXe,OAAQX,EAAKW,OACbhB,UAAWK,EAAKL,UAChB1H,KAAM,CACJ7B,EAAG4J,EAAKJ,KACRhG,EAAGiG,EACHhG,EAAW,EAAR7C,EACHoI,EAAGU,EAAMD,EACTQ,EAAG,OAOFjN,OACToK,EAAQ5I,UAAUC,IAAI,SAACmL,GACrB,IAAMH,EAAQI,GAAc9B,EAAiB6B,EAAKwB,eAC5C1B,EAAMG,GAAc9B,EAAiB6B,EAAKyB,aAAe,EAC/D,MACE,CACE9I,KAAMqH,EAAKW,OAAS,cACpBT,IAAKF,EAAKW,OACVR,IAAKH,EAAK0B,WACVzJ,KAAM,CACJ7B,EAAG4J,EAAKW,OAASX,EAAK0B,WACtB9H,EAAGiG,EACHhG,EAAY,EAAR7C,EAAa,EACjBoI,EAAGU,EAAMD,EACTQ,EAAG,QAMZ,IACH1D,YAAaA,EAAY9M,IACzBsO,gBAAiBA,EACjBvB,gBAAiBsB,GAEnBjI,EAAK6B,OAASA,EACd7B,EAAK0G,YAAcA,EACnB1G,EAAK4G,WAAaA,EAElB5G,EAAK6B,OAAO4F,GAAG,cAAe,SAACrD,GAC7B5D,QAAQC,IAAI,kBAAoByB,KAAKwF,UAAUtD,IAE/CpE,EAAK0I,YAAYtE,KAGnBpE,EAAK6B,OAAO4F,GAAG,cAAe,SAACrD,GAC7B5D,QAAQC,IAAI,kBAAoByB,KAAKwF,UAAUtD,IAE/CpE,EAAKsK,YAAYlG,EAAMmG,SAASnG,EAAKT,GAAI4G,SAASnG,EAAKR,IAAI,KAG7D5D,EAAK6B,OAAO4F,GAAG,gBAAiB,SAACtH,GAC/BK,QAAQC,IAAI,kBAAoByB,KAAKwF,UAAUvH,IAE/CH,EAAKiM,aAAa9L,GAAG,KAGvBH,EAAK6B,OAAO4F,GAAG,mBAAoB,SAAClJ,GAClCiC,QAAQC,IAAI,kBAAoByB,KAAKwF,UAAUnJ,IAE/CyB,EAAK8J,cAAcvL,KAGrByB,EAAK6B,OAAO4F,GAAG,kBAAmB,SAAClJ,GACjCiC,QAAQC,IAAI,kBAAoByB,KAAKwF,UAAUnJ,IAE/CyB,EAAKkM,iBAAiB3N,EAAS4L,aAAa,KAzF6CnK,4EAgMhFG,GAAgB,IAAb2B,IAAasF,UAAAhH,OAAA,QAAAwC,IAAAwE,UAAA,KAAAA,UAAA,GAErBrG,EAAQsG,KAAErG,UAAU2B,KAAKlD,MAAM4K,MAAO,SAAC9C,GAAc,OAAOA,EAAQvF,KAAK7B,IAAMA,IAC/EmJ,EAAY3G,KAAKlD,MAAM4K,MAAMtJ,GAG/Be,GACFa,KAAKd,OAAOC,KAAK,gBAAiBwH,EAAWnJ,GAI/CwC,KAAKrC,SAAS,CAAE+J,MAAOhD,KAAEC,OAAO3E,KAAKlD,MAAM4K,MAAO,SAAC9C,GAAc,OAAOA,EAAQvF,KAAK7B,IAAMA,+CAG5E+J,MAAkB9C,UAAAhH,OAAA,QAAAwC,IAAAwE,UAAA,KAAAA,UAAA,KAE/BzE,KAAKd,OAAOC,KAAK,kBAAmB,CAAEqI,YAAaD,IAIrDvH,KAAKrC,SAAS,CAAE+J,MAAOhD,KAAEC,OAAO3E,KAAKlD,MAAM4K,MAAO,SAAC9C,GAAc,OAAOA,EAAQ2C,MAAQA,4CAkD5EiC,GAAwB,IAApBC,EAAoBhF,UAAAhH,OAAA,QAAAwC,IAAAwE,UAAA,IAAAA,UAAA,GAkBpC,OACEpR,EAAAC,EAAAC,cAAA,OAAK2I,IAAKsN,EAAGnK,KAAK7B,EAAGkM,YAAWD,EAAUvT,OAAAwH,EAAA,EAAAxH,CAAA,GAAQsT,EAAGnK,KAAX,CAAiBgJ,aAAa,EAAOC,aAAa,IAAUkB,EAAGnK,KAAMqD,KAAM8G,EAAGzJ,KAAO,OAC7H1M,EAAAC,EAAAC,cAAA,QAAMC,UAAU,QAAQgW,EAAGzJ,MAEK,IAA9B/I,eAAaC,IAAI,SACf5D,EAAAC,EAAAC,cAAA,QACEC,UAAU,SACVI,MAxBU,CAClBC,SAAU,WACV8V,MAAO,MACP5V,IAAK,EACL6V,OAAQ,UACRnX,QAAS,MACTD,MAAO,SAmBC0B,QAASuV,EAAazJ,KAAKuJ,iBAAiBM,KAAK7J,KAAMwJ,EAAGjC,KAAOvH,KAAKsJ,aAAaO,KAAK7J,KAAMwJ,EAAGnK,KAAK7B,IAHxG,UAQAyC,EAEFwJ,GAA4C,IAA9BzS,eAAaC,IAAI,cAe/BgJ,EAdA5M,EAAAC,EAAAC,cAACuW,GAAA,EAAD,CACEC,GAAI,CACFC,SAAU,qBACVC,OAAQ,cAAgBT,EAAGzC,YAG7B1T,EAAAC,EAAAC,cAAA,QACEC,UAAU,SACVI,MAjCM,CACdC,SAAU,WACVC,KAAM,MACNoW,OAAQ,EACRN,OAAQ,UACRnX,QAAS,MACTD,MAAO,UAyBD,+CAcD,IAAA2X,EAAAnK,KAIP,OAHAnC,QAAQC,IAAIkC,KAAKf,MAAMsG,iBACvB1H,QAAQC,IAAIkC,KAAKlD,MAAM4K,OACvB7J,QAAQC,IAAIkC,KAAKiE,YAEf5Q,EAAAC,EAAAC,cAACF,EAAAC,EAAMwN,SAAP,KACEzN,EAAAC,EAAAC,cAACuQ,GAAD,CACE5E,OAAQc,KAAKd,OACb6E,YAAa/D,KAAK+D,YAClBC,gBAAiBhE,KAAKlD,MAAMkH,gBAC5BV,aAActD,KAAK2H,YACnB1D,WAAYjE,KAAKiE,WACjBC,aAAclE,KAAKkE,aACnBC,UAAWnE,KAAKmE,YAClB9Q,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBAAsBI,MAAO,CAAEjB,MAAyB,IAAlBqN,KAAKiE,WAAkBpQ,SAAU,aACpFR,EAAAC,EAAAC,cAACkZ,GAADvW,OAAAsU,OAAA,GACMxK,KAAKf,MADX,CAEEwL,KAAMzK,KAAKiE,WACXyG,QAAS1K,KAAKlD,MAAMiH,cACpBiC,OAAQhG,KAAKlD,MAAMkJ,OACnBG,eAAgBnG,KAAKmG,eACrBuG,aAAc1M,KAAKoG,aACnBuG,WAAY3M,KAAKoG,aACjBiC,iBAA2CpI,IAA9BjJ,eAAaC,IAAI,SAC9BqR,iBAA2CrI,IAA9BjJ,eAAaC,IAAI,WAE7B+I,KAAKlD,MAAM4K,MAAMzL,IAAI,SAAAuN,GAAE,OAAIW,EAAK5W,cAAciW,OAAevJ,IAAXuJ,EAAGjC,iBAlWlBhH,IAAM6K,eA2WtD,SAAS/D,GAAc9B,EAAiB4D,GAOtC,IALA,IAAMsC,EAAatC,EAAK1O,WAGlBiR,EAAanG,EAAgBmD,gBAAgB+C,GAAYH,MAEtD9N,EAAI,EAAGA,EAAIkO,EAAWjO,OAAQD,IACrC,GAAI2L,GAAQuC,EAAWlO,GAAG2L,KACxB,OAAOuC,EAAWlO,GAAGY,MAMzB,OAAOsN,EAAWA,EAAWjO,OAAS,GAAGW,MAG3C,SAASmI,GAAahB,EAAiBnH,GACrC,OAAOmH,EAAgBoG,SAASvN,GCnYnB,SAASiF,GAATrO,GAAgD,IAAhC0N,EAAgC1N,EAAhC0N,KAAM7O,EAA0BmB,EAA1BnB,SAAUyP,EAAgBtO,EAAhBsO,aAE7C,OACEjQ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAYI,MAAO,CAAEC,SAAU,WAAYkN,SAAUlN,EAASmN,EAAI,MAAQnN,EAASoN,EAAI,uBAEnGqC,GACCjQ,EAAAC,EAAAC,cAACqZ,GAAA,EAAD,CAAOC,QACLxZ,EAAAC,EAAAC,cAAA,UACEmP,KAAI,GAAAlI,OAAKkI,EAAL,UAAAlI,OAAkB3G,EAASoN,GAC/BrN,MAAO,CAAEkZ,QAAS,EAAG5Z,OAAQ,OAAQP,MAAO,OAAQkB,SAAU,WAAYkZ,OAAQ,IAClF7Y,QAAS,WAAQ2J,QAAQC,IAAI,iBAI/BkP,OAAK,GACL3Z,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAAC0Z,GAAD,CAAMlN,KAAM,YACV9K,MAAO,SACP8M,WAAY,CAAC,aAAc,SAC3BE,UAAU,EACVN,SAAU,SAACE,GAAD,OAAYyB,EAAazB,EAAQhO,EAASoN,EAAI,EAAGpN,EAASmN,EAAI,MAL5E,OCfK,SAASuC,GAATvO,GAAkF,IAA9DnB,EAA8DmB,EAA9DnB,SAAUkM,EAAoD/K,EAApD+K,KAAMpN,EAA8CqC,EAA9CrC,MAAOO,EAAuC8B,EAAvC9B,OAAQsQ,EAA+BxO,EAA/BwO,eAAgBF,EAAetO,EAAfsO,aAyB1EG,EAxBmB,WAEnB,IADA,IAAIC,EAAQ,GACJzC,EAAI,EAAGA,EAAItO,EAAOsO,IACtB,IAAI,IAAID,EAAI,EAAGA,EAAI9N,EAAQ8N,IACvB0C,EAAMhE,KAAK,CACPxD,IAAK6D,EAAO,MAAQlM,EAASmN,EAAIA,GAAK,MAAQnN,EAASoN,EAAIA,GAC3D0C,IAAK,CAAC3C,EAAGnN,EAASmN,EAAIA,EAAGC,EAAGpN,EAASoN,EAAIA,EAAI,KAIzD,OAAOyC,EAcKE,GAEhB,OACIvQ,EAAAC,EAAAC,cAACF,EAAAC,EAAMwN,SAAP,KACIzN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBAAkBI,MAAO,CAACmN,SAAUlN,EAASmN,EAAI,MAAQnN,EAASoN,EAAI,uBAE/C,IAA9BjK,eAAaC,IAAI,SACjB5D,EAAAC,EAAAC,cAAA,UAAQmP,KAAM3C,EAAO,UAAWvM,UAAU,wBAAwBU,QAASsP,GACvEnQ,EAAAC,EAAAC,cAAA,yBAGJ0M,EAEJ5M,EAAAC,EAAAC,cAAA,SAAIwM,IAEP0D,EAAUxH,IAAI,SAACwF,EAAMjE,GAClB,OA3BM,SAACiE,EAAMjE,GACrB,OACInK,EAAAC,EAAAC,cAAC2Z,GAAD,CAAUhR,IAAKuF,EAAKvF,IAAKrI,SAAU,CAACmN,EAAGS,EAAKkC,IAAI3C,EAAGC,EAAGQ,EAAKkC,IAAI1C,GAE/DqC,aAAc7B,EAAKkC,IAAI3C,EAAI,GAAK,EAAIsC,EAAe,KACnDZ,KAAM3C,IAuBE8D,CAAWpC,MCvChB,SAASqC,GAAT9O,GAAiH,IAA1FkK,EAA0FlK,EAA1FkK,OAAQ6E,EAAkF/O,EAAlF+O,YAAaC,EAAqEhP,EAArEgP,gBAAiBV,EAAoDtO,EAApDsO,aAAcW,EAAsCjP,EAAtCiP,WAAYC,EAA0BlP,EAA1BkP,aAAcC,EAAYnP,EAAZmP,UAC1GC,EAAwBJ,EAD8FjO,EAOhGC,mBAHV,IAGmBoO,EAAsB3G,QAPiExH,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAOrH7C,EAPqH+C,EAAA,GAO7GoO,EAP6GpO,EAAA,GAAAI,EAUhFL,mBAASoO,GAVuE9N,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAUrHiO,EAVqHhO,EAAA,GAUrGiO,EAVqGjO,EAAA,GA4BtHkO,EAAkB,SAACtI,EAAK8E,GAAiB,IAAd7B,IAAcsF,UAAAhH,OAAA,QAAAwC,IAAAwE,UAAA,KAAAA,UAAA,GAE3CF,EAAkB,SAAAD,GAAc,OAAII,KAAEC,OAAOL,EAAgB,SAACM,GAAa,OAAOA,EAAQ1I,MAAQA,MAClGmI,EAAU,SAAAnR,GAAM,OAAIA,EA3BN,MA8Bd6Q,EAAYc,IAAkC,GAA7BP,EAAe7G,OAAS,IAGzCyG,EAAahI,EAAK8E,EAAI,GAEnB7B,GACCD,EAAOC,KAAK,cAAejD,EAAK8E,IA0BxC,OAbAyB,oBAAU,WACNvD,EAAO4F,GAAG,YAAa,SAAC/H,EAAMD,GAC1Be,QAAQC,IAAI,UAAYyB,KAAKwF,UAAUhI,IA1C1B,SAACA,GAAoB0H,UAAAhH,OAAA,QAAAwC,IAAAwE,UAAA,KAAAA,UAAA,IAIlCF,EAAkB,SAAAD,GAAc,SAAA9J,OAAAtE,OAAAgI,EAAA,EAAAhI,CAAQoO,GAAR,CAAwB,CAACpI,IAAKa,EAAK6B,SAAU8D,KAAM3F,EAAKiI,UAAY,IAAMjI,EAAKkI,SAAUC,WAAY,GAAIlJ,UAAW,QAGpJ+H,EAAYc,IAAkC,GAA7BP,EAAe7G,OAAS,IACzC4G,EAAU,SAAAnR,GAAM,OAAIA,EAjBV,MAoBViR,EAAUpH,IATVmC,EAAOC,KAAK,YAAapC,GAyCzBoI,CAAapI,GAAM,EAAOD,KAG9BoC,EAAO4F,GAAG,cAAe,SAACjL,EAAImH,GAC1BnD,QAAQC,IAAIkD,GACZnD,QAAQC,IAAIjE,GACZ2K,EAAgB3K,EAAImH,GAAG,MAE5B,IAGS3N,EAAAC,EAAAC,cAACF,EAAAC,EAAMwN,SAAP,KACIzN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BAA8BI,MAAO,CAACV,OAAOA,IAEpDoR,EAAerI,IAAI,SAACwF,EAAMjE,GACtB,OA5BA,SAACiE,EAAMjE,GAC/B,IAAMwD,EAAQ,EAAJxD,EAAQ,EAClB,OAAOnK,EAAAC,EAAAC,cAAC4Z,GAAD,CAAejR,IAAKuF,EAAKvF,IAAM,YAAcsB,EAAG0B,OAAQA,EAAQa,KAAM0B,EAAKiB,KAC1E7O,SAAU,CAACmN,EAAGA,EAAGC,EAAG,GAAItO,MAAOsR,EAAY/Q,OAAQ,EACnDsQ,eAAgB,WACZgB,EAAgB/C,EAAKvF,IAAK8E,IAC1BsC,aAAcA,IAuBE8J,CAAoB3L,EAAMjE,OHtEzC6H,GACZ/P,aAAe,CACpB9B,UAAW,SACXoY,UAAW,IACXpP,OAAQ,CAAC,EAAG,GACZqP,cAAc,EACdC,kBAAkB,EAClBC,cAAe,CAAC,KAChBC,YAAa,KACbrB,UAAU,OIXOtF,eAenB,SAAAA,EAAArQ,GACoG,IAAAqI,EADtF4B,EACsFjK,EADtFiK,MAAOC,EAC+ElK,EAD/EkK,OAAQ6E,EACuE/O,EADvE+O,YAAauB,EAC0DtQ,EAD1DsQ,mBAAoBC,EACsCvQ,EADtCuQ,gBAC5DtB,EAAkGjP,EAAlGiP,WAAiCoJ,GAAiErY,EAAtFyQ,UAAsFzQ,EAA3EsY,SAA2EtY,EAAjEqY,iBAAiB3H,EAAgD1Q,EAAhD0Q,aAAc6H,EAAkCvY,EAAlCuY,YAAaC,EAAqBxY,EAArBwY,YAAqBxY,EAAR0J,KAAQxI,OAAAyP,EAAA,EAAAzP,CAAA8J,KAAAqF,IAClGhI,EAAAnH,OAAA0P,EAAA,EAAA1P,CAAA8J,KAAA9J,OAAA2P,EAAA,EAAA3P,CAAAmP,GAAAS,KAAA9F,KAAMf,KA0JR8G,YAAc,SAACtE,GACb,IAAK,IAAIjE,EAAI,EAAGA,EAAIH,EAAKP,MAAMkJ,OAAOvI,OAAQD,IAC5C,GAAIH,EAAKP,MAAMkJ,OAAOxI,GAAGA,IAAMiE,EAAKjE,EAAG,CACrC,IAAMyI,EAAY5I,EAAKP,MAAMkJ,OAAOE,QACpCD,EAAUzI,GAAKiE,EAGfpE,EAAKM,SAAS,CACZqI,OAAQC,IAGV,QAtK8F5I,EA2KpG8I,eAAiB,SAACH,GAEhB3I,EAAKM,SAAS,CACZqI,OAAQA,KA9KwF3I,EAkLpG+I,aAAe,SAACJ,EAAQK,EAASC,GAE/B,IAAMjN,EAAYkN,GAAalJ,EAAKP,MAAMyI,gBAAiBe,EAAQtF,GAC7D1H,EAAUiN,GAAalJ,EAAKP,MAAMyI,gBAAiBe,EAAQE,EAAIF,EAAQtF,EAAI,GAG3E5C,EAAQsG,KAAErG,UAAUhB,EAAKoJ,WAAY,SAAC7B,GAAc,OAAOA,EAAQvF,KAAK7B,EAAEkJ,aAAeJ,EAAQ9I,IACjGmJ,EAAYtJ,EAAKoJ,WAAWrI,GAG5BwI,EAAkBN,EACxBM,EAAgB3F,EAAIoF,EAAQpF,EAC5B5D,EAAK0I,YAAYa,GAEjB,IAAMC,EAAaxJ,EAAKP,MAAMkH,gBAAgB7I,KAAK2L,MAAMR,EAAQrF,EAAI,IACrE5D,EAAK6B,OAAOC,KAAK,cAAeyH,EAAiB,CAAEhI,SAAUiI,EAAW3K,IAAK6K,UAAWJ,EAAUI,UAAWC,KAAML,EAAUK,KAAMC,MAAO5N,EAAUyF,UAAWoI,IAAK5N,EAAQwF,aAjM1EzB,EAoMpG8J,cAAgB,SAACC,GACf,IAAMH,EAAQwG,GAAYpQ,EAAKP,MAAM4Q,aAAc,IAAI/S,KAAKyM,EAAKvI,aAC3DqI,EAAMuG,GAAYpQ,EAAKP,MAAM4Q,aAAc,IAAI/S,KAAKyM,EAAKrI,WAAa,EACtEX,EAAQsG,KAAErG,UAAUhB,EAAKP,MAAMkH,gBAAiB,SAACY,GAAc,OAAOA,EAAQ1I,MAAQkL,EAAKxI,WAE3FX,EAAc,CAClB8B,KAAMqH,EAAKxI,SAAW,cACtB0I,IAAKF,EAAKxI,SACV2I,IAAKH,EAAKI,YACVnI,KAAM,CACJ7B,EAAG4J,EAAKxI,SAAWwI,EAAKI,YACxBxG,EAAGiG,EACHhG,EAAY,EAAR7C,EAAa,EACjBoI,EAAGU,EAAMD,EACTQ,EAAG,IAIPpK,EAAKM,SAAS,CACZ+J,MAAOrK,EAAKP,MAAM4K,MAAMlN,OACtByD,MAxN8FZ,EA6NpGsK,YAAc,SAAC9F,GAAsC,IAA9Bb,EAA8ByD,UAAAhH,OAAA,QAAAwC,IAAAwE,UAAA,GAAAA,UAAA,GAA1B,EAAGxD,EAAuBwD,UAAAhH,OAAA,QAAAwC,IAAAwE,UAAA,GAAAA,UAAA,GAAnB,EAAGtF,IAAgBsF,UAAAhH,OAAA,QAAAwC,IAAAwE,UAAA,KAAAA,UAAA,GAC7C+B,EAAIoB,SAAS/F,EAAOgG,YAKpBxO,EAAYkN,GAAalJ,EAAKP,MAAMyI,gBAAiBvE,EAAG3D,EAAK4B,MAAMwG,WACnEnM,EAAUiN,GAAalJ,EAAKP,MAAMyI,gBAAiBiB,EAAIxF,EAAG3D,EAAK4B,MAAMwG,WACrEoB,EAAaxJ,EAAKP,MAAMkH,gBAAgB7I,KAAK2L,MAAM7F,EAAI,IAEvDgG,EAAQ0B,GAAetL,EAAK4B,MAAMyO,aAAcrU,GAChD6N,EAAMyB,GAAetL,EAAK4B,MAAMyO,aAAcpU,QAGjC2G,IAAf4G,IAIA1H,EACF9B,EAAK6B,OAAOC,KAAK,cAAjBjJ,OAAAwH,EAAA,EAAAxH,CAAA,GAAqC2L,EAArC,CAA6Cb,EAAGA,EAAGC,EAAGA,EAAG6G,cAAejB,EAAW3K,IAAK6K,UAAWlF,EAAOsB,OAAQ8D,MAAO5N,EAAUyF,UAAWoI,IAAK5N,EAAQwF,aAE3JzB,EAAKM,SAAS,CAEZ+J,MAAOrK,EAAKP,MAAM4K,MAAMlN,OAAO,CAC7ByM,MAAOA,EACPC,IAAKA,EACLnH,KAAM8B,EAAO5M,MACb8S,OAAQlB,EAAW3K,IACnB6K,UAAWlF,EAAOsB,OAClB6D,KAAMnF,EAAOmF,KACb3H,KAAM,CACJ7B,EAAGqE,EAAOmF,KACVhG,EAAGA,EACHC,EAAGA,EACHuF,EAAGA,EACHiB,EAAG,SAhQuFpK,EA+RpG6G,aAAe,SAAChI,EAAK+E,GACnB,IAAM+G,EAAgB3K,EAAKP,MAAMkH,gBAAgBvG,OACjDJ,EAAKM,SAAS,CAAEqG,gBAAiBU,KAAEC,OAAOtH,EAAKP,MAAMkH,gBAAiB,SAACY,GAAc,OAAOA,EAAQ1I,MAAQA,KAC1G,WAEMmB,EAAKP,MAAMkH,gBAAgBvG,SAAWuK,IAExCnK,QAAQC,IAAI,qBAAuBmD,GACnC5D,EAAKM,SAAS,CAAE+J,MAAOhD,KAAEC,OAAOtH,EAAKP,MAAM4K,MAAO,SAAC9C,GAAc,OAAOA,EAAQvF,KAAK4B,IAAMA,GAAK2D,EAAQvF,KAAK4B,IAAMA,EAAI,KACnH,WAGA5D,EAAKM,SAAS,CACZ+J,MAAOhD,KAAEuD,OAAO5K,EAAKP,MAAM4K,MAAO,SAACQ,EAAKtD,GACtC,GAAIA,EAAQvF,KAAK4B,EAAIA,EAAG,CACtB,IAAMkH,EAAavD,EAEnB,OADAuD,EAAW9I,KAAK4B,GAAK,EACrB,GAAAzG,OAAAtE,OAAAgI,EAAA,EAAAhI,CAAWgS,GAAX,CAAgBC,IAEhB,SAAA3N,OAAAtE,OAAAgI,EAAA,EAAAhI,CAAWgS,GAAX,CAAgBtD,KAEjB,KAEH,WACEvH,EAAKM,SAAS,CACZqI,OAAQtB,KAAEuD,OAAO5K,EAAKP,MAAM4K,MAAO,SAACQ,EAAKtD,GACvC,QAAoB3E,IAAhB2E,EAAQ2C,IAAmB,CAC7B,IAAMa,EAAQlS,OAAAwH,EAAA,EAAAxH,CAAA,GAAQ0O,EAAQvF,KAAhB,CAAsBgJ,aAAa,EAAOC,aAAa,IACrE,SAAA9N,OAAAtE,OAAAgI,EAAA,EAAAhI,CAAWgS,GAAX,CAAgBE,IAEhB,IAAMA,EAAWxD,EAAQvF,KACzB,SAAA7E,OAAAtE,OAAAgI,EAAA,EAAAhI,CAAWgS,GAAX,CAAgBE,KAEjB,cAhU+E/K,EA0UpG8G,UAAY,SAACpH,GACXM,EAAKM,SAAS,CAAEqG,gBAAe,GAAAxJ,OAAAtE,OAAAgI,EAAA,EAAAhI,CAAMmH,EAAKP,MAAMkH,iBAAjB,CAAkC,CAAE9H,IAAKa,EAAK6B,SAAU8D,KAAM3F,EAAKiI,UAAY,IAAMjI,EAAKkI,SAAUC,WAAY,GAAIlJ,UAAW,SA3U5DqB,EAwapGkL,OAAS,kBAAMlL,EAAKmL,eAralB,IAAIC,EAAsBlD,EAAgBmD,gBAAgBhD,GAHwC,OAKlGrI,EAAKP,MAAQ,CAEX4K,MAAOpC,EAAmB2C,OAAO,SAAUC,EAAKtD,EAASxG,GAEvD,OAAmC,IAA9BwG,EAAQM,WAAWzH,QAA6C,IAA7BmH,EAAQ5I,UAAUyB,QAA4C,IAA3B8H,EAAgB9H,OAElFyK,EAMCA,EAAI1N,OACZoK,EAAQM,WAAWjJ,IAAI,SAACmL,GAGtB,IAAMH,EAAQwG,GAAYD,EAAapG,EAAKH,OACtCC,EAAMuG,GAAYD,EAAapG,EAAKF,KAAO,EAW3CvU,EAAQgW,GAAe1B,EAAOC,EAAKsG,GAIzC,MACE,CACEvG,MAAOA,EACPC,IAAKA,EACLnH,KAAMqH,EAAK1E,KACXsE,KAAMI,EAAKJ,KACXe,OAAQX,EAAKW,OACbhB,UAAWK,EAAKL,UAChB1H,KAAM,CACJ7B,EAAG4J,EAAKJ,KACRhG,EAAGiG,EACHhG,EAAW,EAAR7C,EACHoI,EAAG7T,EACH8U,EAAG,OAOFjN,OACToK,EAAQ5I,UAAUC,IAAI,SAACmL,GACrB,IAAMH,EAAQwG,GAAYD,EAAapG,EAAKwB,eACtC1B,EAAMuG,GAAYD,EAAapG,EAAKyB,aAAe,EAEnDlW,EAAQgW,GAAe1B,EAAOC,EAAK3B,EAAiBkD,EAAqB+E,GAC/E,MACE,CACEvG,MAAOA,EACPC,IAAKA,EACLnH,KAAMqH,EAAKW,OAAS,cACpBT,IAAKF,EAAKW,OACVR,IAAKH,EAAK0B,WACVzJ,KAAM,CACJ7B,EAAG4J,EAAKW,OAASX,EAAK0B,WACtB9H,EAAGiG,EACHhG,EAAY,EAAR7C,EAAa,EACjBoI,EAAG7T,EACH8U,EAAG,QAMZ,IACH1D,YAAaA,EAAY9M,IACzBsO,gBAAiBA,EACjBvB,gBAAiBsB,EACjB+H,gBAAiBA,EAGjB5H,UAAW8H,EACXA,YAAaA,GAIflQ,EAAKsQ,UAAYH,EAEjBnQ,EAAK6B,OAASA,EACd7B,EAAK0G,YAAcA,EACnB1G,EAAK4G,WAAaA,EAClB5G,EAAK2L,OAASqE,EACdhQ,EAAKoJ,WAAapJ,EAAKP,MAAM4K,MAAMuB,OAAO,SAAC7B,GACzC,IAGMzU,EAAQgW,GAHAvB,EAAKH,MACPG,EAAKF,IAEwBsG,GAGzC,OAFA3P,QAAQC,IAAI,wBAEE,IAAVnL,IAMN0K,EAAK6L,WAAa,GAElB7L,EAAK6B,OAAO4F,GAAG,cAAe,SAACrD,GAC7B5D,QAAQC,IAAI,kBAAoByB,KAAKwF,UAAUtD,IAE/CpE,EAAK0I,YAAYtE,KAGnBpE,EAAK6B,OAAO4F,GAAG,cAAe,SAACrD,GAC7B5D,QAAQC,IAAI,kBAAoByB,KAAKwF,UAAUtD,IAE/C,IAAI0H,EAAO,IAAIxO,KAAK8G,EAAKwF,OAIrBmC,EAA8C,IAFjCD,EAAKxK,cAEStB,EAAK4B,MAAMP,MAE1CyK,EAAKE,SAASF,EAAK1O,WAAa2O,GAEhC3H,EAAKwF,MAAQkC,EAAKrK,UAElBzB,EAAKsK,YAAYlG,EAAMmG,SAASnG,EAAKT,GAAI4G,SAASnG,EAAKR,IAAI,KAG7D5D,EAAK6B,OAAO4F,GAAG,gBAAiB,SAACtH,GAC/BK,QAAQC,IAAI,kBAAoByB,KAAKwF,UAAUvH,IAE/CH,EAAKiM,aAAa9L,GAAG,KAGvBH,EAAK6B,OAAO4F,GAAG,mBAAoB,SAAClJ,GAClCiC,QAAQC,IAAI,kBAAoByB,KAAKwF,UAAUnJ,IAE/CyB,EAAK8J,cAAcvL,KAGrByB,EAAK6B,OAAO4F,GAAG,kBAAmB,SAAClJ,GACjCiC,QAAQC,IAAI,kBAAoByB,KAAKwF,UAAUnJ,IAE/CyB,EAAKkM,iBAAiB3N,EAAS4L,aAAa,KAvJoDnK,4EAwQvFG,GAAgB,IAAb2B,IAAasF,UAAAhH,OAAA,QAAAwC,IAAAwE,UAAA,KAAAA,UAAA,GAErBrG,EAAQsG,KAAErG,UAAU2B,KAAKlD,MAAM4K,MAAO,SAAC9C,GAAc,OAAOA,EAAQvF,KAAK7B,IAAMA,IAC/EmJ,EAAY3G,KAAKlD,MAAM4K,MAAMtJ,GAG/Be,GACFa,KAAKd,OAAOC,KAAK,gBAAiBwH,EAAWnJ,GAI/CwC,KAAKrC,SAAS,CAAE+J,MAAOhD,KAAEC,OAAO3E,KAAKlD,MAAM4K,MAAO,SAAC9C,GAAc,OAAOA,EAAQvF,KAAK7B,IAAMA,+CAG5E+J,MAAkB9C,UAAAhH,OAAA,QAAAwC,IAAAwE,UAAA,KAAAA,UAAA,KAE/BzE,KAAKd,OAAOC,KAAK,kBAAmB,CAAEqI,YAAaD,IAIrDvH,KAAKrC,SAAS,CAAE+J,MAAOhD,KAAEC,OAAO3E,KAAKlD,MAAM4K,MAAO,SAAC9C,GAAc,OAAOA,EAAQ2C,MAAQA,4CAkD5EiC,GAAgC,IAA5BC,EAA4BhF,UAAAhH,OAAA,QAAAwC,IAAAwE,UAAA,IAAAA,UAAA,GAAAA,UAAAhH,OAAA,GAAAgH,UAAA,GAiB5C,OACEpR,EAAAC,EAAAC,cAAA,OAAK2I,IAAKsN,EAAGnK,KAAK7B,EAAGkM,YAAWD,EAAUvT,OAAAwH,EAAA,EAAAxH,CAAA,GAAQsT,EAAGnK,KAAX,CAAiBgJ,aAAa,EAAOC,aAAa,IAAUkB,EAAGnK,KACvGqD,KAAM8G,EAAGzJ,KAAO,OAChB1M,EAAAC,EAAAC,cAAA,QAAMC,UAAU,QAAQgW,EAAGzJ,WAEKE,IAA9BjJ,eAAaC,IAAI,SACf5D,EAAAC,EAAAC,cAAA,QACEC,UAAU,SACVI,MAxBU,CAClBC,SAAU,WACV8V,MAAO,MACP5V,IAAK,EACL6V,OAAQ,UACRnX,QAAS,MACTD,MAAO,SAmBC0B,QAASuV,EAAazJ,KAAKuJ,iBAAiBM,KAAK7J,KAAMwJ,EAAGjC,KAAOvH,KAAKsJ,aAAaO,KAAK7J,KAAMwJ,EAAGnK,KAAK7B,IAHxG,UAQAyC,EAEFwJ,QAA4CxJ,IAA9BjJ,eAAaC,IAAI,cAe/BgJ,EAdA5M,EAAAC,EAAAC,cAACuW,GAAA,EAAD,CACEC,GAAI,CACFC,SAAU,qBACVC,OAAQ,cAAgBT,EAAGzC,YAG7B1T,EAAAC,EAAAC,cAAA,QACEC,UAAU,SACVI,MAjCM,CACdC,SAAU,WACVC,KAAM,MACNoW,OAAQ,EACRN,OAAQ,UACRnX,QAAS,MACTD,MAAO,UAyBD,qDAcKyM,GAAO,IAAAkL,EAAAnK,KAEdoK,EAAkBC,yBAAcC,MAItC,OAFAtK,KAAKuK,cAGHlX,EAAAC,EAAAC,cAAC6W,EAADlU,OAAAsU,OAAA,GACMvL,EADN,CAEEwL,KAAMzK,KAAKf,MAAMoO,gBACjB3C,QAAS1K,KAAKlD,MAAMiH,cACpBiC,OAAQhG,KAAKlD,MAAMkJ,OACnBqC,iBAA2CpI,IAA9BjJ,eAAaC,IAAI,SAC9BqR,iBAA2CrI,IAA9BjJ,eAAaC,IAAI,SAC9B0T,UAAU,IAGT3K,KAAKyG,WAAWxK,IAAI,SAAAuN,GAAE,OAAIW,EAAK5W,cAAciW,OAAevJ,IAAXuJ,EAAGjC,IAAkC4C,EAAKlL,MAAMoO,+DAWrFzC,EAAWC,GACxB7K,KAAKf,MAAMyO,eAAiB9C,EAAU8C,cACxC1N,KAAKmG,eAAenG,KAAKkJ,wDAS3B9U,OAAO0W,iBAAiB,SAAU9K,KAAKuI,8CAG3B,IAAAwC,EAAA/K,KAER0H,EAAQ,GAERsD,EAAShL,KAAKlD,MAAM4K,MAAMuB,OAAO,SAACxH,GAOpC,OAAc,IAFAkH,GAJAlH,EAAKwF,MACPxF,EAAKyF,IAGwB6D,EAAK9L,MAAMuO,YAAazC,EAAK4C,aAoBxE,OAVA3C,EAAOC,QAAQ,SAAArG,GACb,IAAMjS,EAAQgW,GAAe/D,EAAQqC,MAAOrC,EAAQsC,IAAK6D,EAAK9L,MAAMuO,YAAazC,EAAK4C,WACtF/I,EAAQvF,KAAKmH,EAAI7T,EACjBiS,EAAQvF,KAAK7B,EAAIoH,EAAQvF,KAAK7B,EAAEkJ,WAChC9B,EAAQvF,KAAK6L,KAAOH,EAAK9L,MAAMoO,gBAC/B3F,EAAMhI,KAAKkF,EAAQvF,QAErBW,KAAKyG,WAAauE,EAClBhL,KAAKkJ,WAAaxB,EAEXA,mCAIP,OACErU,EAAAC,EAAAC,cAACF,EAAAC,EAAMwN,SAAP,KACEzN,EAAAC,EAAAC,cAACqa,GAAD,CACE1O,OAAQc,KAAKd,OACb6E,YAAa/D,KAAK+D,YAClBC,gBAAiBhE,KAAKlD,MAAMkH,gBAC5BV,aAActD,KAAK2H,YACnB1D,WAAYjE,KAAKf,MAAMoO,gBACvBnJ,aAAclE,KAAKkE,aACnBC,UAAWnE,KAAKmE,YAClB9Q,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BAA2BI,MAAO,CAAEjB,MAAoC,IAA7BqN,KAAKf,MAAMoO,gBAAuBxZ,SAAU,aACnGmM,KAAKmL,eAAenL,KAAKf,gBA1eYsB,IAAM6K,eAiftD,SAASzC,GAAe1B,EAAOC,EAAKsG,GAAqC,IAAAK,EAsBzE,SAAmBL,EAAaG,GAC9B,IACMG,EADW,IAAInT,KAAK6S,GACF9S,UAClBqT,EAASD,EAAS,EAExB,GAA0B,qBAAdH,GAA6C,eAAdA,EAA4B,CACrE,IAAIK,EAAaP,GAAYE,EAAWH,GACpCS,EAAaR,GAAYE,EAAWH,GAAe,EAEvD,MAAO,CAACQ,EAAYC,GAEpB,MAAO,CAACH,EAAQC,GA/BKG,CAAUV,EAFsC/I,UAAAhH,OAAA,QAAAwC,IAAAwE,UAAA,GAAAA,UAAA,GAAd,cAAc0J,EAAAjY,OAAAC,EAAA,EAAAD,CAAA2X,EAAA,GAElEC,EAFkEK,EAAA,GAE1DJ,EAF0DI,EAAA,GAMjEtM,EAAS6C,KAAE8G,MAAMvE,EAAOC,GAExBkH,EAAO1J,KAAE8G,MAAMsC,EAAQC,EAAS,GAStC,OAHqBlM,EAAOoH,OAAO,SAAA9O,GAAK,OAAIiU,EAAK9Q,SAASnD,KAGtCsD,OAsBtB,SAASgQ,GAAYY,EAAIC,GAEvB,OAAOnT,KAAKoT,OAAOD,EAAGxP,UAAYuP,EAAGvP,WAAnB,OAyBpB,SAASyH,GAAahB,EAAiBnH,EAAOuP,GAC5C,OAAOpI,EAAgBoG,SAASvN,GCzjBnB,SAASqC,GAATzL,GAAmD,IAAlCC,EAAkCD,EAAlCC,MAAepB,GAAmBmB,EAA3BkK,OAA2BlK,EAAnBnB,UAAU6M,EAAS1L,EAAT0L,MACrD,OACIrN,EAAAC,EAAAC,cAACF,EAAAC,EAAMwN,SAAP,KACIzN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAaI,MAAO,CAAEmN,SAAUlN,EAASmN,EAAI,MAAQnN,EAASoN,EAAI,oBAAsBP,EAAMjD,SACzGpK,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeyB,IAG7ByL,EAAMzE,IAAI,SAACwF,EAAMjE,GACb,OAAOnK,EAAAC,EAAAC,cAAA,OAAK2I,IAAKjH,EAAQwM,EAAMjO,UAAU,WAAWI,MAAO,CAAEmN,SAAWlN,EAASmN,EAAI,EAAK,OAASnN,EAASoN,EAAIzD,GAAK,uBAChHiE,MCFV,SAAS+M,GAATxZ,GAAsF,IAAtEC,EAAsED,EAAtEC,MAAepB,GAAuDmB,EAA/DkK,OAA+DlK,EAAvDnB,UAAU8M,EAA6C3L,EAA7C2L,KAAMC,EAAuC5L,EAAvC4L,SAAUC,EAA6B7L,EAA7B6L,YAAa6M,EAAgB1Y,EAAhB0Y,aAU7EY,EAAK,IAAI3T,KAAK+S,GACZhN,EATmB,CACrB,SACA,UACA,YACA,WACA,UAI2BzE,IAAI,SAAC2I,GAChC,IAAI6J,EAAcC,OAAO9J,EAAU,KAAO8J,OAAOJ,EAAG5T,YAEpD,OADA4T,EAAGK,QAAQL,EAAG5T,UAAY,GAClB+T,IAGZ,OACIpb,EAAAC,EAAAC,cAACF,EAAAC,EAAMwN,SAAP,KACIzN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAaI,MAAO,CAAEmN,SAAUlN,EAASmN,EAAG,MAAQnN,EAASoN,EAAK,oBAAsBP,EAAMjD,SACzGpK,EAAAC,EAAAC,cAAC2N,GAAA,EAAD,CAAOC,UAAU,MAAMC,QAAS,GAC5B/N,EAAAC,EAAAC,cAAC8N,GAAA,EAAD,CAAYC,aAAW,OAAOpN,QAAS0M,GACnCvN,EAAAC,EAAAC,cAACgO,GAAAjO,EAAD,OAEJD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeyB,GAC7B5B,EAAAC,EAAAC,cAAC8N,GAAA,EAAD,CAAYC,aAAW,OAAOpN,QAASyM,GACnCtN,EAAAC,EAAAC,cAACiO,GAAAlO,EAAD,OAEJD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeqN,KAIjCH,EAAMzE,IAAI,SAACwF,EAAMjE,GACb,OAAOnK,EAAAC,EAAAC,cAAA,OAAK2I,IAAKjH,EAAQwM,EAAMjO,UAAU,WAAWI,MAAO,CAAEmN,SAAWlN,EAASmN,EAAI,EAAK,OAASnN,EAASoN,EAAIzD,GAAK,uBAChHiE,yxMCvBzB,SAASmN,GAAU3P,GACf,IAAM4P,EAAa5P,EAAM4P,WACzB,OAAmB,IAAfA,EACOxb,EAAAC,EAAAC,cAACub,GAAD,MAEQ,IAAfD,EACOxb,EAAAC,EAAAC,cAACwb,GAAD,MAEJ1b,EAAAC,EAAAC,cAACyb,GAAD,MAGI,SAASC,GAATja,GAA4D,IAAxCkK,EAAwClK,EAAxCkK,OAAQ6E,EAAgC/O,EAAhC+O,YAAaC,EAAmBhP,EAAnBgP,gBAAmBjO,EAE/CC,mBAAS,MAFsCC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAEhE2I,EAFgEzI,EAAA,GAE1DiZ,EAF0DjZ,EAAA,GAInEkZ,EAAW,IAAIxU,KACnBwU,EAASC,YAAY1Q,EAAM,EAAG,GAGb,IAAI/D,KAAK,yBAA1B,IAMI4K,EAAkB,CAAE8J,QAAS,EAAG3G,gBAAiB,GAAIiD,SAAU,IAG7D2D,EAAoBC,GAAcJ,GAjB+B9Y,EAqBzBL,mBAASsZ,GArBgBhZ,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAqBhEmZ,EArBgElZ,EAAA,GAqB9CmZ,EArB8CnZ,EAAA,GAuBjEoZ,EAAiB,CACnB,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,YAGEC,EAAmB,CACrB,SACA,UACA,YACA,WACA,UAmBEC,EAmNN,WAGI,IAFA,IAAInK,EAAY,CAAC,GAERjI,EAAI,EAAGA,EAAI,GAAIA,IAAK,CACzB,IAAIqS,EAAatK,EAAgBmD,gBAAgBlL,GAAG8N,MAAM7N,OAASgI,EAAUjI,GAC7EiI,EAAU/F,KAAKmQ,GAEnB,OAAOpK,EA1NYqK,GA9DgDtZ,EAgEjDR,mBAASwZ,GAAxBO,EAhEgE7Z,OAAAC,EAAA,EAAAD,CAAAM,EAAA,MAAAG,EAkE9BX,mBAAS,GAlEqBY,EAAAV,OAAAC,EAAA,EAAAD,CAAAS,EAAA,GAkEhEqZ,EAlEgEpZ,EAAA,GAkEjDqZ,EAlEiDrZ,EAAA,GAAAgB,EAoErB5B,mBAAS0Z,EAAeM,IApEHnY,EAAA3B,OAAAC,EAAA,EAAAD,CAAA0B,EAAA,GAoEhEsY,EApEgErY,EAAA,GAoE5CsY,EApE4CtY,EAAA,GAAAG,EAsEhChC,mBAAS,GAtEuBiC,EAAA/B,OAAAC,EAAA,EAAAD,CAAA8B,EAAA,GAsEhEoY,EAtEgEnY,EAAA,GAAAG,GAAAH,EAAA,GAwElCjC,mBAjBd,CACnB,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAgB8Bga,KAxEU3X,EAAAnC,OAAAC,EAAA,EAAAD,CAAAkC,EAAA,GAwEhEiY,EAxEgEhY,EAAA,GAwEnDiY,EAxEmDjY,EAAA,GAAAG,EA0EpCxC,mBAAS4Z,EAAe,IA1EYnX,EAAAvC,OAAAC,EAAA,EAAAD,CAAAsC,EAAA,GA0EhE+X,EA1EgE9X,EAAA,GA0EpD+X,EA1EoD/X,EAAA,GAAAG,EA4EtC5C,mBAAS,GA5E6B6C,EAAA3C,OAAAC,EAAA,EAAAD,CAAA0C,EAAA,GA4EhE6X,EA5EgE5X,EAAA,GAAAG,GAAAH,EAAA,GA8EzC7C,mBAAS,SA9EgCiD,EAAA/C,OAAAC,EAAA,EAAAD,CAAA8C,EAAA,GA8EhEvE,EA9EgEwE,EAAA,GA8EvDyX,EA9EuDzX,EAAA,GAAA0X,GAgFhC3a,mBAAS,IAAI2E,KAAK,0BAhFciW,GAAA1a,OAAAC,EAAA,EAAAD,CAAAya,GAAA,GAgFhEjD,GAhFgEkD,GAAA,GAgFlDC,GAhFkDD,GAAA,GAAAE,GAkFrB9a,mBApCpB,CAC1B,WACA,YACA,cACA,aACA,aAnDmE+a,GAAA7a,OAAAC,EAAA,EAAAD,CAAA4a,GAAA,GAkFxCE,IAlFwCD,GAAA,GAAAA,GAAA,IAsFvE,SAASxB,GAAc7Q,GASnB,OAPmBuS,MAAMC,KAAKD,MAAM,IAAIE,QAAQlV,IAAI,SAACwF,EAAMjE,GACvD,MAAQ,CACJiO,WAAYjO,EACZkD,MAAO0Q,GAAS1S,EAAMlB,EAAG+H,MAPrC1H,QAAQC,IAAI,eAAgB4P,IAgB5B,IADA,IAAIzJ,GAAa,EACRzG,GAAI,EAAGA,GAAIuS,EAAWtS,OAAQD,KACnCyG,IAAc8L,EAAWvS,IAAGkD,MAAMjD,OAGtC,SAAS4T,KAGiB,KAAlBrB,GACAd,EAAQxQ,EAAO,GACfyQ,EAASC,YAAY1Q,EAAM,EAAG,GAE9ByQ,EAAS9F,SAAS8F,EAAS1U,WAAa,IAExCgV,EAAkBF,GAAcJ,IAGhCc,EAAgB,GAChBK,EAAc/K,EAAgBmD,gBAAgB,GAAG4C,MAAM7N,QACvD+S,EAAaZ,EAAe,MAE5BK,EAAgBD,EAAgB,GAChCM,EAAc/K,EAAgBmD,gBAAgBsH,EAAgB,GAAG1E,MAAM7N,QACvE+S,EAAaZ,EAAeI,EAAgB,KAIpD,SAASsB,KAEiB,IAAlBtB,GACAd,EAAQxQ,EAAO,GAEfyQ,EAAS9F,SAAS8F,EAAS1U,WAAa,IAExCgV,EAAkBF,GAAcJ,IAEhCc,EAAgB,IAChBK,EAAc/K,EAAgBmD,gBAAgB,IAAI4C,MAAM7N,QACxD+S,EAAaZ,EAAe,OAE5BK,EAAgBD,EAAgB,GAChCM,EAAc/K,EAAgBmD,gBAAgBsH,EAAgB,GAAG1E,MAAM7N,QACvE+S,EAAaZ,EAAeI,EAAgB,KAKpD,IAAMuB,GAAQ,eAAAC,EAAAtb,OAAAub,GAAA,EAAAvb,CAAAwb,KAAAC,KAAG,SAAAC,IAAA,IAAAtD,EAAAuD,EAAAC,EAAAC,EAAAC,EAAA,OAAAN,KAAAO,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAvR,MAAA,OACT2N,EAAK,IAAI3T,KAAK+S,IAElBsD,GAAgBrB,EAAiB1T,IAAI,SAAC2I,GAClC,IAAI6J,EAAcC,OAAO9J,EAAU,KAAO8J,OAAOJ,EAAG5T,YAEpD,OADA4T,EAAGK,QAAQL,EAAG5T,UAAY,GAClB+T,KAKRoD,EAAW,IAAIlX,KAAK+S,IAClBoE,EAAI,IAAInX,KAAKkX,EAASlD,QAAQjB,GAAahT,UAAY,KAEzDqX,EAAmB,IAAIpX,KAAKkX,IACflD,QAAQjB,GAAahT,UAAY,GAC5CsX,EAAeD,EAAiBtX,WAElCyV,EAAmB5S,SAAS,MAC5B6S,EAAoBT,EAAeM,IAGlCgC,GAActE,GAAajT,WACP,IAAjBuV,GACAG,EAAoBT,EAAeM,GAAiB,MAAQN,EAAe,IAC3EO,EAAgB,GAChBf,EAAQxQ,EAAO,KAEfyR,EAAoBT,EAAeM,GAAiB,MAAQN,EAAeM,EAAgB,IAC3FC,EAAgBD,EAAgB,IAGhCtC,GAAajT,YAAcqX,EAAErX,aACR,IAAjBuV,GACAG,EAAoBT,EAAe,IACnCO,EAAgB,GAChBf,EAAQxQ,EAAO,KAEfyR,EAAoBT,EAAeM,EAAgB,IACnDC,EAAgBD,EAAgB,KAK5Ca,GAAeiB,GA5CF,yBAAAI,EAAAE,SAAAR,MAAH,yBAAAJ,EAAAa,MAAArS,KAAAyE,YAAA,GAkDd,SAAS6N,KACL,IAAIhE,EAAK,IAAI3T,KAAK+S,IAElBsD,GAAgBrB,EAAiB1T,IAAI,SAAC2I,GAClC,IAAI6J,EAAcC,OAAO9J,EAAU,KAAO8J,OAAOJ,EAAG5T,YAEpD,OADA4T,EAAGK,QAAQL,EAAG5T,UAAY,GAClB+T,KAKZ,IAAIqD,EAAI,IAAInX,KAAK+S,IAEjBoE,EAAEnD,QAAQmD,EAAEpX,UAAY,GAIxB,IAAI6X,EAAY,IAAI5X,KAAKmX,GACzBS,EAAU5D,QAAQ4D,EAAU7X,UAAY,GACxC,IAAMsX,EAAeO,EAAU9X,WAI3ByV,EAAmB5S,SAAS,MAC5B6S,EAAoBT,EAAeM,IAGvCnS,QAAQC,IAAIkS,GAIPgC,GAActE,GAAajT,WAGG,GAA3BiT,GAAajT,YACb0V,EAAoBT,EAAehC,GAAajT,YAAc,MAAQiV,EAAe,KACrFO,EAAgB,IAChBf,EAAQxQ,EAAO,KAGfyR,EAAoBT,EAAehC,GAAajT,YAAc,MAAQiV,EAAeM,EAAgB,IACrGC,EAAgBD,EAAgB,IAIhCtC,GAAajT,YAAcqX,EAAErX,aAEE,GAA3BiT,GAAajT,YACb0V,EAAoBT,EAAe,KACnCO,EAAgB,IAChBf,EAAQxQ,EAAO,KAGfyR,EAAoBT,EAAehC,GAAajT,WAAa,IAC7DwV,EAAgBvC,GAAajT,WAAa,KAKtDoW,GAAeiB,GA6BnB,IA0CMU,GAAe,SAACC,GAClB/B,EAAW+B,EAAMvY,OAAOC,QAGtBuY,GAAsB,WAExB,OACIrf,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACiG,EAAA,EAAD,CAAapE,GAAI,CAAEqE,EAAG,EAAGC,SAAU,KAC/BrG,EAAAC,EAAAC,cAACqG,EAAA,EAAD,CAAYC,GAAG,wBAAf,QACAxG,EAAAC,EAAAC,cAACuG,EAAA,EAAD,CACIC,QAAQ,uBACRF,GAAG,iBACHM,MAAO1F,EACPwF,SAAUuY,GACVG,WAAS,EACT3Y,MAAM,WAEN3G,EAAAC,EAAAC,cAAC6G,EAAA,EAAD,CAAUD,MAAO,QAAjB,QACA9G,EAAAC,EAAAC,cAAC6G,EAAA,EAAD,CAAUD,MAAO,QAAjB,QACA9G,EAAAC,EAAAC,cAAC6G,EAAA,EAAD,CAAUD,MAAO,SAAjB,aAUpB,MAAgB,UAAZ1F,EAEIpB,EAAAC,EAAAC,cAACF,EAAAC,EAAMwN,SAAP,KACIzN,EAAAC,EAAAC,cAACqb,GAAD,CAAWC,WAAY7X,eAAaC,IAAI,WACxC5D,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBAEPkf,KA5DA,SAACjR,EAAMjE,GACvB,OACInK,EAAAC,EAAAC,cAACkN,GAAD,CAAOvE,IAAKwT,EAAejO,EAAKgK,YAAc,SAAUxW,MAAOya,EAAejO,EAAKgK,YAC/E5X,SAAU,CAAEmN,EAAG,EAAGC,EAAS,IAANzD,EAAUA,EAAI,EAAIoV,GAAiBpD,EAAkBhS,GAAK,GAAKkD,MAAOe,EAAKf,MAChGC,KAAM0Q,GAAWzQ,SAAU0Q,GAAezQ,YAAanC,IA2D/CmU,CAAY9C,EAAWC,KA9EnC3c,EAAAC,EAAAC,cAACuf,GAAD,CAAmB5T,OAAQA,EAAQ6E,YAAaA,EAAauB,mBAAoBtB,EACjFuB,gBAAiBA,EAAiBtB,WAAYA,GAAY0J,UAAW,IAAIhT,KAAK,yBAC9E6K,kBAAmB6K,EAAa3K,aAAcsK,EAAetR,KAAMA,KAoFpD,SAAZjK,EAEHpB,EAAAC,EAAAC,cAACF,EAAAC,EAAMwN,SAAP,KACIzN,EAAAC,EAAAC,cAACqb,GAAD,CAAWC,WAAY7X,eAAaC,IAAI,WACxC5D,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBAEPkf,KA/DD,SAACK,EAAgBtR,EAAMjE,GAEtC,OADAK,QAAQC,IAAI,sBAERzK,EAAAC,EAAAC,cAACyf,GAAD,CAAM9W,IAAKwT,EAAeM,GAAiB,SAAU/a,MAAOib,EACxDrc,SAAU,CAAEmN,EAAG,EAAGC,EAAS,IAANzD,EAAUA,EAAI,EAAI,GACvCmD,KAAM4Q,GAAU3Q,SAAU0R,GAAczR,YAAanC,EAAMgP,aAAcA,KA6DjEuF,CAAWC,EAAuBnD,EAAWC,KArFzD3c,EAAAC,EAAAC,cAAC4f,GAAD,CAAiBjU,OAAQA,EAAQ6E,YAAaA,EAAauB,mBAAoBtB,EAC/EuB,gBAAiBA,EAAiBtB,WAAY,EAAGuJ,YAAaE,GAAcjI,UAAW8K,EAAYjD,SAAUmD,EAC7GpD,gBAAiB,EAAG3H,aAAcsK,EAAezC,YAAa6C,EAAc1R,KAAMA,KA4F1E,SAAZjK,EAEIpB,EAAAC,EAAAC,cAACF,EAAAC,EAAMwN,SAAP,KACIzN,EAAAC,EAAAC,cAACqb,GAAD,CAAWC,WAAY7X,eAAaC,IAAI,WACxC5D,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBAEPkf,KAGA3C,EAAW9T,IAAI,SAACwF,EAAMjE,GAClB,OA3FA,SAACiE,EAAMjE,GAC3B,OAAOnK,EAAAC,EAAAC,cAAC6f,GAAD,CAAWlX,IAAKwT,EAAejO,EAAKgK,YAAc,SAAUxW,MAAOya,EAAejO,EAAKgK,YAC1F5X,SAAU,CAAEmN,EAAG,EAAGC,EAAS,IAANzD,EAAUA,EAAI,EAAIoV,GAAiBtD,EAAmB9R,GAAK,GAAKkD,MAAOe,EAAKf,QA0F7E2S,CAAgB5R,EAAMjE,MAKtCnK,EAAAC,EAAAC,cAAC+f,GAAD,CAAiBpU,OAAQA,EAAQ6E,YAAaA,EAAauB,mBAAoBtB,EAAiBuB,gBAAiBA,EAAiBtB,WAAYA,WAhB1J,EAuBJ,SAASmN,GAAS/X,EAAWoF,EAAO8G,GAKhC,IAJA,IAAM7E,EAAQ,GACR6S,EAAY,CAAE9U,MAAOpF,EAAUoB,WAAY6Q,MAAO,IAGjDjS,EAAUoB,aAAegE,GAAO,CAEnC,IAAML,EAAQmH,EAAgB8J,QAAU3O,EAAMjD,OACxC0L,EAAO,IAAIxO,KAAKtB,EAAUyF,WAChCyU,EAAUjI,MAAM5L,KAAK,CAAEtB,MAAOA,EAAO+K,KAAMA,IAC3C5D,EAAgBoG,SAASvN,GAAS+K,EAGlCzI,EAAMhB,KAAKrG,EAAUqB,WAGrBrB,EAAUsV,QAAQtV,EAAUqB,UAAY,GAK5C,OAFA6K,EAAgBmD,gBAAgBhJ,KAAK6T,GACrChO,EAAgB8J,SAAW3O,EAAMjD,OAC1BiD,EAKX,SAASkS,GAAiBlS,EAAOtC,GAG7B,IAFA,IAAIoV,EAAM,EAEDhW,EAAIY,EAAQ,EAAGZ,GAAK,EAAGA,IAC5BgW,GAAO9S,EAAMlD,GAAGkD,MAAMjD,OAG1B,OAAO+V,EHvdUnO,GACZ/P,aAAe,CACpB9B,UAAW,SACXoY,UAAW,GACXpP,OAAQ,CAAC,EAAG,GACZqP,cAAc,EACdC,kBAAkB,EAClBC,cAAe,CAAC,KAChBC,YAAa,KACbrB,UAAU,GIVd,IAAMvO,GAAiB,IACjBqX,GAAuB,QAERC,eAQnB,SAAAA,EAAA1e,GAAwB,IAAAqI,EAAV6B,EAAUlK,EAAVkK,OAAU,OAAAhJ,OAAAyP,EAAA,EAAAzP,CAAA8J,KAAA0T,IACtBrW,EAAAnH,OAAA0P,EAAA,EAAA1P,CAAA8J,KAAA9J,OAAA2P,EAAA,EAAA3P,CAAAwd,GAAA5N,KAAA9F,QARFlD,MAAQ,CACN6W,YAAa,GACb5P,YAAa,EACb5G,QAAQ,EACRyW,MAAO,IAGevW,EAcxB+B,UAAY,SAACC,GACX,IAAKA,EACH,OAAO,KAKT,IAHA,IAAMC,EAAaC,KAAKC,MAAMH,GAE1B2E,EAAkB,GACbxG,EAAI,EAAGA,EAAI8B,EAAW7B,OAAQD,IAAK,CAC1C,IAAMtB,EAAMoD,EAAW9B,GAAGoB,SAEtBiI,OAAU,EAEV7C,EAAgB9H,GAClB2K,EAAa7C,EAAgB9H,KAE7B2K,EAAa,IACF3B,WAAa,GACxB2B,EAAW7K,UAAY,GACvB6K,EAAWnE,KAAOpD,EAAW9B,GAAGqW,WAAa,IAAMvU,EAAW9B,GAAGsW,UACjEjN,EAAW3K,IAAMA,EACjB8H,EAAgB9H,GAAO2K,GAGO,MAA5BvH,EAAW9B,GAAGqB,YAAgD,MAA1BS,EAAW9B,GAAGuB,UACpD8H,EAAW3B,WAAWxF,KAAK,CACzBuH,MAAO,IAAItM,KAAK2E,EAAW9B,GAAGqB,YAC9BqI,IAAK,IAAIvM,KAAK2E,EAAW9B,GAAGuB,UAC5B2D,KAAMpD,EAAW9B,GAAGvI,MACpB8R,UAAWzH,EAAW9B,GAAGsE,WACzBkF,KAAM1H,EAAW9B,GAAGuW,MACpBhM,OAAQzI,EAAW9B,GAAGoB,WAMU,MAAhCU,EAAW9B,GAAGwW,gBAAwD,MAA9B1U,EAAW9B,GAAGyW,cAAmD,IAA3B3U,EAAW9B,GAAG0W,UAC9FrN,EAAW7K,UAAU0D,KAAK,CACxBoJ,WAAYxJ,EAAW9B,GAAGgK,YAC1BO,OAAQzI,EAAW9B,GAAGoB,SACtBgK,cAAe,IAAIjO,KAAK2E,EAAW9B,GAAGwW,gBACtCnL,YAAa,IAAIlO,KAAK2E,EAAW9B,GAAGyW,gBAI1CjQ,EAAkB9N,OAAOnE,OAAOiS,GAChCnG,QAAQC,IAAIkG,GAEZ3G,EAAKM,SAAS,CAAEgW,YAAa3P,EAAiBD,YAA4C,GAA9BC,EAAgBvG,OAAS,KACrFJ,EAAKM,SAAS,CAAER,QAAQ,KA/DFE,EAkExB8W,mCAAqC,WACnCvU,MAAMxD,GAAiBqX,IACpB5T,KAAK,SAAAC,GACJ,OAAOA,EAASC,SAEjBF,KAAK,SAAAR,GACJhC,EAAK+B,UAAUC,KAEhB+U,MAAM,SAACR,GACN/V,QAAQ+V,MAAM,SAAUA,GACxB/V,QAAQC,IAAI8V,MA1EhBvW,EAAK6B,OAASA,EAFQ7B,gFAMtB,OAAO2C,KAAKlD,MAAMiH,mDAGLA,GACb/D,KAAKrC,SAAS,CAAEoG,YAAaA,IAC7BlG,QAAQC,IAAI,gBAAkBkC,KAAKlD,MAAMiH,yDAsExC/D,KAAKmU,2EAGM3K,GACZ3L,QAAQC,IAAI0L,uCAGF,IAAAW,EAAAnK,KAEV,OACE3M,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACU,KAArBwM,KAAKlD,MAAM8W,MACXvgB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cAAc0I,IAAK,cAChC7I,EAAAC,EAAAC,cAAA,oBACAF,EAAAC,EAAAC,cAAA,SAAIyM,KAAKlD,MAAM8W,OACfvgB,EAAAC,EAAAC,cAAA,UAAQK,MAAO,CAAEC,SAAU,WAAYE,IAAK,EAAG4V,MAAO,GAAKzV,QAAS,WAAQiW,EAAKxM,SAAS,CAAEiW,MAAO,OACjGvgB,EAAAC,EAAAC,cAAA,qBAIJ0M,EAGF5M,EAAAC,EAAAC,cAAC0b,GAAD,CAAU/P,OAAQc,KAAKd,OAAQ6E,YAAa,CAAE9M,IAAK,kBAAMkT,EAAKkK,kBAAkBxP,IAAK,SAACyP,GAAD,OAAWnK,EAAKoK,eAAeD,KAClHtQ,gBAAiBhE,KAAKlD,MAAM6W,gDAK3B,IAAA5I,EAAA/K,KAeP,OAbAA,KAAKd,OAAO4F,GAAG,QAAS,SAAC0P,GACvB3W,QAAQC,IAAI0W,UACAA,IAAS9F,OACnB3D,EAAKpN,SAAS,CAAEiW,MAAOY,SAEJvU,IAAfuU,EAAIC,OACN1J,EAAKpN,SAAS,CAAEiW,MAAO,eAAiBY,EAAIE,OAE5C3J,EAAKpN,SAAS,CAAEiW,MAAOY,EAAIC,WAM/BzU,KAAKlD,MAAMK,OACT6C,KAAKM,YAELjN,EAAAC,EAAAC,cAAA,sCAzIyBgN,IAAMC,qBCJjC5O,kBAAeC,YAAY,CAC7BC,YAAa,CACTC,OAAQ,CACJC,IAAK,EACLC,GAAI,IACJC,GAAI,SAKVC,GAASC,YAAW,CACtBC,OAAQ,CACJC,OAAQ,EACRC,aAAc,EACdC,MAAO,QACPC,QAAS,SACTC,WAAY,UACZC,MAAO,MACPC,UAAW,SACXC,UAAW,CACPH,WAAY,WAEhBI,UAAW,CACPJ,WAAY,UACZG,UAAW,CACPH,WAAY,YAGpBK,UAAW,QACXC,WAAY,OAEhBC,MAAO,CACHN,MAAO,GACPO,OAAQ,MAIhB,SAASC,KACL,IAAMC,EAAUjB,KAChB,OAAOkB,EAAAC,EAAAC,cAAA,OAAKC,UAAWJ,EAAQH,MAAOQ,IAAKC,EAAQ,IAC/CC,IAAK,OAAQC,MAAO,CAChBC,SAAU,WACVC,KAAM,EACNC,IAAK,KAIjB,SAASC,KACL,IAAMZ,EAAUjB,KAChB,OAAOkB,EAAAC,EAAAC,cAACU,EAAA,EAAD,CAAQT,UAAWJ,EAAQf,OAAQ6B,QAAS,SAACC,GAAQC,OAAOC,SAASC,KAAO,MAA5E,QAGX,IAAMC,GAAgBC,YAAO,MAAPA,CAAc,CAChC7B,MAAO,QACPO,OAAQ,OACRuB,QAAS,OACTC,cAAe,SACfC,WAAY,OACZC,eAAgB,eAChBpC,MAAO,UACPqC,gBAAiB,UAGfC,GAAuBN,YAAO,MAAPA,CAAc,CACvC7B,MAAO,OACPO,OAAQ,OACRuB,QAAS,OACTC,cAAe,MACfC,WAAY,SACZC,eAAgB,WAWdG,IAPoBP,YAAO,MAAPA,CAAc,IAGlBA,YAAO,MAAPA,CAAc,IAIrB,SAAAQ,GAAe,IAAZC,EAAYD,EAAZC,MACd,OACI5B,EAAAC,EAAAC,cAACohB,GAAD,KACIthB,EAAAC,EAAAC,cAACqhB,GAAD,MACAvhB,EAAAC,EAAAC,cAACshB,GAAD,KACIxhB,EAAAC,EAAAC,cAAC2B,EAAA,EAAD,CAAYC,MAAOvD,GAAcwD,GAAI,CACjCC,SAAU,CACNrD,IAAK,OACLC,GAAI,OACJC,GAAI,QAERc,WAAY,CACRhB,IAAK,OACLC,GAAI,UAGRoB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,iBAAiByB,IAEnC5B,EAAAC,EAAAC,cAACuhB,GAAD,UAMhB/f,GAAOO,aAAe,CAClBL,MAAO,kBAGIF,UCxGTqH,GAAiB,IAEjB2Y,eAEJ,SAAAA,EAAA/f,GAAqC,IAAAqI,EAAvB4B,EAAuBjK,EAAvBiK,MAAOmI,EAAgBpS,EAAhBoS,KAAMlI,EAAUlK,EAAVkK,OAAU,OAAAhJ,OAAAyP,EAAA,EAAAzP,CAAA8J,KAAA+U,IACnC1X,EAAAnH,OAAA0P,EAAA,EAAA1P,CAAA8J,KAAA9J,OAAA2P,EAAA,EAAA3P,CAAA6e,GAAAjP,KAAA9F,KAAMf,KAgBR+V,WAAa,SAAAxD,GAAoCA,EAAjC9O,KAAiC,IAA3BvI,EAA2BqX,EAA3BrX,MAA2BqX,EAApByD,cAC3B5X,EAAKM,SAAS,CAAEuX,YAAa/a,GAAS,WACpCkD,EAAK6B,OAAOC,KAAK,YAAa,CAC5B4U,MAAO1W,EAAK0W,MACZlS,OAAQxE,EAAKwE,OACbsH,KAAM9L,EAAK8L,KAAKrK,UAChBoW,YAAa7X,EAAKP,MAAMoY,YACxBC,MAAO9X,EAAK8X,MACZC,WAAY/X,EAAKP,MAAMsY,WACvBC,UAAWhY,EAAKP,MAAMuY,UACtBC,SAAUjY,EAAKP,MAAMwY,SACrBC,QAASlY,EAAKkY,QACd3W,SAAUvB,EAAKwJ,gBA3BnBxJ,EAAKP,MAAQ,CACXoY,YAAa9N,EAAK8N,YAClBG,UAAWjO,EAAKiO,UAChBD,WAAYhO,EAAKgO,WACjBE,SAAUlO,EAAKkO,UAEjBjY,EAAK0W,MAAQ3M,EAAK2M,MAClB1W,EAAKwE,OAASuF,EAAKvF,OACnBxE,EAAK8L,KAAO/B,EAAK+B,KACjB9L,EAAK8X,MAAQ/N,EAAK+N,MAClB9X,EAAKkY,QAAUnO,EAAKmO,QACpBlY,EAAKwJ,WAAaO,EAAKxI,SACvBvB,EAAK6B,OAASA,EAdqB7B,wEAkC5B,IAAA8M,EAAAnK,KAGHwV,GAFiBxV,KAAKlD,MAAM2Y,SAEhB,MAWhB,OAVIzV,KAAKlD,MAAMuY,YACbG,EAAYxV,KAAKlD,MAAMuY,UAAUpZ,IAAI,SAACyZ,EAAOtX,GAC3C,OACE/K,EAAAC,EAAAC,cAAA,MAAI2I,IAAKwZ,GAAT,GAAAlb,OACM2P,EAAKrN,MAAMsY,WAAWhX,GAD5B,OAAA5D,OACwC2P,EAAKrN,MAAMwY,SAASlX,QAOhE/K,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAACoiB,GAAA,EAAD,CACEjT,KAAK,OACLE,aAAcgT,GAAc5V,KAAKmJ,MACjC0M,UAAQ,KAGZxiB,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAACoiB,GAAA,EAAD,CACEjT,KAAK,aACLE,aAAc5C,KAAK6G,WAAa7G,KAAK6G,WAAa,yBAClDgP,UAAQ,KAGZxiB,EAAAC,EAAAC,cAAA,MAAIuiB,MAAM,eACRziB,EAAAC,EAAAC,cAACoiB,GAAA,EAAD,CACEjT,KAAK,cACLE,aAAe5C,KAAKlD,MAAMoY,aAAyC,QAA1BlV,KAAKlD,MAAMoY,YAA6BlV,KAAKlD,MAAMoY,YAAhB,GAC5Ea,OAAQ/V,KAAKgV,WACbgB,KAAM,KAGV3iB,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UACGiiB,EACAxV,KAAK6G,WACJxT,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAACuW,GAAA,EAAD,CACEtW,UAAU,iBACVuW,GAAI,CACFC,SAAU,aACVC,OAAM,UAAAzP,OAAYwF,KAAKmV,MAAjB,UAAA3a,OAA+BwF,KAAKmJ,QAJ9C,SAQA,eAvFE5I,IAAMC,WA+FlBgO,eAEJ,SAAAA,EAAAyH,GAAqC,IAAAlL,EAAvB9L,EAAuBgX,EAAvBhX,MAAOmI,EAAgB6O,EAAhB7O,KAAMlI,EAAU+W,EAAV/W,OAAU,OAAAhJ,OAAAyP,EAAA,EAAAzP,CAAA8J,KAAAwO,IAEnCzD,EAAA7U,OAAA0P,EAAA,EAAA1P,CAAA8J,KAAA9J,OAAA2P,EAAA,EAAA3P,CAAAsY,GAAA1I,KAAA9F,KAAMf,KACDnC,MAAQ,CACXoZ,KAAM9O,GAER2D,EAAK7L,OAASA,EAEd6L,EAAK7L,OAAO4F,GAAG,YAAa,SAACqR,GAI3B,IAAI/X,EAFJ+X,EAAQhN,KAAO,IAAIxO,KAAKwb,EAAQhN,MAIhC,IAAK,IAAI3L,EAAI,EAAGA,EAAIuN,EAAKjO,MAAMoZ,KAAKzY,OAAQD,IAC1C,GAAIuN,EAAKjO,MAAMoZ,KAAK1Y,GAAG2X,OAASgB,EAAQhB,MAAO,CAC7C/W,EAAQZ,EACR,MAIJ,IAAI4Y,EAAWrL,EAAKjO,MAAMoZ,KAAKhQ,QAC/BkQ,EAAShY,GAAS+X,EAClBtY,QAAQC,IAAIqY,GAEZpL,EAAKpN,SAAS,CACZuY,KAAMxR,KAAEuD,OAAOmO,EAAU,SAAClO,EAAKhQ,GAC7B,IAAMme,EAAUne,EAChB,SAAAsC,OAAAtE,OAAAgI,EAAA,EAAAhI,CAAWgS,GAAX,CAAgBmO,KACf,QA7B4BtL,yEAmC3BuL,GACR,OACEjjB,EAAAC,EAAAC,cAACgjB,GAAD,CAAKra,IAAKoa,EAAQnB,MAAQmB,EAAQ1X,SAAW0X,EAAQpB,YACnD9N,KAAMkP,EACNpX,OAAQc,KAAKd,0CAKV,IAAAsX,EAAAxW,KACDkW,EAAOlW,KAAKlD,MAAMoZ,KAAKja,IAAI,SAAC/D,EAAKkG,GACrC,OACEoY,EAAKC,UAAUve,KAGnB,OACE7E,EAAAC,EAAAC,cAAA,SAAO2I,IAAK8D,KAAKlD,MAAMoZ,KAAK,GAAGf,OAC7B9hB,EAAAC,EAAAC,cAAA,uCAA+BqiB,GAAc5V,KAAKlD,MAAMoZ,KAAK,GAAG/M,OAChE9V,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,kBACAF,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAAA,yBACAF,EAAAC,EAAAC,cAAA,yBAGJF,EAAAC,EAAAC,cAAA,aACG2iB,WAhEQ3V,IAAMC,WAuEnBkW,eAGJ,SAAAA,EAAAC,GAA0C,IAAAC,EAA5B3X,EAA4B0X,EAA5B1X,MAAOC,EAAqByX,EAArBzX,OAAQ6H,EAAa4P,EAAb5P,UAAa,OAAA7Q,OAAAyP,EAAA,EAAAzP,CAAA8J,KAAA0W,IACxCE,EAAA1gB,OAAA0P,EAAA,EAAA1P,CAAA8J,KAAA9J,OAAA2P,EAAA,EAAA3P,CAAAwgB,GAAA5Q,KAAA9F,KAAMf,KAuCRG,UAAY,SAACC,GACX,IAAKA,EACH,OAAO,KAKT,IAFA,IAAMC,EAAaC,KAAKC,MAAMH,GAErB7B,EAAI,EAAGA,EAAI8B,EAAW0W,KAAKvY,OAAQD,IAC1C8B,EAAW0W,KAAKxY,GAAG2L,KAAO,IAAIxO,KAAK2E,EAAW0W,KAAKxY,GAAG2L,MAMxD,IAHA,IAAI0N,EAAgB,GAChBC,EAAoB,EACpBC,EAAa,KACRvZ,EAAI,EAAGA,EAAI8B,EAAW0W,KAAKvY,OAAQD,IACtC8B,EAAW0W,KAAKxY,GAAG4X,WACjB2B,GAAczX,EAAW0W,KAAKxY,GAAG2X,OACnC0B,EAAcC,EAAoB,GAAG1B,WAAW1V,KAAKJ,EAAW0W,KAAKxY,GAAG4X,YACxEyB,EAAcC,EAAoB,GAAGzB,UAAU3V,KAAKJ,EAAW0W,KAAKxY,GAAG6X,WACvEwB,EAAcC,EAAoB,GAAGxB,SAAS5V,KAAKJ,EAAW0W,KAAKxY,GAAG8X,WAEtEwB,EAAoBD,EAAcnX,KAAK,CACrCqU,MAAOzU,EAAW0W,KAAKxY,GAAGuW,MAC1BlS,OAAQvC,EAAW0W,KAAKxY,GAAGqE,OAC3BsH,KAAM7J,EAAW0W,KAAKxY,GAAG2L,KACzB+L,YAAa5V,EAAW0W,KAAKxY,GAAG0X,YAChCC,MAAO7V,EAAW0W,KAAKxY,GAAG2X,MAC1BC,WAAY,CAAC9V,EAAW0W,KAAKxY,GAAG4X,YAChCC,UAAW,CAAC/V,EAAW0W,KAAKxY,GAAG6X,WAC/BC,SAAU,CAAChW,EAAW0W,KAAKxY,GAAG8X,UAC9BC,QAASjW,EAAW0W,KAAKxY,GAAG+X,QAC5B3W,SAAUU,EAAW0W,KAAKxY,GAAGoB,WAKjCkY,EAAoBD,EAAcnX,KAAKJ,EAAW0W,KAAKxY,IAEzDuZ,EAAazX,EAAW0W,KAAKxY,GAAG2X,MAGlCtX,QAAQC,IAAI+Y,GAEZD,EAAKjZ,SAAS,CAAE0B,KAAMwX,IACtBD,EAAKjZ,SAAS,CAAEqZ,YAAY,KApFYJ,EAuF1CK,sCAAwC,SAAClQ,GACvCnH,MAAMxD,GAAc,8BAAA5B,OAAiCuM,GAAa,CAChEmQ,OAAQ,MACRC,QAAS,CAAEC,eAAgB,sBAE1BvX,KAAK,SAAAC,GACJ,OAAOA,EAASC,SAEjBF,KAAK,SAAAR,GACJuX,EAAKxX,UAAUC,MA9FnBuX,EAAK1X,OAASA,EACd0X,EAAK9Z,MAAQ,CACXuC,KAAM,KACN2X,YAAY,GAEdJ,EAAK7P,UAAYA,EAPuB6P,0EAU/BS,GACT,OACEhkB,EAAAC,EAAAC,cAAC+jB,GAAD,CAAMpb,IAAKmb,EAAS,GAAGlC,MACrB/N,KAAMiQ,EACNnY,OAAQc,KAAKd,gDASjB,IAHa,IAAAqY,EAAAvX,KACTwX,EAAY,IAAIvG,MAEXzT,EAAI,EAAGia,EAAIzX,KAAKlD,MAAMuC,KAAK5B,OAAQD,EAAIia,EAAGja,GADrC,EAEZga,EAAU9X,KAAKM,KAAKlD,MAAMuC,KAAK6G,MAAM1I,EAAGA,EAF5B,IAId,IAAMkD,EAAQ8W,EAAUvb,IAAI,SAACmS,EAAMhQ,GACjC,OACEmZ,EAAKG,WAAWtJ,KAGpB,OACE/a,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACokB,GAAD,MACAtkB,EAAAC,EAAAC,cAAA,aAAAiH,OAAQwF,KAAKlD,MAAMuC,KAAK,GAAGkW,QAA3B,OAAA/a,OAAwCwF,KAAKlD,MAAMuC,KAAK,GAAGwC,SAAcxO,EAAAC,EAAAC,cAAA,WACxEmN,+CAkELV,KAAKiX,sCAAsCjX,KAAK+G,4CAKhD,OACE/P,eAAaC,IAAI,UAAY,EAC3B+I,KAAKlD,MAAMka,WAAahX,KAAK4X,eAC3BvkB,EAAAC,EAAAC,cAAA,+BAEFa,OAAOC,SAASC,KAAO,WAlHViM,IAAMC,WA+HZqX,GAPU,SAAC3Y,GAAW,IAAA4Y,EACKC,eADLC,EAAA9hB,OAAAC,EAAA,EAAAD,CAAA4hB,EAAA,GAC5BG,EAD4BD,EAAA,GAAAA,EAAA,GAEnC,OACE3kB,EAAAC,EAAAC,cAAC2kB,GAAD,CAAQhZ,OAAQA,EAAOA,OAAQ6H,UAAWkR,EAAahhB,IAAI,gBAM/D,SAAS2e,GAAczM,GAErB,MADe,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC9EA,EAAK1O,YAAc,IAAM0O,EAAKzO,qBC7SzC0B,GAAiB,QAEjB+b,eACJ,SAAAA,EAAAnjB,GAAuD,IAAAqI,EAAzC4B,EAAyCjK,EAAzCiK,MAAOC,EAAkClK,EAAlCkK,OAAQkZ,EAA0BpjB,EAA1BojB,OAAQC,EAAkBrjB,EAAlBqjB,QAASlD,EAASngB,EAATmgB,MAAS,OAAAjf,OAAAyP,EAAA,EAAAzP,CAAA8J,KAAAmY,IACrD9a,EAAAnH,OAAA0P,EAAA,EAAA1P,CAAA8J,KAAA9J,OAAA2P,EAAA,EAAA3P,CAAAiiB,GAAArS,KAAA9F,KAAMf,KAWRqZ,YAAc,WACZjb,EAAK+a,UAbgD/a,EAgBvDkb,aAAe,WACb1a,QAAQC,IAAIT,EAAKmb,mBACjBnb,EAAK4B,MAAMmZ,SAEPK,MAAMpb,EAAKP,MAAM4b,YACnB3a,MAAM,yBACGV,EAAKP,MAAM4b,WAAarb,EAAKmb,kBACtCza,MAAM,mCACGV,EAAKP,MAAM4b,YAAc,EAClC3a,MAAM,mBAENA,MAAK,sBAAAvD,OACmB6C,EAAKP,MAAM4b,WAD9B,KAAAle,OAC4C6C,EAAKgb,QAAQjD,aAE9D/X,EAAK6B,OAAOC,KAAK,eAAgB,CAC/BgW,MAAO9X,EAAK8X,MACZE,UAAWhY,EAAKgb,QAAQhD,UACxBD,WAAY/X,EAAKgb,QAAQjD,WACzBuD,eAAgBtb,EAAKgb,QAAQM,eAC7BC,eAAgBvb,EAAKgb,QAAQO,eAC7BC,OAAQxb,EAAKmb,kBAAoBnb,EAAKP,MAAM4b,WAC5CI,gBAAiBzb,EAAKP,MAAM4b,eArCqBrb,EA0CvD0b,iBAAmB,SAACC,GAClB3b,EAAKM,SAAS,CACZ+a,WAAYM,EAAI9e,OAAOC,SA1CzBkD,EAAKP,MAAQ,CACX4b,WAAY,GAEdrb,EAAKgb,QAAUA,EACfhb,EAAK+a,OAASA,EACd/a,EAAK6B,OAASA,EACd7B,EAAKmb,kBAAoBH,EAAQQ,OACjCxb,EAAK8X,MAAQA,EATwC9X,wEAgD9C,IAAA8M,EAAAnK,KACP,OACE3M,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,QAAQU,QAAS8L,KAAKsY,aAAtC,QAGAjlB,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,SAAOsG,GAAG,cAAV,mBAEExG,EAAAC,EAAAC,cAAA,SACEqC,KAAK,OACL8M,KAAK,QACLvI,MAAO6F,KAAKlD,MAAM4b,WAClBze,SAAU,SAAC+e,GAAD,OAAS7O,EAAK4O,iBAAiBC,OAG7C3lB,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOqC,KAAK,SAAS1B,QAAS8L,KAAKuY,yBAnE3B/X,aA2EdyY,eACJ,SAAAA,EAAAzH,GAA+C,IAAAzG,EAAjC9L,EAAiCuS,EAAjCvS,MAAOC,EAA0BsS,EAA1BtS,OAAQmZ,EAAkB7G,EAAlB6G,QAASlD,EAAS3D,EAAT2D,MAAS,OAAAjf,OAAAyP,EAAA,EAAAzP,CAAA8J,KAAAiZ,GAC7Cpb,QAAQC,IAAIua,IACZtN,EAAA7U,OAAA0P,EAAA,EAAA1P,CAAA8J,KAAA9J,OAAA2P,EAAA,EAAA3P,CAAA+iB,GAAAnT,KAAA9F,KAAMf,KAcRia,UAAY,WACVnO,EAAKpN,SAAS,CACZwb,MAAOpO,EAAKjO,MAAMqc,QAfpBpO,EAAKsN,QAAUA,EACftN,EAAKjO,MAAQ,CACXqc,MAAM,GAERpO,EAAK7L,OAASA,EACd6L,EAAKoK,MAAQA,EAEbpK,EAAKsN,QAAQQ,OACY,MAAvB9N,EAAKsN,QAAQQ,OACT9N,EAAKsN,QAAQQ,OACb9N,EAAKsN,QAAQM,eAb0B5N,wEAsBtC,IAAAyL,EAAAxW,KACP,OACE3M,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,SAAIyM,KAAKqY,QAAQjD,aAEnB/hB,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,SAAIyM,KAAKqY,QAAQM,iBAEnBtlB,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,SAAIyM,KAAKqY,QAAQQ,SAEnBxlB,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,SAAIyM,KAAKqY,QAAQO,iBAEnBvlB,EAAAC,EAAAC,cAAA,MAAIsG,GAAG,gBACJmG,KAAKlD,MAAMqc,KAAO,KACjB9lB,EAAAC,EAAAC,cAAA,UAAQW,QAAS,kBAAMsiB,EAAK0C,cAA5B,QAEDlZ,KAAKlD,MAAMqc,KACV9lB,EAAAC,EAAAC,cAAC6lB,GAAD,CACEhB,OAAQpY,KAAKkZ,UACbb,QAASrY,KAAKqY,QACdnZ,OAAQc,KAAKd,OACbiW,MAAOnV,KAAKmV,QAEZ,cAjDK5U,IAAMC,WAwDnB6Y,eACJ,SAAAA,EAAApD,GAA4C,IAAAW,EAA9B3X,EAA8BgX,EAA9BhX,MAAOC,EAAuB+W,EAAvB/W,OAAQiK,EAAe8M,EAAf9M,KAAMgM,EAASc,EAATd,MAAS,OAAAjf,OAAAyP,EAAA,EAAAzP,CAAA8J,KAAAqZ,IAC1CzC,EAAA1gB,OAAA0P,EAAA,EAAA1P,CAAA8J,KAAA9J,OAAA2P,EAAA,EAAA3P,CAAAmjB,GAAAvT,KAAA9F,KAAMf,KAmERG,UAAY,SAACC,GACX,IAAKA,EACH,OAAO,KAGT,IAAMC,EAAaC,KAAKC,MAAMH,GAE9BuX,EAAKjZ,SAAS,CAAE0B,KAAMC,EAAW0W,OACjCY,EAAKjZ,SAAS,CAAEqZ,YAAY,KA5EcJ,EA+E5C0C,kCAAoC,SAACnQ,GACnCvJ,MAAMxD,GAAc,kBAAA5B,OAAqB2O,GAAQ,CAC/C+N,OAAQ,MACRC,QAAS,CAAEC,eAAgB,sBAE1BvX,KAAK,SAACC,GACL,OAAOA,EAASC,SAEjBF,KAAK,SAACR,GACLuX,EAAKxX,UAAUC,MAtFnBuX,EAAK1X,OAASA,EACd0X,EAAK9Z,MAAQ,CACXuC,KAAM,KACN2X,YAAY,GAGdJ,EAAKzN,KAAOA,EACZyN,EAAKzB,MAAQA,EACbyB,EAAK1X,OAAO4F,GAAG,eAAgB,SAACuT,GAE9B,IADA,IAAIja,EACKZ,EAAI,EAAGA,EAAIoZ,EAAK9Z,MAAMuC,KAAK5B,OAAQD,IAC1C,GAAIoZ,EAAK9Z,MAAMuC,KAAK7B,GAAG6X,WAAagD,EAAQhD,UAAW,CACrDjX,EAAQZ,EACR,MAIJ,IAAI+b,EAAW3C,EAAK9Z,MAAMuC,KAAK6G,QAC/BqT,EAASnb,GAASia,EAElBzB,EAAKjZ,SAAS,CACZ0B,KAAMqF,KAAEuD,OACNsR,EACA,SAACrR,EAAKsR,GACJ,IAAMC,EAAUD,EAChB,SAAAhf,OAAAtE,OAAAgI,EAAA,EAAAhI,CAAWgS,GAAX,CAAgBuR,KAElB,QA7BoC7C,0EAmCjC8C,GACT,OACErmB,EAAAC,EAAAC,cAAComB,GAAD,CACEtB,QAASqB,EACTxd,IAAKwd,EAASrE,UAAYqE,EAASb,OACnC3Z,OAAQc,KAAKd,OACbiW,MAAOnV,KAAKmV,gDAKF,IAAAoC,EAAAvX,KACR0H,EAAQ1H,KAAKlD,MAAMuC,KAAKpD,IAAI,SAACyd,EAAUtb,GAC3C,OAAOmZ,EAAKqC,WAAWF,KAEzB,OACErmB,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,sCACAF,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,kBACAF,EAAAC,EAAAC,cAAA,4BACAF,EAAAC,EAAAC,cAAA,gCACAF,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,aAGJF,EAAAC,EAAAC,cAAA,aAAQmU,gDA+BZ1H,KAAKsZ,kCAAkCtZ,KAAKmJ,uCAI5C,OAAOnS,eAAaC,IAAI,UAAY,EAClC+I,KAAKlD,MAAMka,WACThX,KAAK6Z,gBAELxmB,EAAAC,EAAAC,cAAA,+BAGDa,OAAOC,SAASC,KAAO,WAzGPiM,IAAMC,WAgIdsZ,GAlBG,SAAC5a,GAAW,IAAA4Y,EACYC,eADZC,EAAA9hB,OAAAC,EAAA,EAAAD,CAAA4hB,EAAA,GACrBG,EADqBD,EAAA,GAEtB7C,GAFsB6C,EAAA,GAEdC,EAAahhB,IAAI,UACzByW,EAAe,IAAI/S,KAAKsd,EAAahhB,IAAI,SACzC8iB,EAAa,GAAAvf,OAAMkT,EAAa/O,cAAnB,KAAAnE,OACjBkT,EAAajT,WAAa,EADT,KAAAD,OAEfkT,EAAahT,WAGjB,OAFAmD,QAAQC,IAAIic,GACZlc,QAAQC,IAAIqX,GAEV9hB,EAAAC,EAAAC,cAACymB,GAAD,CACE9a,OAAQA,EAAOA,OACfiW,MAAOA,EACPhM,KAAM4Q,8CC3PGE,GAVA,WACX,OACI5mB,EAAAC,EAAAC,cAAA,UAAQC,UAAU,UACdH,EAAAC,EAAAC,cAAA,KAAGe,KAAK,kCAAiCjB,EAAAC,EAAAC,cAAA,0BAD7C,iBAGIF,EAAAC,EAAAC,cAAA,KAAGe,KAAK,gCAA+BjB,EAAAC,EAAAC,cAAA,k0MCIpC,SAAS2mB,KAAQ,IAAAnkB,EACEC,mBAAS,IADXC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACvB6I,EADuB3I,EAAA,GACbkkB,EADalkB,EAAA,GAAAI,EAEEL,mBAAS,IAFXM,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAEvB+jB,EAFuB9jB,EAAA,GAEb+jB,EAFa/jB,EAAA,GAIxBgkB,EAAY,eAAAtlB,EAAAkB,OAAAub,GAAA,EAAAvb,CAAAqkB,KAAA5I,KAAG,SAAAC,EAAOzd,GAAP,IAAAqmB,EAAAzd,EAAA0d,EAAA,OAAAF,KAAAtI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAvR,MAAA,cACf6Z,EAAW,GAEfrmB,EAAE4C,iBAEIgG,EAAO,CAAE6B,SAAUA,EAAUwb,SAAUA,GACvCK,EAAiB,CACrBvD,OAAQ,OACRC,QAAS,CAAEC,eAAgB,oBAC3BsD,KAAMnb,KAAKwF,UAAUhI,IATJmV,EAAAvR,KAAA,EAYbf,MAAM,aAAc6a,GACvB5a,KAAK,SAACC,GAAD,OAAcA,EAAS6a,SAC5B9a,KAAK,SAACR,GAAD,OAAWmb,EAAWnb,IAdX,OAgBnBxB,QAAQC,IAAI0c,EAASI,QACG,MAApBJ,EAASI,QACX5jB,eAAa6N,IAAI,WAAY2V,EAAS5b,UACtC5H,eAAa6N,IAAI,aAAc2V,EAAS3G,YACxC7c,eAAa6N,IAAI,YAAa2V,EAAS1G,WACvC9c,eAAa6N,IAAI,QAAS2V,EAASK,OACnCzmB,OAAOC,SAASC,KAAO,MAEvBwmB,SAASC,eAAe,kBAAkBC,UACxC,kCACFF,SAASC,eAAe,kBAAkBnnB,MAAMpB,MAAQ,SACxDsoB,SAASC,eAAe,kBAAkBnnB,MAAMqnB,WAAa,QA3B5C,wBAAA/I,EAAAE,SAAAR,MAAH,gBAAAsJ,GAAA,OAAAlmB,EAAAqd,MAAArS,KAAAyE,YAAA,GAoClB,OALAhC,oBAAU,WACRqY,SAASJ,KAAK9mB,MAAMunB,gBAApB,QAAA3gB,OAA8C4gB,KAA9C,MACAN,SAASJ,KAAK9mB,MAAMynB,eAApB,SACC,IAGDhoB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,QAAMuD,SAAUwjB,EAAc9mB,UAAWrB,KAAO,eAC9CkB,EAAAC,EAAAC,cAAA,OAAK+nB,MAAM,UACTjoB,EAAAC,EAAAC,cAAA,OAAKE,IAAK8nB,KAAM5nB,IAAI,OAAOT,OAAO,MAAMP,MAAM,SAEhDU,EAAAC,EAAAC,cAAA,2BAEAF,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,YAEFF,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,uBAEFF,EAAAC,EAAAC,cAAA,SACEqC,KAAK,WACL0F,YAAY,WACZnB,MAAOyE,EACP3E,SAAU,SAAC9F,GAAD,OAAOgmB,EAAYhmB,EAAE+F,OAAOC,WAG1C9G,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,uBAEFF,EAAAC,EAAAC,cAAA,SACEqC,KAAK,WACL0F,YAAY,WACZrB,SAAU,SAAC9F,GAAD,OAAOkmB,EAAYlmB,EAAE+F,OAAOC,QACtCA,MAAOigB,KAGX/mB,EAAAC,EAAAC,cAAA,UAAQC,UAAU,OAAlB,SAEAH,EAAAC,EAAAC,cAAA,OAAKsG,GAAG,oBAEVxG,EAAAC,EAAAC,cAAA,cACEF,EAAAC,EAAAC,cAACioB,GAAD,iCCtEO,SAASC,GAAWvc,GACjCA,EAASA,EAAOA,OADyB,IAAAnJ,EAETC,mBAAS,IAFAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAElC6I,EAFkC3I,EAAA,GAExBkkB,EAFwBlkB,EAAA,GAAAI,EAGPL,mBAAS,IAHFM,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAGlC2O,EAHkC1O,EAAA,GAGvBolB,EAHuBplB,EAAA,GAAAE,EAITR,mBAAS,IAJAS,EAAAP,OAAAC,EAAA,EAAAD,CAAAM,EAAA,GAIlCyO,EAJkCxO,EAAA,GAIxBklB,EAJwBllB,EAAA,GAAAE,EAKfX,mBAAS,IALMY,EAAAV,OAAAC,EAAA,EAAAD,CAAAS,EAAA,GAKlCkkB,EALkCjkB,EAAA,GAK3BglB,EAL2BhlB,EAAA,GAAAgB,EAMf5B,mBAAS,IANM6B,EAAA3B,OAAAC,EAAA,EAAAD,CAAA0B,EAAA,GAMlCikB,EANkChkB,EAAA,GAM3BikB,EAN2BjkB,EAAA,GAAAG,EAOThC,mBAAS,IAPAiC,EAAA/B,OAAAC,EAAA,EAAAD,CAAA8B,EAAA,GAOlCoiB,EAPkCniB,EAAA,GAOxBoiB,EAPwBpiB,EAAA,GAAAG,EAQKpC,mBAAS,IARdqC,EAAAnC,OAAAC,EAAA,EAAAD,CAAAkC,EAAA,GAQlC2jB,EARkC1jB,EAAA,GAQjB2jB,EARiB3jB,EAAA,GA8DzC,OAtEmB,IADFrB,eAAaC,IAAI,SAwEhC5D,EAAAC,EAAAC,cAAAF,EAAAC,EAAAwN,SAAA,KACAzN,EAAAC,EAAAC,cAACub,GAAD,MAEAzb,EAAAC,EAAAC,cAAA,aAAOF,EAAAC,EAAAC,cAAA,YACPF,EAAAC,EAAAC,cAAA,OAAK+nB,MAAM,UACXjoB,EAAAC,EAAAC,cAACuW,GAAA,EAAD,CAAMC,GAAG,KAAI1W,EAAAC,EAAAC,cAAA,OAAKE,IAAK8nB,KAAM5nB,IAAI,OAAOT,OAAO,MAAMP,MAAM,UAE3DU,EAAAC,EAAAC,cAAA,QAAMuD,SA5DU,SAAC3C,GAIb,GAHAA,EAAE4C,iBACF+jB,SAASC,eAAe,kBAAkBnnB,MAAMpB,MAAQ,MACxDsoB,SAASC,eAAe,kBAAkBnnB,MAAMqnB,WAAY,OACvDrc,EAKL,GAAKoG,GAAcC,EAKnB,GAAK4W,EAKL,GAAIzB,IAAa2B,EAAjB,CAOA,IAAM5S,EAAO,IAAIxO,KACXshB,EAAU,GAAAzhB,OAAM2O,EAAKxK,cAAX,KAAAnE,OAA4B2O,EAAK1O,WAAa,EAA9C,KAAAD,OAAmD2O,EAAKzO,WAElEwhB,EAAW,CACbtd,SAAUA,EACVoG,UAAWA,EACXC,SAAUA,EACV7B,WAAY6Y,EACZpB,MAAOA,EAAQ,EAAI,EACnBgB,MAAOA,EACPzB,SAAUA,GAEdlb,EAAOC,KAAK,YAAa+c,EAAU,MAGnChd,EAAO4F,GAAG,YAAa,SAAC/H,GACpB+d,SAASC,eAAe,kBAAkBC,UAAY,+BAI1D9b,EAAO4F,GAAG,QAAS,SAAC8O,GAChBkH,SAASC,eAAe,kBAAkBC,UAAY,yDA3BtDF,SAASC,eAAe,kBAAkBC,UAAY,mDALtDF,SAASC,eAAe,kBAAkBC,UAAY,sCALtDF,SAASC,eAAe,kBAAkBC,UAAY,2CALtDF,SAASC,eAAe,kBAAkBC,UAAY,6BAuDjCxnB,UAAWrB,KAAO,gBAC7CkB,EAAAC,EAAAC,cAAA,yBACAF,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,yBACAF,EAAAC,EAAAC,cAAA,SACEqC,KAAK,OACL0F,YAAY,qBACZrB,SAAU,SAAC9F,GAAD,OAAOgmB,EAAYhmB,EAAE+F,OAAOC,QACtCA,MAAOyE,KAGXvL,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,2BACAF,EAAAC,EAAAC,cAAA,SACEqC,KAAK,OACL0F,YAAY,gBACZrB,SAAU,SAAC9F,GAAD,OAAOunB,EAAavnB,EAAE+F,OAAOC,QACvCA,MAAO6K,KAGX3R,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,SACEqC,KAAK,OACL0F,YAAY,eACZrB,SAAU,SAAC9F,GAAD,OAAOwnB,EAAYxnB,EAAE+F,OAAOC,QACtCA,MAAO8K,KAKX5R,EAAAC,EAAAC,cAAA,SAAOC,UAAWrB,KAAM,WACtBkB,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,SACIqC,KAAK,WACLuE,MAAO0gB,EACP5gB,SAAU,SAAC9F,GAAD,OAAOynB,EAASznB,EAAE+F,OAAOiiB,YACvC9oB,EAAAC,EAAAC,cAAA,QAAMC,UAAWrB,KAAM,aAIzBkB,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,SACEqC,KAAK,QACL0F,YAAY,WACZrB,SAAU,SAAC9F,GAAD,OAAO2nB,EAAS3nB,EAAE+F,OAAOC,QACnCA,MAAO0hB,KAGXxoB,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,yBACAF,EAAAC,EAAAC,cAAA,SACEqC,KAAK,WACL0F,YAAY,cACZrB,SAAU,SAAC9F,GAAD,OAAOkmB,EAAYlmB,EAAE+F,OAAOC,QACtCA,MAAOigB,KAGX/mB,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,iCACAF,EAAAC,EAAAC,cAAA,SACEqC,KAAK,WACL0F,YAAY,sBACZrB,SAAU,SAAC9F,GAAD,OAAO6nB,EAAmB7nB,EAAE+F,OAAOC,QAC7CA,MAAO4hB,KAIX1oB,EAAAC,EAAAC,cAAA,UAAQC,UAAU,OAAlB,eAEFH,EAAAC,EAAAC,cAAA,KAAGsG,GAAG,qBAGJzF,OAAOC,SAASC,KAAO,6BC9Bd8nB,OAlHf,SAAuBld,GACnBA,EAASA,EAAOA,OADW,IAAAnJ,EAEQC,mBAAS,IAFjBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAEpB+L,EAFoB7L,EAAA,GAERomB,EAFQpmB,EAAA,GAAAI,EAGGL,mBAAS,IAHZM,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAGpBkf,EAHoBjf,EAAA,GAGXgmB,EAHWhmB,EAAA,GAAAE,EAKDR,mBAAS,IALRS,EAAAP,OAAAC,EAAA,EAAAD,CAAAM,EAAA,GAKpBvB,EALoBwB,EAAA,GAKb8lB,EALa9lB,EAAA,GAAAE,EAMOX,mBAAS,CAAC,KAAM,OANvBY,EAAAV,OAAAC,EAAA,EAAAD,CAAAS,EAAA,GAMpBuC,EANoBtC,EAAA,GAMTuC,EANSvC,EAAA,GAAAwC,EAAAlD,OAAAC,EAAA,EAAAD,CAOEgD,EAPF,GAOpBG,EAPoBD,EAAA,GAOTE,EAPSF,EAAA,GA4D3B,OAlEmB,IADFpC,eAAaC,IAAI,SAoE9B5D,EAAAC,EAAAC,cAAAF,EAAAC,EAAAwN,SAAA,KACAzN,EAAAC,EAAAC,cAACub,GAAD,MACAzb,EAAAC,EAAAC,cAAA,aAAOF,EAAAC,EAAAC,cAAA,YACPF,EAAAC,EAAAC,cAAA,OAAK+nB,MAAM,UACPjoB,EAAAC,EAAAC,cAACuW,GAAA,EAAD,CAAMC,GAAG,KAAI1W,EAAAC,EAAAC,cAAA,OAAKE,IAAK8nB,KAAM5nB,IAAI,OAAOT,OAAO,MAAMP,MAAM,UAE/DU,EAAAC,EAAAC,cAAA,QAAMuD,SA1DY,SAAC3C,GAInB,GAHAA,EAAE4C,iBACF+jB,SAASC,eAAe,kBAAkBnnB,MAAMpB,MAAQ,MACxDsoB,SAASC,eAAe,kBAAkBnnB,MAAMqnB,WAAY,OACvDnZ,IAAc2W,MAAM3W,GAKzB,GAAKyT,EAKL,GAAKtgB,EAKL,GAAKiE,EAAU,IAAOA,EAAU,GAAhC,CAKA,IAAMsjB,EAAa,CACf1a,WAAYA,EACZyT,QAASA,EACT1T,OAAQC,EACR7M,MAAOA,EACP4J,WAAU,GAAArE,OAAKtB,EAAU,GAAGyF,cAAlB,KAAAnE,OAAmCtB,EAAU,GAAGuB,WAAa,EAA7D,KAAAD,OAAkEtB,EAAU,GAAGwB,WACzFqE,SAAQ,GAAAvE,OAAKtB,EAAU,GAAGyF,cAAlB,KAAAnE,OAAmCtB,EAAU,GAAGuB,WAAa,EAA7D,KAAAD,OAAkEtB,EAAU,GAAGwB,WACvF+hB,OAAQ,IAEZvd,EAAOC,KAAK,eAAgBqd,GAC5B3e,QAAQC,IAAI,oCAEZoB,EAAO4F,GAAG,eAAgB,SAAC/H,GACvB+d,SAASC,eAAe,kBAAkBC,UAAY,+BACtDF,SAASC,eAAe,kBAAkBnnB,MAAMpB,MAAQ,QACxDsoB,SAASC,eAAe,kBAAkBnnB,MAAMqnB,WAAY,SAIhE/b,EAAO4F,GAAG,QAAS,SAAC8O,GAChBkH,SAASC,eAAe,kBAAkBC,UAAY,kDACtDF,SAASC,eAAe,kBAAkBnnB,MAAMpB,MAAQ,MACxDsoB,SAASC,eAAe,kBAAkBnnB,MAAMqnB,WAAY,cA1B5DH,SAASC,eAAe,kBAAkBC,UAAY,0CALtDF,SAASC,eAAe,kBAAkBC,UAAY,sCALtDF,SAASC,eAAe,kBAAkBC,UAAY,sCALtDF,SAASC,eAAe,kBAAkBC,UAAY,oEAqD3BxnB,UAAWrB,KAAO,gBACjCkB,EAAAC,EAAAC,cAAA,2BAChBF,EAAAC,EAAAC,cAAA,aACAF,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAAA,SACoBC,UAAU,mBACVoC,KAAK,OACL0F,YAAY,mBACZnB,MAAO2H,EACP7H,SAAU,SAAC9F,GAAD,OAAOkoB,EAAaloB,EAAE+F,OAAOC,WAE3D9G,EAAAC,EAAAC,cAAA,aACAF,EAAAC,EAAAC,cAAA,6BACMF,EAAAC,EAAAC,cAAA,SACcC,UAAU,mBACVoC,KAAK,OACL0F,YAAY,aACZnB,MAAOob,EACPtb,SAAU,SAAC9F,GAAD,OAAOmoB,EAAWnoB,EAAE+F,OAAOC,WAEzD9G,EAAAC,EAAAC,cAAA,aACAF,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,SACoBC,UAAU,mBACVoC,KAAK,OACL0F,YAAY,WACZnB,MAAOlF,EACPgF,SAAU,SAAC9F,GAAD,OAAOooB,EAASpoB,EAAE+F,OAAOC,WAGvD9G,EAAAC,EAAAC,cAAA,aACAF,EAAAC,EAAAC,cAAA,QAAMsG,GAAG,iBAAT,cACgBxG,EAAAC,EAAAC,cAAC8G,EAAA/G,EAAD,CACIgH,cAAc,EACdjB,UAAWA,EACXC,QAASA,EACTW,SAAU,SAACM,GACPpB,EAAaoB,OAIrClH,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAAA,KAAGsG,GAAG,qBAGNzF,OAAOC,SAASC,KAAO,0BCNhBooB,OA3Gf,SAAyBxd,GACrBA,EAASA,EAAOA,OADa,IAAAnJ,EAEIC,mBAAS,IAFbC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAEtBsf,EAFsBpf,EAAA,GAEX0mB,EAFW1mB,EAAA,GAAAI,EAGML,mBAAS,IAHfM,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAGtB+e,EAHsB9e,EAAA,GAGVsmB,EAHUtmB,EAAA,GAAAE,EAIcR,mBAAS,IAJvBS,EAAAP,OAAAC,EAAA,EAAAD,CAAAM,EAAA,GAItBmiB,EAJsBliB,EAAA,GAINomB,EAJMpmB,EAAA,GAAAE,EAKcX,mBAAS,IALvBY,EAAAV,OAAAC,EAAA,EAAAD,CAAAS,EAAA,GAKtBiiB,EALsBhiB,EAAA,GAKNkmB,EALMlmB,EAAA,GAuD7B,OA7DmB,IADFI,eAAaC,IAAI,SA+D9B5D,EAAAC,EAAAC,cAAAF,EAAAC,EAAAwN,SAAA,KACAzN,EAAAC,EAAAC,cAACub,GAAD,MACAzb,EAAAC,EAAAC,cAAA,aAAOF,EAAAC,EAAAC,cAAA,YACPF,EAAAC,EAAAC,cAAA,OAAK+nB,MAAM,UACPjoB,EAAAC,EAAAC,cAACuW,GAAA,EAAD,CAAMC,GAAG,KAAI1W,EAAAC,EAAAC,cAAA,OAAKE,IAAK8nB,KAAM5nB,IAAI,OAAOT,OAAO,MAAMP,MAAM,UAEnDU,EAAAC,EAAAC,cAAA,QAAMuD,SAvDE,SAAC3C,GAIrB,GAHAA,EAAE4C,iBACF+jB,SAASC,eAAe,kBAAkBnnB,MAAMpB,MAAQ,MACxDsoB,SAASC,eAAe,kBAAkBnnB,MAAMqnB,WAAY,OACvD5F,EAKL,GAAKD,EAKL,IAAKuD,GAAkBF,MAAME,IAAmBA,GAAkB,EAC9DmC,SAASC,eAAe,kBAAkBC,UAAY,qCAI1D,GAAKpC,EAAL,CAKA,IAAMmE,EAAe,CACjB1H,UAAWA,EACXD,WAAYA,EACZuD,eAAgBA,EAChBC,eAAgBA,GAEpB1Z,EAAOC,KAAK,gBAAiB4d,EAAc,MAG3C7d,EAAO4F,GAAG,gBAAiB,SAAC/H,GACxB+d,SAASC,eAAe,kBAAkBC,UAAY,iCACtDF,SAASC,eAAe,kBAAkBnnB,MAAMpB,MAAQ,QACxDsoB,SAASC,eAAe,kBAAkBnnB,MAAMqnB,WAAY,SAIhE/b,EAAO4F,GAAG,QAAS,SAAC8O,GAChBkH,SAASC,eAAe,kBAAkBC,UAAY,kDACtDF,SAASC,eAAe,kBAAkBnnB,MAAMpB,MAAQ,MACxDsoB,SAASC,eAAe,kBAAkBnnB,MAAMqnB,WAAY,cAvB5DH,SAASC,eAAe,kBAAkBC,UAAY,sCAVtDF,SAASC,eAAe,kBAAkBC,UAAY,kCALtDF,SAASC,eAAe,kBAAkBC,UAAY,gCAkDbxnB,UAAWrB,KAAO,kBAC/CkB,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAA,aAChBF,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAA,SACoBC,UAAU,qBACVoC,KAAK,OACL0F,YAAY,kBACZnB,MAAOkb,EACPpb,SAAU,SAAC9F,GAAD,OAAOwoB,EAAYxoB,EAAE+F,OAAOC,WAEpD9G,EAAAC,EAAAC,cAAA,aACNF,EAAAC,EAAAC,cAAA,2BACAF,EAAAC,EAAAC,cAAA,SACoBC,UAAU,qBACVoC,KAAK,OACL0F,YAAY,gBACZnB,MAAOib,EACPnb,SAAU,SAAC9F,GAAD,OAAOyoB,EAAazoB,EAAE+F,OAAOC,WAErD9G,EAAAC,EAAAC,cAAA,aACNF,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAAA,SACoBC,UAAU,qBACVoC,KAAK,OACL0F,YAAY,oBACZnB,MAAOwe,EACP1e,SAAU,SAAC9F,GAAD,OAAO0oB,EAAiB1oB,EAAE+F,OAAOC,WAEzD9G,EAAAC,EAAAC,cAAA,aACNF,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAAA,SACoBC,UAAU,qBACVoC,KAAK,OACL0F,YAAY,oBACZnB,MAAOye,EACP3e,SAAU,SAAC9F,GAAD,OAAO2oB,EAAiB3oB,EAAE+F,OAAOC,WAE/D9G,EAAAC,EAAAC,cAAA,iCACAF,EAAAC,EAAAC,cAAA,KAAGsG,GAAG,qBAGNzF,OAAOC,SAASC,KAAO,uDClHzB1C,GAAeC,YAAY,CAC/BC,YAAa,CACXC,OAAQ,CACNC,IAAK,EACLC,GAAI,IACJC,GAAI,QAKJ8qB,GAAuB5qB,YAAW,CACtC6qB,MAAO,CACL3qB,OAAQ,EACRC,aAAc,EACdC,MAAO,QACPC,QAAS,SACTC,WAAY,QACZG,UAAW,CACTH,WAAY,QACZF,MAAO,SAETM,UAAW,CACTJ,WAAY,QACZF,MAAO,UAGX0qB,OAAQ,CACN5qB,OAAQ,EACRC,aAAc,EACdC,MAAO,QACPC,QAAS,SACTC,WAAY,MACZG,UAAW,CACTH,WAAY,QACZF,MAAO,OAETM,UAAW,CACTJ,WAAY,QACZF,MAAO,UAKP2qB,GAAsB3oB,YAAO,MAAPA,CAAc,CACxC/B,QAAS,MACTE,MAAO,QAGHyqB,GAAiB5oB,YAAO,MAAPA,CAAc,CACnC/B,QAAS,MACTE,MAAO,MACP8B,QAAS,OACTC,cAAe,MACfE,eAAgB,SAChBD,WAAY,WAGR2H,GAAY9H,YAAO,MAAPA,CAAc,CAC9BlC,OAAQ,YACR+qB,YAAa,YACb5oB,QAAS,OACTC,cAAe,MACfE,eAAgB,SAChBD,WAAY,SACZc,UAAW,SA4EE6nB,GAzEO,SAAAtoB,GAA6C,IAA1C4G,EAA0C5G,EAA1C4G,SAAU8G,EAAgC1N,EAAhC0N,KAAM6a,EAA0BvoB,EAA1BuoB,UAAWC,EAAexoB,EAAfwoB,SA+B5Chf,EAAa,SAACif,GAClB,IAAMtU,EAAO,IAAIxO,KAAK8iB,GAChBhf,EA/BW,SAACif,GAClB,OAAQA,GACN,KAAK,EACH,MAAO,UACT,KAAK,EACH,MAAO,WACT,KAAK,EACH,MAAO,QACT,KAAK,EACH,MAAO,QACT,KAAK,EACH,MAAO,MACT,KAAK,EACH,MAAO,OACT,KAAK,EACH,MAAO,OACT,KAAK,EACH,MAAO,SACT,KAAK,EACH,MAAO,YACT,KAAK,EACH,MAAO,UACT,KAAK,GACH,MAAO,WACT,KAAK,GACH,MAAO,YAMGC,CAAWxU,EAAK1O,YAC9B,OAAO0O,EAAKzO,UAAY,IAAM+D,EAAQ,KAAO0K,EAAKxK,eAGpD,OACEtL,EAAAC,EAAAC,cAACqqB,GAAD,CAAWzoB,MAAOvD,GAAcwD,GAAI,CAClCzC,MAAO,CACLX,IAAK,OACLC,GAAI,OACJC,GAAI,WAGNmB,EAAAC,EAAAC,cAAC4pB,GAAD,CAAqBhoB,MAAOvD,GAAcwD,GAAI,CAC5CzC,MAAO,CACLX,IAAK,MACLC,GAAI,MACJC,GAAI,SAGNmB,EAAAC,EAAAC,cAAC2B,EAAA,EAAD,CAAYC,MAAOvD,GAAcwD,GAAI,CACnCC,SAAU,CACRrD,IAAK,OACLC,GAAI,OACJC,GAAI,UAGNmB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBAAsBI,MAAO,CAAEqnB,WAAY,SAAWvY,EAAK,GAA1E,IAA+EA,EAAK,IACpFrP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBAAf,SAA6CgL,EAAW5C,EAASiD,aARnE,IASExL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBAAf,OAAyCgL,EAAW5C,EAASmD,WAT/D,IAUE1L,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BAAf,aAAoDoI,EAASoD,SAA7D,WAGJ3L,EAAAC,EAAAC,cAAC6pB,GAAD,KACE/pB,EAAAC,EAAAC,cAACU,EAAA,EAAD,CAAQC,QAAS,kBAAMqpB,EAAU3hB,IAAWpI,UAAWwpB,KAAuBC,OAAO5pB,EAAAC,EAAAC,cAACsqB,GAAAvqB,EAAD,OACrFD,EAAAC,EAAAC,cAACU,EAAA,EAAD,CAAQC,QAAS,kBAAMspB,EAAS5hB,IAAWpI,UAAWwpB,KAAuBE,QAAQ7pB,EAAAC,EAAAC,cAACuqB,GAAAxqB,EAAD,UC5G9EyqB,GA/BS,SAAA/oB,GAAwC,IAArCgH,EAAqChH,EAArCgH,UAAWuhB,EAA0BvoB,EAA1BuoB,UAAWC,EAAexoB,EAAfwoB,SAEvCQ,EAAmB,SAACC,GACtB,GAAIA,EACJ,OAAOA,EAAOC,OAAO,GAAGC,cAAgBF,EAAO/X,MAAM,IAInDkY,EAAiB,SAACxiB,GACpB,IAAIyiB,EAAQziB,EAASgD,SAASoE,MAAM,KAAK,GACrCsb,EAAO1iB,EAASgD,SAASoE,MAAM,KAAK,GAGxC,MAAO,CAFPqb,EAAQL,EAAiBK,GACzBC,EAAON,EAAiBM,KAI5B,OACIjrB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACVwI,EAAUC,IAAI,SAACL,GAAD,OACXvI,EAAAC,EAAAC,cAAA,OAAK2I,IAAKN,EAAS4L,aACfnU,EAAAC,EAAAC,cAACgrB,GAAD,CACI3iB,SAAUA,EACV8G,KAAM0b,EAAexiB,GACrB2hB,UAAWA,EACXC,SAAUA,SChBnBgB,GAVK,WAClB,OACEnrB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBACbH,EAAAC,EAAAC,cAAA,iDCCApB,GAASC,YAAW,CACtBC,OAAQ,CACJC,OAAQ,EACRC,aAAc,EACdC,MAAO,QACPC,QAAS,SACTC,WAAY,UACZC,MAAO,MACPC,UAAW,SACXC,UAAW,CACPH,WAAY,WAEhBI,UAAW,CACPJ,WAAY,UACZG,UAAW,CACPH,WAAY,YAGpBK,UAAW,QACXC,WAAY,OAEhBC,MAAO,CACHN,MAAO,GACPO,OAAQ,MAIVtB,GAAeC,YAAY,CAC7BC,YAAa,CACTC,OAAQ,CACJC,IAAK,EACLC,GAAI,IACJC,GAAI,QAKhB,SAASiB,KACL,IAAMC,EAAUjB,KAChB,OAAOkB,EAAAC,EAAAC,cAAA,OAAKC,UAAWJ,EAAQH,MAAOQ,IAAKC,EAAQ,IAC/CC,IAAK,OAAQC,MAAO,CAChBC,SAAU,WACVC,KAAM,EACNC,IAAK,KAIjB,SAASC,KACL,IAAMZ,EAAUjB,KAChB,OAAOkB,EAAAC,EAAAC,cAACU,EAAA,EAAD,CAAQT,UAAWJ,EAAQf,OAAQ6B,QAAS,SAACC,GAAQC,OAAOC,SAASC,KAAO,MAA5E,QAGX,IAAMC,GAAgBC,YAAO,MAAPA,CAAc,CAChC7B,MAAO,QACPO,OAAQ,OACRuB,QAAS,OACTC,cAAe,SACfC,WAAY,OACZC,eAAgB,eAChBpC,MAAO,UACPqC,gBAAiB,UAGfC,GAAuBN,YAAO,MAAPA,CAAc,CACvC7B,MAAO,OACPO,OAAQ,OACRuB,QAAS,OACTC,cAAe,MACfC,WAAY,SACZC,eAAgB,WAMdG,IAHoBP,YAAO,MAAPA,CAAc,IAGzB,SAAAQ,GAAe,IAAZC,EAAYD,EAAZC,MACd,OACI5B,EAAAC,EAAAC,cAACkrB,GAAD,KACIprB,EAAAC,EAAAC,cAACmrB,GAAD,MACArrB,EAAAC,EAAAC,cAACorB,GAAD,KACItrB,EAAAC,EAAAC,cAAC2B,EAAA,EAAD,CAAYC,MAAOvD,GAAcwD,GAAI,CACjCC,SAAU,CACNrD,IAAK,OACLC,GAAI,OACJC,GAAI,QAERc,WAAY,CACRhB,IAAK,OACLC,GAAI,UAGRoB,EAAAC,EAAAC,cAAA,UAAK0B,IAET5B,EAAAC,EAAAC,cAACqrB,GAAD,UAMhB7pB,GAAOO,aAAe,CAClBL,MAAO,6BAGIF,UCnGTqH,GAAiB,QACjBC,GAAoB,uBAEpBzK,GAAeC,YAAY,CAC/BC,YAAa,CACXC,OAAQ,CACNC,IAAK,EACLC,GAAI,IACJC,GAAI,QAKJ2sB,GAAoBrqB,YAAO,MAAPA,CAAc,CACtC7B,MAAO,OACPO,OAAQ,OACRuB,QAAS,OACTC,cAAe,SACfC,WAAY,eAUOmqB,eAMnB,SAAAA,EAAA9pB,GAAwB,IAAAqI,EAAV6B,EAAUlK,EAAVkK,OAAU,OAAAhJ,OAAAyP,EAAA,EAAAzP,CAAA8J,KAAA8e,IACtBzhB,EAAAnH,OAAA0P,EAAA,EAAA1P,CAAA8J,KAAA9J,OAAA2P,EAAA,EAAA3P,CAAA4oB,GAAAhZ,KAAA9F,QANFlD,MAAQ,CACNd,UAAW,GACXmB,QAAQ,GAGcE,EAmBxB0hB,gBAAkB,SAACnjB,GACjByB,EAAKM,SAAS,CACZ3B,UAAWqB,EAAKP,MAAMd,UAAUiN,OAC9B,SAAC+V,GAAD,OAAOA,EAAExX,cAAgB5L,EAAS4L,gBAGtCnK,EAAK6B,OAAOC,KAAK,mBAAoBvD,IAzBfyB,EA4BxB4hB,eAAiB,SAACrjB,GAChByB,EAAKM,SAAS,CACZ3B,UAAWqB,EAAKP,MAAMd,UAAUiN,OAC9B,SAAC+V,GAAD,OAAOA,EAAExX,cAAgB5L,EAAS4L,gBAGtCnK,EAAK6B,OAAOC,KAAK,kBAAmBvD,IAlCdyB,EAqCxB+B,UAAY,SAACC,GACX,IAAKA,EACH,OAAO,KAET,IAAMC,EAAaC,KAAKC,MAAMH,GAC9BhC,EAAKM,SAAS,CAAE3B,UAAWsD,IAC3BjC,EAAKM,SAAS,CAAER,QAAQ,KA3CFE,EA8CxB6hB,aAAe,WACbtf,MAAMxD,GAAiBC,IACpBwD,KAAK,SAACC,GACL,OAAOA,EAASC,SAEjBF,KAAK,SAACR,GACLhC,EAAK+B,UAAUC,MAlDnBhC,EAAK6B,OAASA,EACdA,EAAO4F,GAAG,mBAAoB,SAAClJ,GAC7ByB,EAAKM,SAAS,CACZ3B,UAAWqB,EAAKP,MAAMd,UAAUiN,OAC9B,SAAC+V,GAAD,OAAOA,EAAExX,cAAgB5L,EAAS4L,kBAIxCtI,EAAO4F,GAAG,kBAAmB,SAAClJ,GAC5ByB,EAAKM,SAAS,CACZ3B,UAAWqB,EAAKP,MAAMd,UAAUiN,OAC9B,SAAC+V,GAAD,OAAOA,EAAExX,cAAgB5L,EAAS4L,kBAblBnK,mFAyDtB2C,KAAKkf,mDAIL,OAzEEloB,eAAaC,IAAI,SA0EjB5D,EAAAC,EAAAC,cAACsrB,GAAD,CAAmB1pB,MAAOvD,IACxByB,EAAAC,EAAAC,cAAC4rB,GAAD,MACCnf,KAAKlD,MAAMd,UAAUyB,OAAS,EAC7BpK,EAAAC,EAAAC,cAAC6rB,GAAD,CACEpjB,UAAWgE,KAAKlD,MAAMd,UACtBuhB,UAAWvd,KAAK+e,gBAChBvB,SAAUxd,KAAKif,iBAGjB5rB,EAAAC,EAAAC,cAAC8rB,GAAD,OAIHjrB,OAAOC,SAASC,KAAO,qCAK1B,OAAO0L,KAAKlD,MAAMK,OAAS6C,KAAKM,YAAcjN,EAAAC,EAAAC,cAAA,sCAtFJgN,IAAMC,WCxB9CtB,UAASogB,EAAGC,QAAQ,KAE1BvoB,eAAawoB,aAAa,gBAsBX9L,OApBf,WACI,OACIrgB,EAAAC,EAAAC,cAACuW,GAAA,EAAD,KACIzW,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAACksB,GAAA,EAAD,KACIpsB,EAAAC,EAAAC,cAACksB,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,IAAI/a,QAASvR,EAAAC,EAAAC,cAACqsB,GAAD,CAAU1gB,OAAQA,OACjD7L,EAAAC,EAAAC,cAACksB,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,qBAAqB/a,QAASvR,EAAAC,EAAAC,cAACssB,GAAD,CAAkB3gB,OAAQA,OAC1E7L,EAAAC,EAAAC,cAACksB,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,aAAa/a,QAASvR,EAAAC,EAAAC,cAACusB,GAAD,CAAW5gB,OAAQA,OAC3D7L,EAAAC,EAAAC,cAACksB,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,YAAY/a,QAASvR,EAAAC,EAAAC,cAACwsB,GAAD,CAAU7gB,OAAQA,OACzD7L,EAAAC,EAAAC,cAACksB,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,oBAAoB/a,QAASvR,EAAAC,EAAAC,cAACysB,GAAD,CAAkB9gB,OAAQA,OACzE7L,EAAAC,EAAAC,cAACksB,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,SAAS/a,QAASvR,EAAAC,EAAAC,cAAC2mB,GAAD,QACpC7mB,EAAAC,EAAAC,cAACksB,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,eAAe/a,QAASvR,EAAAC,EAAAC,cAACkoB,GAAD,CAAYvc,OAAQA,OAC9D7L,EAAAC,EAAAC,cAACksB,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,iBAAiB/a,QAASvR,EAAAC,EAAAC,cAAC0sB,GAAD,CAAc/gB,OAAQA,OAClE7L,EAAAC,EAAAC,cAACksB,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,mBAAmB/a,QAASvR,EAAAC,EAAAC,cAAC2sB,GAAD,CAAgBhhB,OAAQA,WC1B1FihB,IAASC,OAAO/sB,EAAAC,EAAAC,cAAC8sB,GAAD,MAASvF,SAASC,eAAe,6BCJjD/pB,EAAAC,QAAiBK,EAAAC,EAAuB","file":"static/js/main.eb07a16a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"signup-form\":\"createUser_signup-form__2iUaP\",\"container\":\"createUser_container__8A0JF\",\"checkmark\":\"createUser_checkmark__2yEXP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"resource-form\":\"create_resource_resource-form__3RTq4\"};","module.exports = __webpack_public_path__ + \"static/media/1.05fe5e87.jpeg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login-form\":\"login_login-form__12aBM\",\"footer\":\"login_footer__1-PPd\",\"successMessage\":\"login_successMessage__c2Qqg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"course-form\":\"create_course_course-form__2iSCS\"};","import Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { styled } from '@mui/system';\nimport { createTheme, Typography } from \"@mui/material\";\nimport React, { Component }  from 'react';\nconst screenLayout = createTheme({\n    breakpoints: {\n        values: {\n            xxs: 0,\n            xs: 300,\n            lg: 800,\n        }\n    }\n});\n\nconst styles = makeStyles({\n    button: {\n        border: 0,\n        borderRadius: 5,\n        color: \"white\",\n        padding: '0 10px',\n        background: \"#003E6B\",\n        width: \"8vw\",\n        alignSelf: \"center\",\n        '&:hover': {\n            background: \"#5082A7\",\n        },\n        '&:focus': {\n            background: \"#003E6B\",\n            '&:hover': {\n                background: \"#5082A7\"\n            }\n        },\n        textAlign: \"right\",\n        marginLeft: \"30%\",\n    },\n    image: {\n        width: 80,\n        height: 80,\n    }\n});\n\nfunction Logo() {\n    const classes = styles();\n    return <img className={classes.image} src={require(\"../../images/BCIT_logo.png\")}\n        alt={\"BCIT\"} style={{\n            position: \"absolute\",\n            left: 5,\n            top: 5,\n        }} />\n}\n\nfunction BackButton() {\n    const classes = styles();\n    return <Button className={classes.button} onClick={(e) => { window.location.href = '/' }}>Back</Button>\n}\n\nconst TopNavWrapper = styled('div')({\n    width: \"100vw\",\n    height: \"10vh\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"left\",\n    justifyContent: \"space-evenly\",\n    color: \"#003E6B\",\n    backgroundColor: \"white\",\n})\n\nconst TitleAndBackBWrapper = styled('div')({\n    width: \"100%\",\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    //marginTop:\"40px\"\n})\n\nconst LoginTitleWrapper = styled('div')({\n})\n\nconst HeaderWrapper = styled('div')({\n\n})\n\nconst Header = ({ title }) => {\n    return (\n        <TopNavWrapper>\n            <Logo />\n            <TitleAndBackBWrapper>\n                <Typography theme={screenLayout} sx={{\n                    fontSize: {\n                        xxs: \"11px\",\n                        xs: \"11px\",\n                        lg: \"16px\",\n                    },\n                    marginLeft: {\n                        xxs: \"60px\",\n                        xs: \"60px\",\n                    }\n                }}>\n                    <h1 className=\"vacation-title\">{title}</h1>\n                </Typography>\n                <BackButton />\n            </TitleAndBackBWrapper>\n        </TopNavWrapper>\n    );\n};\n\nHeader.defaultProps = {\n    title: 'Request Vacation',\n}\n\nexport default Header;\n","import React from 'react'\nimport { useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\nimport { styled } from '@mui/system';\nimport Button from \"@material-ui/core/Button\";\nimport { ReactSession } from \"react-client-session\";\n\nconst Form = styled('form')({\n})\n\nconst buttonStyles = makeStyles({\n    button: {\n        border: 0,\n        borderRadius: 5,\n        color: \"white\",\n        padding: '0 10px',\n        background: \"#003E6B\",\n        '&:hover': {\n            background: \"#5082A7\",\n        },\n        '&:focus': {\n            background: \"#003E6B\",\n            '&:hover': {\n                background: \"#5082A7\"\n            }\n        },\n        marginTop: 10,\n        marginBottom: 10\n    }\n});\n\nfunction SubmitButton() {\n    const classes = buttonStyles();\n    return <Button className={classes.button} type=\"submit\">Submit</Button>\n}\n\nconst UserInfo = ({ onAdd }) => {\n\n    const [first, setFirst] = useState('')\n    const [last, setLast] = useState('')\n    const [emp, setEmp] = useState('')\n    const [ext, setExt] = useState('')\n\n    const submit = (e) => {\n        e.preventDefault()\n        // makeusername function\n        onAdd(ReactSession.get(\"username\"))\n        setFirst('')\n        setLast('')\n        setEmp('')\n        setExt('')\n    }\n\n    return (\n        <Form onSubmit={submit}>\n            <SubmitButton />\n        </Form>\n    )\n}\n\nexport default UserInfo","import React, { useState } from 'react';\nimport DatePicker from 'react-datepicker'\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport FormControl from \"@mui/material/FormControl\";\nimport Select from '@mui/material/Select';\nimport Button from \"@material-ui/core/Button\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { styled } from \"@mui/system\";\n\n\nfunction getBusinessDateCount(startDate, endDate) {\n  let elapsed, daysAfterLastSunday;\n  let ifThen = function (a, b, c) {\n    return a == b ? c : a;\n  };\n\n  elapsed = endDate - startDate;\n  elapsed /= 86400000;\n\n  let daysBeforeFirstSunday = (7 - startDate.getDay()) % 7;\n  daysAfterLastSunday = endDate.getDay();\n\n  elapsed -= (daysBeforeFirstSunday + daysAfterLastSunday);\n  elapsed = (elapsed / 7) * 5;\n  elapsed += ifThen(daysBeforeFirstSunday - 1, -1, 0) + ifThen(daysAfterLastSunday, 6, 5);\n\n  return Math.ceil(elapsed);\n}\n\nconst UserInputContainer = styled('div')({\n  display: \"flex\",\n  flexDirection: \"column\",\n  alignItems: \"left\",\n})\n\nconst Form = styled('form')({\n\n})\n\nconst VacationInput = ({ onAdd }) => {\n  const [NC, setNC] = useState('');\n  const [startingMonth, setStartingMonth] = useState('');\n  const [startingDay, setStartingDay] = useState('');\n  const [endingMonth, setEndingMonth] = useState('');\n  const [endingDay, setEndingDay] = useState('');\n  const [day, setDay] = useState('');\n  const [hour, setHour] = useState('');\n  const [VABT, setVABT] = useState('');\n  const [notes, setNotes] = useState('');\n  const [dateRange, setDateRange] = useState([null, null]);\n  const [startDate, endDate] = dateRange;\n\n  const styles = makeStyles({\n    button: {\n      border: 0,\n      borderRadius: 5,\n      color: \"white\",\n      padding: '0 10px',\n      background: \"#003E6B\",\n      '&:hover': {\n        background: \"#5082A7\",\n      },\n      '&:focus': {\n        background: \"#003E6B\",\n        '&:hover': {\n          background: \"#5082A7\"\n        }\n      },\n      marginTop: 10,\n      marginBottom: 10\n    }\n  });\n\n  function AddButton() {\n    const classes = styles();\n    return <Button className={classes.button} type=\"submit\">Add</Button>\n  }\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n\n    onAdd({ NC, startingMonth, startingDay, endingMonth, endingDay, day, hour, VABT, notes });\n    setNC('');\n    setStartingMonth('');\n    setStartingDay('');\n    setEndingMonth('');\n    setEndingDay('');\n    setDay('');\n    setHour('');\n    setVABT('');\n    setNotes('');\n  }\n\n  return (\n    <UserInputContainer>\n      <Form onSubmit={onSubmit}>\n        <FormControl sx={{ m: 1, minWidth: 120 }} size=\"small\">\n          <InputLabel id=\"demo-simple-select-helper-label\">NEW/CANCEL</InputLabel>\n          <Select\n            labelId=\"demo-simple-select-helper-label\"\n            id=\"demo-simple-select-helper\"\n            label=\"NEW/CANCEL\"\n            onChange={(e) => setNC(e.target.value)}\n          >\n            <MenuItem value={\"N\"} style={{ width: \"100%\" }}>New</MenuItem>\n            <MenuItem value={\"C\"} style={{ width: \"100%\" }}>Cancel</MenuItem>\n          </Select>\n        </FormControl><br />\n        <text>Date</text>\n        <DatePicker\n          selectsRange={true}\n          startDate={startDate}\n          endDate={endDate}\n          onChange={(update) => {\n            // doing it all at once seems to be a bit buggy. maybe add some logic\n            setDateRange(update);\n            setStartingMonth(`${update[0].getMonth() + 1}`);\n            setStartingDay(update[0].getDate());\n            setEndingMonth(`${update[1].getMonth() + 1}`);\n            setEndingDay(update[1].getDate());\n            const start = new Date(update[0]);\n            const end = new Date(update[1]);\n\n            // exclude weekends\n            setDay(`${getBusinessDateCount(update[0], update[1])}`);\n          }}\n        />\n        <FormControl sx={{ m: 1, minWidth: 120 }} size=\"small\">\n          <InputLabel id=\"demo-simple-select-helper-label\">VA/BT</InputLabel>\n          <Select\n            labelId=\"demo-simple-select-helper-label\"\n            id=\"demo-simple-select-helper\"\n            label=\"VA/BT\"\n            onChange={(e) => setVABT(e.target.value)}\n          >\n            <MenuItem value={\"VA\"} style={{ width: \"100%\" }}>Vacation</MenuItem>\n            <MenuItem value={\"BT\"} style={{ width: \"100%\" }}>Banked</MenuItem>\n          </Select>\n        </FormControl><br />\n        <text>Notes on vacation</text><br />\n        <input className=\"vacation-input-large\" type=\"text\" placeholder=\"...\" value={notes} onChange={(e) => setNotes(e.target.value)} /><br />\n        <AddButton />\n      </Form>\n    </UserInputContainer>\n  );\n};\n\nexport default VacationInput;\n","import { makeStyles } from '@material-ui/core/styles';\nimport { styled } from '@mui/system';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport Button from \"@material-ui/core/Button\";\nimport React, { Component }  from 'react';\nconst VacationLayout = styled('div')({\n\tdisplay: \"flex\",\n\tflexDirection: \"row\",\n\talignItems: \"left\",\n\tborder: \"1px solid steelblue\",\n\twidth: \"fit-content\",\n\theight: \"fit-content\",\n})\n\nconst VacationDetailSeparator = styled('div')({\n\tdisplay: \"flex\",\n\tflexDirection: \"row\",\n})\n\nconst VacationDetailWrapper = styled('div')({\n\n})\n\nconst buttonStyles = makeStyles({\n\tbutton: {\n\t\tborder: 0,\n\t\tborderRadius: 5,\n\t\tcolor: \"white\",\n\t\tpadding: '0 10px',\n\t\tbackground: \"#003E6B\",\n\t\t'&:hover': {\n\t\t\tbackground: \"#5082A7\",\n\t\t},\n\t\t'&:focus': {\n\t\t\tbackground: \"#003E6B\",\n\t\t\t'&:hover': {\n\t\t\t\tbackground: \"#5082A7\"\n\t\t\t}\n\t\t},\n\t\tmarginTop: 10,\n\t\tmarginBottom: 10\n\t},\n\tclearButton: {\n\t\tborder: 0,\n\t\tborderRadius: 28,\n\t\tbackground: \"white\",\n\t\tcolor: \"red\",\n\t\t\"&:hover\": {\n\t\t\tbackground: \"red\",\n\t\t\tcolor: \"white\",\n\t\t}\n\t},\n});\n\nconst Vacation = ({ vacation, onDelete }) => {\n\treturn (\n\t\t<VacationLayout>\n\t\t\t<VacationDetailWrapper>\n\t\t\t\t<VacationDetailSeparator>\n\t\t\t\t\t<div className=\"vacation-grid-box padding-top\">{vacation.NC}</div>\n\t\t\t\t</VacationDetailSeparator>\n\t\t\t\t<VacationDetailSeparator>\n\t\t\t\t\t<div className=\"vacation-grid-box padding-top\">Date:{vacation.startingMonth}</div>\n\t\t\t\t\t<text>/</text>\n\t\t\t\t\t<div className=\"vacation-grid-box padding-top\">{vacation.startingDay}</div>\n\t\t\t\t\t<text> ~ </text>\n\t\t\t\t\t<div className=\"vacation-grid-box padding-top\">{vacation.endingMonth}</div>\n\t\t\t\t\t<text>/</text>\n\t\t\t\t\t<div className=\"vacation-grid-box padding-top\">{vacation.endingDay}</div>\n\t\t\t\t</VacationDetailSeparator>\n\t\t\t\t<div className=\"vacation-grid-box padding-top\">Days: {vacation.day}</div>\n\t\t\t\t<div className=\"vacation-grid-box padding-top\">Type: {vacation.VABT}</div>\n\t\t\t\t<div className=\"vacation-grid-box vacation-label-notes padding\">\n\t\t\t\t\t{vacation.notes}\n\t\t\t\t</div>\n\t\t\t</VacationDetailWrapper>\n\t\t\t<Button onClick={() => onDelete(vacation.id)} className={buttonStyles().clearButton}>\n\t\t\t\t<ClearIcon />\n\t\t\t</Button>\n\t\t</VacationLayout>\n\t);\n};\n\nexport default Vacation;\n","import Vacation from \"./Vacation\"\nimport React, { Component }  from 'react';\nconst VacationList = ({ vacations, onDelete }) => {\n\treturn (\n\t\t<div>\n\t\t\t{vacations.map((vacation) => (\n\t\t\t\t<div key={vacation.id} className=\"vacation-column vacation-inputs\">\n\t\t\t\t\t<Vacation vacation={vacation} onDelete={onDelete}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t</div>\n\t);\n};\n\nexport default VacationList;\n","import Header from \"./components/Header\";\nimport UserInfo from \"./components/UserInfo\";\nimport VacationInput from \"./components/VacationInput\";\nimport VacationList from \"./components/VacationList\";\nimport React from \"react\";\nimport { ReactSession } from 'react-client-session';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { styled } from \"@mui/system\";\nimport { createTheme } from \"@mui/material\";\n\nconst END_POINT_ROOT = \"/\"\nconst VACATION_RESOURCE = \"users\"\n\nfunction isUser() {\n\tlet userStatus = ReactSession.get(\"admin\");\n\tif (userStatus !== undefined) {\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nconst screenLayout = createTheme({\n\tbreakpoints: {\n\t\tvalues: {\n\t\t\txxs: 0,\n\t\t\txs: 300,\n\t\t\tlg: 800,\n\t\t}\n\t}\n});\n\nconst styles = makeStyles({\n\tbutton: {\n\t\tborder: 0,\n\t\tborderRadius: 5,\n\t\tcolor: \"white\",\n\t\tpadding: '0 10px',\n\t\tbackground: \"#003E6B\",\n\t\twidth: \"8vw\",\n\t\talignSelf: \"center\",\n\t\t'&:hover': {\n\t\t\tbackground: \"#5082A7\",\n\t\t},\n\t\t'&:focus': {\n\t\t\tbackground: \"#003E6B\",\n\t\t\t'&:hover': {\n\t\t\t\tbackground: \"#5082A7\"\n\t\t\t}\n\t\t},\n\t\ttextAlign: \"right\",\n\t\tmarginLeft: \"30%\",\n\t},\n\timage: {\n\t\twidth: 80,\n\t\theight: 80,\n\t}\n});\n\nconst Container = styled('div')({\n\twidth: \"100vw\",\n\theight: \"100vh\",\n\tdisplay: \"flex\",\n\tflexDirection: \"column\",\n\talignItems: \"center\",\n\tjustifyContent: \"right\",\n\tcolor: \"darkslategray\",\n\tbackgroundColor: \"white\",\n})\n\nconst Wrapper = styled('div')({\n\twidth: \"75%\",\n\theight: \"50%\",\n\tdisplay: \"flex\",\n\tflexDirection: \"row\",\n\talignItems: \"center\",\n\tbackgroundColor: \"white\",\n\tmargin: \"30px auto\",\n\tminHeight: \"200px\",\n\tborder: \"1px solid steelblue\",\n\tpadding: \"30px\",\n\tborderRadius: \"5px\",\n\ttextAlign: \"left\",\n})\n\nconst SubmissionFormWrapper = styled('div')({\n\tdisplay: \"flex\",\n\talignItems: \"left\",\n\tjustifyContent: \"center\",\n\tflexDirection: \"column\",\n})\n\nconst VacationListWrapper = styled('div')({\n\tminWidth: \"250px\",\n\theight: \"100%\",\n\talignItems: \"center\",\n\tjustifyContent: \"center\",\n\toverflowY: \"scroll\",\n})\n\nconst VacationFormWrapper = styled('div')({\n\tdisplay: \"flex\",\n\tflexDirection: \"row\",\n\talignItems: \"center\",\n\tjustifyContent: \"space-evenly\",\n\twidth: \"100%\",\n\theight: \"50%\",\n})\n\nexport default class Vacation extends React.Component {\n\tstate = {\n\t\tuser: '',\n\t\tusers: [],\n\t\tvacations: [],\n\t\tvacationID: 0,\n\t\tvacationSubmitted: false,\n\t\tloaded: false,\n\t}\n\n\t// version that only takes username\n\tchangeUser = (user) => {\n\t\tif (!this.state.users.includes(user)) {\n\t\t\tconsole.log(user);\n\t\t\talert(\"User is not in database\")\n\t\t} else {\n\t\t\tlet stateVacations = this.state.vacations\n\t\t\tfor (let i = 0; i < this.state.vacations.length; i++) {\n\t\t\t\tstateVacations[i] = { ...stateVacations[i], user }\n\t\t\t}\n\t\t\tthis.setState({ vacations: stateVacations })\n\t\t\tthis.postSubmission(user)\n\t\t}\n\t}\n\n\taddVacation = (vacation) => {\n\t\tconst id = this.state.vacationID\n\t\tconst newVacation = { id, ...vacation }\n\t\tthis.setState({ vacationID: this.state.vacationID + 1 })\n\t\tthis.setState({ vacations: [...this.state.vacations, newVacation] })\n\t}\n\n\tdeleteVacation = (id) => {\n\t\t// check if deleteVacation is invoked\n\t\tconst index = this.state.vacations.findIndex(vac => vac.id === id);\n\t\tthis.setState(this.state.vacations.splice(index, 1));\n\t}\n\n\tcreateDate = (month, day) => {\n\t\tconst year = new Date().getFullYear()\n\t\tconst date = new Date(year, month - 1, day)\n\t\treturn date\n\t}\n\n\tpostSubmission = (username) => {\n\t\tfor (let index = 0; index < this.state.vacations.length; index++) {\n\t\t\tconst id = this.state.vacations[index].id\n\t\t\tconst start_date = this.createDate(this.state.vacations[index].startingMonth, this.state.vacations[index].startingDay).getTime()\n\t\t\tconst end_date = this.createDate(this.state.vacations[index].endingMonth, this.state.vacations[index].endingDay).getTime()\n\t\t\tconst duration = this.state.vacations[index].day\n\t\t\tconst vacation = { id, username, start_date, end_date, duration }\n\t\t\tthis.props.socket.emit('vacationAdded', vacation)\n\t\t}\n\t\tthis.setState({ vacationID: 0 })\n\t\tthis.setState({ vacationSubmitted: true })\n\t\tthis.setState({ vacations: [] })\n\t}\n\n\tparseData = (data) => {\n\t\tif (!data) {\n\t\t\treturn null\n\t\t}\n\t\tconst parsedData = JSON.parse(data)\n\t\tlet dataUsers = []\n\t\tfor (let i = 0; i < parsedData.length; i++) {\n\t\t\tdataUsers.push(parsedData[i].username)\n\t\t}\n\t\tthis.setState({ users: dataUsers })\n\t\tthis.setState({ loaded: true })\n\t\tconsole.log(dataUsers);\n\t}\n\n\tgetUsers = () => {\n\t\tfetch(END_POINT_ROOT + VACATION_RESOURCE)\n\t\t\t.then(response => {\n\t\t\t\treturn response.text();\n\t\t\t})\n\t\t\t.then(data => {\n\t\t\t\tthis.parseData(data)\n\t\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getUsers();\n\t}\n\n\trenderApp() {\n\t\treturn isUser() ? (\n\t\t\t<Container>\n\t\t\t\t<Header />\n\t\t\t\t<Wrapper theme={screenLayout} sx={{\n\t\t\t\t\theight: {\n\t\t\t\t\t\txxs: \"100%\",\n\t\t\t\t\t\txs: \"75%\",\n\t\t\t\t\t\tlg: \"50%\",\n\t\t\t\t\t}\n\t\t\t\t}}>\n\t\t\t\t\t<VacationFormWrapper theme={screenLayout} sx={{\n\t\t\t\t\t\tflexDirection: {\n\t\t\t\t\t\t\txxs: \"column\",\n\t\t\t\t\t\t\txs: \"column\",\n\t\t\t\t\t\t\tlg: \"row\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\theight: {\n\t\t\t\t\t\t\txxs: \"80%\",\n\t\t\t\t\t\t\txs: \"80%\",\n\t\t\t\t\t\t\tlg: \"50%\",\n\t\t\t\t\t\t}\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<SubmissionFormWrapper>\n\t\t\t\t\t\t\t<VacationInput onAdd={this.addVacation} />\n\t\t\t\t\t\t\t<UserInfo onAdd={this.changeUser} />\n\t\t\t\t\t\t\t{this.state.vacationSubmitted ? (<div className=\"vacation-submission-true\">Request submitted successfully</div>) : ('')}\n\t\t\t\t\t\t</SubmissionFormWrapper>\n\t\t\t\t\t\t<VacationListWrapper theme={screenLayout} sx={{\n\t\t\t\t\t\t\talignItems: {\n\t\t\t\t\t\t\t\txxs: \"left\",\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{this.state.vacations.length > 0 ? (<VacationList vacations={this.state.vacations} onDelete={this.deleteVacation} />) : (<text>No vacations added</text>)}\n\t\t\t\t\t\t</VacationListWrapper>\n\t\t\t\t\t</VacationFormWrapper>\n\t\t\t\t</Wrapper>\n\t\t\t</Container>\n\n\t\t) : window.location.href = \"/\"\n\t}\n\n\trender() {\n\t\treturn (this.state.loaded ? this.renderApp() :\n\t\t\t<span>Loading data...</span>)\n\t}\n\n}\n","import React from \"react\";\nimport IconButton from '@mui/material/IconButton';\nimport Stack from '@mui/material/Stack';\nimport ArrowForwardIosIcon from '@mui/icons-material/ArrowForwardIos';\nimport ArrowBackIosIcon from '@mui/icons-material/ArrowBackIos';\n\nexport default function Month({ title, socket, position, weeks, next, previous, currentYear }) {\n\n    return (\n        <React.Fragment>\n            <div className=\"grid-month\" style={{ gridArea: position.x + \" / \" + position.y + \" / span 1 / span \" + weeks.length }}>\n                <Stack direction=\"row\" spacing={1}>\n                    <IconButton aria-label=\"back\" onClick={previous}>\n                        <ArrowBackIosIcon />\n                    </IconButton>\n                    <h2 className=\"grid-header\">{title}</h2>\n                    <IconButton aria-label=\"next\" onClick={next}>\n                        <ArrowForwardIosIcon />\n                    </IconButton>\n                    <h2 className=\"grid-header\">{currentYear}</h2>\n                </Stack>\n            </div>\n            {\n                weeks.map((item, i) => {\n                    return <div key={title + item} className=\"grid-day\" style={{ gridArea: (position.x + 1) + \" / \" + (position.y + i) + \" / span 1 / span 1\" }}>\n                        {item}\n                    </div>\n                })\n            }\n        </React.Fragment>\n    );\n}\n","import React, { useEffect, useState } from \"react\";\nimport Select from 'react-select';\n\nconst END_POINT_ROOT = \"/\"\nconst COURSE_RESOURCE = \"courses\"\n\nconst parseData = (data) => {\n  if (!data) {\n    return null;\n  }\n  const parsedData = JSON.parse(data);\n  console.log(parsedData);\n\n  let courseArray = [];\n  for (let i = 0; i < parsedData.length; i++) {\n    const course = { value: parsedData[i].course_num, label: parsedData[i].title };\n\n    courseArray.push(course);\n  }\n  return courseArray;\n}\n\nconst getCourses = (callBack) => {\n  fetch(END_POINT_ROOT + COURSE_RESOURCE)\n    .then(response => {\n      return response.text();\n    })\n    .then(data => {\n      callBack(parseData(data));\n    });\n}\n\nexport default function Form({ title, textObject, callBack, isCourse = false }) {\n  const [input, setInput] = useState({}); // '' is the initial state value\n  const [selectedOption, setSelectedOption] = useState(null);\n  const [isLoaded, setLoaded] = useState(false);\n  const [courseArray, setCourseArray] = useState([]);\n\n  useEffect(() => {\n    if (isCourse) {\n      getCourses((data) => {\n        setCourseArray(data);\n        setLoaded(true);\n      })\n    } else {\n      setLoaded(true);\n    }\n  }, [])\n\n  const renderForm = () => {\n    return (\n      <div key={title + \" div\"} style={{ display: \"inline\", position: \"sticky\" }}>\n        {\n          isCourse ?\n            <React.Fragment>\n              <label name={\"Course\"} key={\"course label\"}>Course</label>\n              <Select\n                defaultValue={selectedOption}\n                onChange={setSelectedOption}\n                options={courseArray}\n              />\n            </React.Fragment>\n            :\n            undefined\n        }\n        {textObject.map((item, i) => {\n          return (\n            <React.Fragment key={item + \" container\"}>\n              <label name={item + \" label\"} key={item + \" label\"}>{item}</label>\n              <input name={item + \" input\"} key={item + \" input\"} onInput={e => setInput({ ...input, [item.split(\" \").join(\"\").toLowerCase()]: e.target.value })} />\n              <br />\n            </React.Fragment>\n          )\n        })}\n        {\n          isCourse ?\n            <button name={title + \" button\"} key={title + \" button\"} onClick={() => callBack({ number: selectedOption.value, title: selectedOption.label, ...input, datejoined: new Date().getTime() })}>Submit</button>\n            :\n            <button name={title + \" button\"} key={title + \" button\"} onClick={() => callBack({ ...input, datejoined: new Date().getTime() })}>Submit</button>\n        }\n\n      </div>\n    );\n  }\n\n  return (\n    <React.Fragment>\n      {isLoaded ?\n        renderForm()\n        :\n        <p>Loading</p>\n      }\n    </React.Fragment>\n  );\n}","import React from \"react\";\nimport Form from \"./Form\";\nimport Popup from \"reactjs-popup\";\n\nexport default function Slot({ name, position, createCourse }) {\n\n  return (\n    <div className=\"grid-slot\" style={{ position: \"relative\", gridArea: position.x + \" / \" + position.y + \" / span 1 / span 1\" }}>\n      {/* {createCourse &&\n        <Popup trigger={\n          <button\n            name={`${name} slot ${position.y}`}\n            style={{ opacity: 0, height: '100%', width: '100%', position: \"absolute\", zIndex: 99 }}\n            onClick={() => { console.log(\"CLICKCLACK\") }}>\n          </button>\n        } modal>\n          <div className=\"add-row-modal-bg\">\n            <Form text={\"Add Row: \"}\n              title={\"course\"}\n              textObject={[\"Week Length\", \"Color\"]}\n              isCourse={true}\n              callBack={(course) => createCourse(course, position.y - 3, position.x - 1)} /> //Coordinates are based on CSS grid, needs to be offset\n          </div>\n        </Popup>\n      } */}\n    </div>\n  );\n}","import React from \"react\";\nimport Slot from \"./Slot\";\nimport { ReactSession } from 'react-client-session';\n\nexport default function RowHeader({position, text, width, height, removeFunction, createCourse}) {\n    const createRowSlots = () => {\n        let slots = [];\n        for(let y = 0; y < width; y++) {\n            for(let x = 0; x < height; x++) {\n                slots.push({\n                    key: text + \"x:\" + (position.x + x) + \"y:\" + (position.y + y),\n                    pos: {x: position.x + x , y: position.y + y + 2},\n                });\n            }\n        }\n        return slots;\n    }\n\n    const createSlot= (item, i) => {\n        return(\n            <Slot key={item.key} position={{x: item.pos.x, y: item.pos.y}} \n            // Rowheader has 2 rows associated with it, one that can create courses, one that can't (vacation row)\n            createCourse={item.pos.x % 2 === 1 ? createCourse : null} \n            name={text}/>\n        );\n    }\n\n    // const [slotArray, ] = useState(createRowSlots());\n\n    let slotArray = createRowSlots();\n\n    return(\n        <React.Fragment>\n            <div className=\"grid-row-header\" style={{gridArea: position.x + \" / \" + position.y + \" / span 2 / span 2\"}}>\n                {\n                    ReactSession.get(\"admin\") === 1 ? \n                    <button name={text + \" remove\"} className=\"grid-row-header-close\" onClick={removeFunction}>\n                        <p>Remove</p>\n                    </button>\n                    :\n                    undefined\n                }\n                <p>{text}</p>\n            </div>\n            {slotArray.map((item, i) => {\n                return (\n                    createSlot(item, i)\n                )\n            })}\n        </React.Fragment>\n    );\n}","import React, { useEffect } from \"react\";\nimport _ from \"lodash\";\nimport RowHeader from './RowHeader';\nimport { useState } from \"react\";\n// const [display, setDisplay] = useState('Week');\n\nexport default function TimelineGrid({socket, heightLimit, instructorArray, createCourse, totalWeeks, onRemoveUser, onAddUser}) {\n    const initialRowHeaderArray = instructorArray;\n\n    // 100px height cells + 4 px total margin, change later if needed\n    const rowHeight = 204; \n\n    // Height for the grid and for correct placment of the add row button\n    const [height, setHeight] = useState(initialRowHeaderArray.length * rowHeight);\n\n    // List of users\n    const [rowHeaderArray, setRowHeaderArray] = useState(initialRowHeaderArray);\n\n    // Add a user to the timeline\n    const addRowHeader = (user, emit=true) => {\n        if(emit) {\n            socket.emit('userAdded', user);\n        } else {\n            setRowHeaderArray(rowHeaderArray => [...rowHeaderArray, {key: user.username, name: user.firstname + \" \" + user.lastname, timeblocks: [], vacations: []}]);\n\n            // Set the height limit to the number of users * 2 since each user takes up 2 rows\n            heightLimit.set((rowHeaderArray.length + 1) * 2);\n            setHeight(height => height + rowHeight);\n    \n            // Call the add user function passed in from the interactive grid so that it could also be updated\n            onAddUser(user);\n        }\n    }\n\n    const removeRowHeader = (key, x, emit=true) => {\n        // Check that an element has been found and removed before adjusting the row heights\n        setRowHeaderArray(rowHeaderArray => _.reject(rowHeaderArray, (element) => {return element.key === key}));\n        setHeight(height => height - rowHeight);\n\n        // Height limit not used, elements are locked to their rows\n        heightLimit.set((rowHeaderArray.length - 1) * 2);\n\n        // Call the add user function passed in from the interactive grid so that it could also be updated\n        onRemoveUser(key, x - 1);\n\n        if(emit)\n            socket.emit('userDeleted', key, x); \n    }\n    \n    const createRowHeader = (item, i) => {\n        const x = i * 2 + 1;\n        return <RowHeader key={item.key + \"rowHeader\" + i} socket={socket} text={item.name} \n                position={{x: x, y: 1}} width={totalWeeks} height={2}\n                removeFunction={() => {\n                    removeRowHeader(item.key, x)}} \n                    createCourse={createCourse}/>\n    }\n\n    //Use effect for attaching socket event listeners once the component mounts\n    useEffect(() => {\n        socket.on(\"userAdded\", (user, state) => {\n            console.log(\"Added: \" + JSON.stringify(user));\n            addRowHeader(user, false, state);\n        });\n\n        socket.on(\"userDeleted\", (id, x) => {\n            console.log(x);\n            console.log(id);\n            removeRowHeader(id, x, false);\n        });\n    }, []);\n\n    // if (display === 'Week'){\n    //     return (\n    //         <React.Fragment>\n    //             <div className=\"grid-container-layout-weeks\" style={{height:height}}>\n    //                 {\n    //                     rowHeaderArray.map((item, i) => {\n    //                         return (\n    //                             createRowHeader(item, i)\n    //                         )\n    //                     })\n    //                 }\n    //             </div>\n    //         </React.Fragment>\n    //     )\n    // } else {\n    //     return(\n    //         <React.Fragment>\n    //             <div className=\"grid-container-layout\" style={{height:height}}>\n    //                 {\n    //                     rowHeaderArray.map((item, i) => {\n    //                         return (\n    //                             createRowHeader(item, i)\n    //                         )\n    //                     })\n    //                 }\n    //             </div>\n    //         </React.Fragment>\n    // )};\n    return(\n                <React.Fragment>\n                    <div className=\"grid-container-layout\" style={{height:height}}>\n                        {\n                            rowHeaderArray.map((item, i) => {\n                                return (\n                                    createRowHeader(item, i)\n                                )\n                            })\n                        }\n                    </div>\n                </React.Fragment>\n        )\n}","import React from \"react\";\nimport _ from \"lodash\";\nimport TimelineGrid from \"./TimelineGrid\";\nimport { Link } from 'react-router-dom';\nimport { ReactSession } from 'react-client-session';\nimport RGL, { WidthProvider } from \"react-grid-layout\";\n\nexport default class LocalStorageLayout extends React.PureComponent {\n  static defaultProps = {\n    className: \"layout\",\n    rowHeight: 100,\n    margin: [2, 2],\n    allowOverlap: true,\n    preventCollision: false,\n    resizeHandles: ['e'],\n    compactType: null,\n    autoSize: true,\n  };\n\n  constructor({ props, socket, heightLimit, newInstructorArray, weekInformation,\n    totalWeeks, firstWeek, currentMonthWeeks, currentMonth, year }) {\n    super(props);\n\n    let timeLineInformation = weekInformation.weekRangesArray[currentMonth];\n\n    this.state = {\n      // Loop through the instructor array to get all the courses associated with them\n      items: newInstructorArray.reduce(function (acc, element, index) {\n        if ((element.timeblocks.length === 0 && element.vacations.length === 0) || weekInformation.length === 0) {\n          return acc;\n        }\n\n        // Create a course element for every timeblock and concatenate them into one array\n        let arr = acc.concat(\n          element.timeblocks.map((info) => {\n            const start = findWeekIndex(weekInformation, info.start);\n            const end = findWeekIndex(weekInformation, info.end);\n            console.log('start, end', start, end)\n            const width = getCourseWidth(start, end, weekInformation, timeLineInformation);\n\n            return (\n              {\n                start: start,\n                end: end,\n                text: info.name,\n                caId: info.caId,\n                userId: info.userId,\n                courseNum: info.courseNum,\n                data: {\n                  i: info.caId,\n                  x: start,\n                  y: index * 2,\n                  w: width,\n                  h: 1,\n                }\n              }\n            )\n          })\n        );\n\n        return arr.concat(\n          element.vacations.map((info) => {\n            const start = findWeekIndex(weekInformation, info.vacationStart);\n            const end = findWeekIndex(weekInformation, info.vacationEnd) + 1;\n\n            const width = getCourseWidth(start, end, weekInformation, timeLineInformation);\n            return (\n              {\n                start: start,\n                end: end,\n                text: info.userId + \"'s Vacation\",\n                uid: info.userId,\n                vid: info.vacationId,\n                data: {\n                  i: info.userId + info.vacationId,\n                  x: start,\n                  y: (index * 2) + 1,\n                  w: width,\n                  h: 1,\n                }\n              }\n            )\n          })\n        );\n      }, []),\n      heightLimit: heightLimit.get,\n      weekInformation: weekInformation,\n      instructorArray: newInstructorArray,\n      monthWeeks: currentMonthWeeks,\n    };\n\n    this.socket = socket;\n    this.heightLimit = heightLimit;\n    this.totalWeeks = totalWeeks;\n    this.mWeeks = currentMonthWeeks;\n    this.monthItems = this.state.items.filter((info) => {\n      const start = info.start;\n      const end = info.end;\n      const width = getCourseWidth(start, end, weekInformation, timeLineInformation);\n\n      if (width === 0) {\n        return false;\n      }\n\n      return true;\n    });\n    this.itemLayout = [];\n\n    this.socket.on(\"itemChanged\", (item) => {\n      console.log(\"Item Received: \" + JSON.stringify(item));\n\n      this.replaceItem(item);\n    });\n\n    this.socket.on(\"courseAdded\", (item) => {\n      console.log(\"Item Received: \" + JSON.stringify(item));\n\n      var date = new Date(item.start);\n\n      var courseYear = date.getFullYear();\n\n      var adjustment = (courseYear - this.props.year) * 12;\n\n      date.setMonth(date.getMonth() - adjustment);\n\n      item.start = date.getTime();\n\n      this.onAddCourse(item, parseInt(item.x), parseInt(item.y), false);\n    });\n\n    this.socket.on(\"courseDeleted\", (i) => {\n      console.log(\"Item Received: \" + JSON.stringify(i));\n\n      this.onRemoveItem(i, false);\n    });\n\n    this.socket.on(\"vacationApproved\", (vacation) => {\n      console.log(\"Item Received: \" + JSON.stringify(vacation));\n\n      this.onAddVacation(vacation);\n    });\n\n    this.socket.on(\"vacationDeleted\", (vacation) => {\n      console.log(\"Item Received: \" + JSON.stringify(vacation));\n\n      this.onRemoveVacation(vacation.vacation_id, false);\n    });\n  }\n\n  replaceItem = (item) => {\n    for (let i = 0; i < this.state.layout.length; i++) {\n      if (this.state.layout[i].i === item.i) {\n        const newLayout = this.state.layout.slice();\n        newLayout[i] = item;\n\n        this.setState({\n          layout: newLayout\n        });\n\n        break;\n      }\n    }\n  }\n\n  onLayoutChange = (layout) => {\n    this.setState({\n      layout: layout\n    });\n  }\n\n  onItemChange = (layout, oldItem, newItem) => {\n    // Update the dates on the postgresql database\n    const startDate = findWeekDate(this.state.weekInformation, newItem.x);\n    const endDate = findWeekDate(this.state.weekInformation, newItem.w + newItem.x - 1);\n\n    // HTTP request instead of sockets\n    const index = _.findIndex(this.monthItems, (element) => { return element.data.i.toString() === newItem.i });\n    const foundItem = this.monthItems[index];\n\n    // Restrict movement of the course to one row only\n    const yAxisLockedItem = newItem;\n    yAxisLockedItem.y = oldItem.y;\n    this.replaceItem(yAxisLockedItem);\n\n    const instructor = this.state.instructorArray[Math.floor(newItem.y / 2)];\n    this.socket.emit('itemChanged', yAxisLockedItem, { username: instructor.key, courseNum: foundItem.courseNum, caId: foundItem.caId, start: startDate.getTime(), end: endDate.getTime() });\n  }\n\n  onAddVacation = (info) => {\n    const start = findWeekIndex(this.state.weekInformation, new Date(info.start_date));\n    const end = findWeekIndex(this.state.weekInformation, new Date(info.end_date)) + 1;\n    const index = _.findIndex(this.state.instructorArray, (element) => { return element.key === info.username });\n\n    const newVacation = {\n      text: info.username + \"'s Vacation\",\n      uid: info.username,\n      vid: info.vacation_id,\n      data: {\n        i: info.username + info.vacation_id,\n        x: start,\n        y: (index * 2) + 1,\n        w: end - start,\n        h: 1,\n      }\n    }\n\n    this.setState({\n      items: this.state.items.concat(\n        newVacation\n      )\n    });\n  }\n\n  onAddCourse = (course, x = 0, y = 0, emit = true) => {\n    const w = parseInt(course.weeklength);\n\n    console.log(x);\n\n    const startDate = findWeekDate(this.state.weekInformation, x + this.props.firstWeek);\n    const endDate = findWeekDate(this.state.weekInformation, w + x + this.props.firstWeek);\n    const instructor = this.state.instructorArray[Math.floor(y / 2)];\n\n    const start = findWeekIndex(this.state.weekInformation, startDate);\n    const end = findWeekIndex(this.state.weekInformation, endDate);\n\n    // User/ instructor was deleted, can't create a course\n    if (instructor === undefined) {\n      return;\n    }\n\n    if (emit) {\n      this.socket.emit('courseAdded', { ...course, x: x, y: y, instructorKey: instructor.key, courseNum: course.number, start: startDate.getTime(), end: endDate.getTime() });\n    } else {\n      this.setState({\n        // Add a new item\n        items: this.state.items.concat({\n          start: start,\n          end: end,\n          text: course.title,\n          userId: instructor.key,\n          courseNum: course.number,\n          caId: course.caId,\n          data: {\n            i: course.caId,\n            x: x,\n            y: y,\n            w: w,\n            h: 1,\n          }\n        }),\n      });\n    }\n    console.log(this.state.items);\n  }\n\n  onRemoveItem(i, emit = true) {\n    // Find the index of the course element in the state\n    const index = _.findIndex(this.state.items, (element) => { return element.data.i === i });\n    const foundItem = this.state.items[index];\n\n    // Emit a message to all other applications that a course has been edeleted\n    if (emit) {\n      this.socket.emit(\"courseDeleted\", foundItem, i);\n    }\n\n    // Remove the element from the state\n    this.setState({ items: _.reject(this.state.items, (element) => { return element.data.i === i }) });\n  }\n\n  onRemoveVacation(vid, emit = true) {\n    if (emit) {\n      this.socket.emit(\"vacationDeleted\", { vacation_id: vid });\n    }\n\n    // Remove the element from the state\n    this.setState({ items: _.reject(this.state.items, (element) => { return element.vid === vid }) });\n  }\n\n  onRemoveUser = (key, y) => {\n    const initialLength = this.state.instructorArray.length;\n    this.setState({ instructorArray: _.reject(this.state.instructorArray, (element) => { return element.key === key }) },\n      () => {\n        // No user/ instructor found to delete\n        if (this.state.instructorArray.length !== initialLength) {\n          // Remove elements on the same row\n          console.log(\"Removed items at: \" + y);\n          this.setState({ items: _.reject(this.state.items, (element) => { return element.data.y === y || element.data.y === y + 1 }) }\n            , () => {\n              console.log(this.state.items);\n              // Move course elements up if they are below the user that was deleted\n              this.setState({\n                items: _.reduce(this.state.items, (acc, element) => {\n                  if (element.data.y > y) {\n                    const newElement = element;\n                    newElement.data.y -= 2;\n                    return [...acc, newElement];\n                  } else {\n                    return [...acc, element];\n                  }\n                }, [])\n              },\n                () => {\n                  this.setState({\n                    layout: _.reduce(this.state.items, (acc, element) => {\n                      if (element.vid !== undefined) {\n                        const itemData = { ...element.data, isDraggable: false, isResizable: false };\n                        return [...acc, itemData];\n                      } else {\n                        const itemData = element.data;\n                        return [...acc, itemData];\n                      }\n                    }, [])\n                  });\n                  console.log(this.state.layout);\n                });\n            });\n          // Reset layout so that the items are shifted up visually\n        }\n      });\n  }\n\n  onAddUser = (user) => {\n    this.setState({ instructorArray: [...this.state.instructorArray, { key: user.username, name: user.firstname + \" \" + user.lastname, timeblocks: [], vacations: [] }] });\n  }\n\n  createElement(el, isVacation = false, layout) {\n    const removeStyle = {\n      position: \"absolute\",\n      right: \"2px\",\n      top: 0,\n      cursor: \"pointer\",\n      padding: \"5px\",\n      color: \"black\"\n    };\n    const dsStyle = {\n      position: \"absolute\",\n      left: \"2px\",\n      bottom: 0,\n      cursor: \"pointer\",\n      padding: \"5px\",\n      color: \"black\"\n    };\n    return (\n      <div key={el.data.i} data-grid={isVacation ? { ...el.data, isDraggable: false, isResizable: false } : el.data}\n        name={el.text + \" el\"}>\n        <span className=\"text\">{el.text}</span>\n        {\n            ReactSession.get(\"admin\") === 1 ?\n            <span\n              className=\"remove\"\n              style={removeStyle}\n              onClick={isVacation ? this.onRemoveVacation.bind(this, el.vid) : this.onRemoveItem.bind(this, el.data.i)}\n            >\n              x\n            </span>\n            :\n            undefined\n        }\n        {!isVacation && ReactSession.get(\"admin\") === 1 ?\n          <Link\n            to={{\n              pathname: \"/detailed-schedule\",\n              search: \"?courseNum=\" + el.courseNum,\n            }}\n          >\n            <span\n              className=\"remove\"\n              style={dsStyle}\n            >\n              Detailed\n            </span>\n          </Link>\n          :\n          undefined\n        }\n      </div>\n    );\n  }\n\n  createItemGrid(props) {\n\n    const ReactGridLayout = WidthProvider(RGL);\n\n    this.updateItems();\n    return (\n      <ReactGridLayout\n        {...props}\n        cols={this.props.currentMonthWeeks}\n        maxRows={this.state.heightLimit()}\n        layout={this.state.layout}\n        isDraggable={ReactSession.get(\"admin\") !== undefined ? true : false}\n        isResizable={ReactSession.get(\"admin\") !== undefined ? true : false}\n        autoSize={true}\n      >\n        {this.monthItems.map(el => this.createElement(el, el.vid !== undefined ? true : false, this.props.currentMonthWeeks))}\n      </ReactGridLayout>\n    )\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.weekInformation.weekRangesArray[this.props.currentMonth].month !== prevProps.weekInformation.weekRangesArray[this.props.currentMonth].month) {\n      this.onLayoutChange(this.itemLayout);\n    }\n  }\n\n\n  resize = () => this.forceUpdate();\n\n  componentDidMount() {\n    window.addEventListener('resize', this.resize);\n  }\n\n  updateItems() {\n\n    var items = [];\n\n    var random = this.state.items.filter((item) => {\n      const start = item.start;\n      const end = item.end;\n\n      const width = getCourseWidth(start, end, this.props.weekInformation, this.props.weekInformation.weekRangesArray[this.props.currentMonth]);\n      if (width === 0) {\n        return false;\n      }\n\n      return true;\n    })\n\n    random.forEach(element => {\n      const width = getCourseWidth(element.start, element.end, this.props.weekInformation, this.props.weekInformation.weekRangesArray[this.props.currentMonth]);\n      element.data.w = width;\n      element.data.i = element.data.i.toString();\n      element.data.maxW = this.props.currentMonthWeeks;\n      items.push(element.data);\n    });\n    this.monthItems = random;\n    this.itemLayout = items;\n\n    return items;\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <TimelineGrid\n          socket={this.socket}\n          heightLimit={this.heightLimit}\n          instructorArray={this.state.instructorArray}\n          createCourse={this.onAddCourse}\n          totalWeeks={this.props.currentMonthWeeks}\n          onRemoveUser={this.onRemoveUser}\n          onAddUser={this.onAddUser} />\n        <div className=\"grid-item-container\" style={{ width: this.props.currentMonthWeeks * 102, position: \"absolute\" }}>\n          {this.createItemGrid(this.props)}\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nfunction getCourseWidth(start, end, weekInformation, timeLineInformation) {\n  const monthStart = findWeekIndex(weekInformation, timeLineInformation.times[0].date);\n  const monthEnd = findWeekIndex(weekInformation, timeLineInformation.times[timeLineInformation.times.length - 1].date);\n\n  const course = _.range(start, end);\n  const month = _.range(monthStart, monthEnd + 1);\n\n  const intersection = course.filter(value => month.includes(value));\n\n  return intersection.length;\n\n}\n\nfunction findWeekIndex(weekInformation, date) {\n  // Search for a week in a particular month\n  const monthIndex = date.getMonth();\n\n  // Get the first day of every week in that month\n  const weekRanges = weekInformation.weekRangesArray[monthIndex].times;\n\n  for (let i = 0; i < weekRanges.length; i++) {\n    if (date <= weekRanges[i].date) {\n      return weekRanges[i].index;\n    }\n\n  }\n\n  // Return the index of the last week of the month\n  return weekRanges[weekRanges.length - 1].index;\n}\n\nfunction findWeekDate(weekInformation, index) {\n  return weekInformation.indexMap[index];\n}\n","import React from 'react';\nimport '../navbar.css'\n\nfunction logout() {\n    localStorage.clear();\n}\n\nconst AdminNav = ({ title }) => {\n    return (\n        <ul className=\"nav-ul\">\n            <li className='nav-li'><a href=\"/\">Home</a></li>\n            <li className='nav-li'><a href=\"/create_user\">Create User</a></li>\n            <li className='nav-li'><a href=\"/create_course\">Create Course</a></li>\n            <li className='nav-li'><a href=\"/create_resource\">Create Resource</a></li>\n            <li className='nav-li'><a href=\"/vacation\">Request Vacation</a></li>\n            <li className='nav-li'><a href=\"/vacationApproval\">Approve Vacation</a></li>\n            <li className='nav-li_logout' id=\"logout\" onMouseDown={logout}><a href=\"/\">Logout</a></li>\n        </ul>\n    );\n};\n\n\nAdminNav.defaultProps = {\n    title: 'Admin Nav',\n}\n\nexport default AdminNav;","import React from 'react';\nimport '../navbar.css'\n\nfunction logout() {\n    localStorage.clear();\n}\n\nconst UserNav = ({ title }) => {\n    return (\n        <ul className=\"nav-ul\">\n            <li className='nav-li'><a href=\"/vacation\">Request Vacation</a></li>\n            <li className='nav-li' id=\"logout\" onMouseDown={logout}><a href=\"/\">Logout</a></li>\n        </ul>\n    );\n};\n\nUserNav.defaultProps = {\n    title: 'Admin Nav',\n}\n\nexport default UserNav;\n","import React from 'react';\nimport '../navbar.css'\n\nconst DefaultNav = ({ title }) => {\n    return (\n        <ul className=\"nav-ul\">\n            <li className='nav-li' id=\"login\"><a href=\"/login\">Login</a></li>\n        </ul>\n    );\n};\n\nDefaultNav.defaultProps = {\n    title: 'Default Nav',\n}\n\nexport default DefaultNav;\n","import React from \"react\";\nimport RGL, { WidthProvider } from \"react-grid-layout\";\nimport _ from \"lodash\";\nimport TimelineGrid from \"./TimelineGrid\";\nimport { Link } from 'react-router-dom';\nimport { ReactSession } from 'react-client-session';\nconst ReactGridLayout = WidthProvider(RGL);\n\n\nexport default class LocalStorageLayout extends React.PureComponent {\n  static defaultProps = {\n    className: \"layout\",\n    rowHeight: 100,\n    margin: [2, 2],\n    allowOverlap: true,\n    preventCollision: false,\n    resizeHandles: ['e'],\n    compactType: null,\n    autoSize: true\n  };\n\n  constructor({ props, socket, heightLimit, newInstructorArray, weekInformation, totalWeeks }) {\n    super(props);\n\n    this.state = {\n      // Loop through the instructor array to get all the courses associated with them\n      items: newInstructorArray.reduce(function (acc, element, index) {\n        if ((element.timeblocks.length === 0 && element.vacations.length === 0) || weekInformation.length === 0) {\n          return acc;\n        }\n\n        // Create a course element for every timeblock and concatenate them into one array\n        let arr = acc.concat(\n          element.timeblocks.map((info) => {\n            const start = findWeekIndex(weekInformation, info.start);\n            const end = findWeekIndex(weekInformation, info.end) + 1;\n            return (\n              {\n                text: info.name,\n                caId: info.caId,\n                userId: info.userId,\n                courseNum: info.courseNum,\n                data: {\n                  i: info.caId,\n                  x: start,\n                  y: index * 2,\n                  w: end - start,\n                  h: 1,\n                }\n              }\n            )\n          })\n        );\n\n        return arr.concat(\n          element.vacations.map((info) => {\n            const start = findWeekIndex(weekInformation, info.vacationStart);\n            const end = findWeekIndex(weekInformation, info.vacationEnd) + 1;\n            return (\n              {\n                text: info.userId + \"'s Vacation\",\n                uid: info.userId,\n                vid: info.vacationId,\n                data: {\n                  i: info.userId + info.vacationId,\n                  x: start,\n                  y: (index * 2) + 1,\n                  w: end - start,\n                  h: 1,\n                }\n              }\n            )\n          })\n        );\n      }, []),\n      heightLimit: heightLimit.get,\n      weekInformation: weekInformation,\n      instructorArray: newInstructorArray\n    };\n    this.socket = socket;\n    this.heightLimit = heightLimit;\n    this.totalWeeks = totalWeeks;\n\n    this.socket.on(\"itemChanged\", (item) => {\n      console.log(\"Item Received: \" + JSON.stringify(item));\n\n      this.replaceItem(item);\n    });\n\n    this.socket.on(\"courseAdded\", (item) => {\n      console.log(\"Item Received: \" + JSON.stringify(item));\n\n      this.onAddCourse(item, parseInt(item.x), parseInt(item.y), false);\n    });\n\n    this.socket.on(\"courseDeleted\", (i) => {\n      console.log(\"Item Received: \" + JSON.stringify(i));\n\n      this.onRemoveItem(i, false);\n    });\n\n    this.socket.on(\"vacationApproved\", (vacation) => {\n      console.log(\"Item Received: \" + JSON.stringify(vacation));\n\n      this.onAddVacation(vacation);\n    });\n\n    this.socket.on(\"vacationDeleted\", (vacation) => {\n      console.log(\"Item Received: \" + JSON.stringify(vacation));\n\n      this.onRemoveVacation(vacation.vacation_id, false);\n    })\n  }\n\n  replaceItem = (item) => {\n    for (let i = 0; i < this.state.layout.length; i++) {\n      if (this.state.layout[i].i === item.i) {\n        const newLayout = this.state.layout.slice();\n        newLayout[i] = item;\n\n        this.setState({\n          layout: newLayout\n        });\n\n        break;\n      }\n    }\n  }\n\n  onLayoutChange = (layout, layouts) => {\n    this.setState({\n      layout: layout\n    });\n  }\n\n  onItemChange = (layout, oldItem, newItem) => {\n    // Update the dates on the postgresql database\n    const startDate = findWeekDate(this.state.weekInformation, newItem.x);\n    const endDate = findWeekDate(this.state.weekInformation, newItem.w + newItem.x - 1);\n\n    // HTTP request instead of sockets\n\n    const index = _.findIndex(this.state.items, (element) => { return element.data.i.toString() === newItem.i });\n    const foundItem = this.state.items[index];\n\n    // Restrict movement of the course to one row only\n    const yAxisLockedItem = newItem;\n    yAxisLockedItem.y = oldItem.y;\n    this.replaceItem(yAxisLockedItem);\n\n    const instructor = this.state.instructorArray[Math.floor(newItem.y / 2)];\n    this.socket.emit('itemChanged', yAxisLockedItem, { username: instructor.key, courseNum: foundItem.courseNum, caId: foundItem.caId, start: startDate.getTime(), end: endDate.getTime() });\n  }\n\n  onAddVacation = (info) => {\n    const start = findWeekIndex(this.state.weekInformation, new Date(info.start_date));\n    const end = findWeekIndex(this.state.weekInformation, new Date(info.end_date)) + 1;\n    const index = _.findIndex(this.state.instructorArray, (element) => { return element.key === info.username });\n\n    const newVacation = {\n      text: info.username + \"'s Vacation\",\n      uid: info.username,\n      vid: info.vacation_id,\n      data: {\n        i: info.username + info.vacation_id,\n        x: start,\n        y: (index * 2) + 1,\n        w: end - start,\n        h: 1,\n      }\n    }\n\n    this.setState({\n      items: this.state.items.concat(\n        newVacation\n      )\n    });\n  }\n\n  onAddCourse = (course, x = 0, y = 0, emit = true) => {\n    const w = parseInt(course.weeklength);\n\n    const startDate = findWeekDate(this.state.weekInformation, x);\n    const endDate = findWeekDate(this.state.weekInformation, w + x - 1);\n    const instructor = this.state.instructorArray[Math.floor(y / 2)];\n\n    // User/ instructor was deleted, can't create a course\n    if (instructor === undefined) {\n      return;\n    }\n\n    if (emit) {\n      this.socket.emit('courseAdded', { ...course, x: x, y: y, instructorKey: instructor.key, courseNum: course.number, start: startDate.getTime(), end: endDate.getTime() });\n    } else {\n      this.setState({\n        // Add a new item\n        items: this.state.items.concat({\n          text: course.title,\n          userId: instructor.key,\n          courseNum: course.number,\n          caId: course.caId,\n          data: {\n            i: course.caId,\n            x: x,\n            y: y,\n            w: w,\n            h: 1,\n          }\n        }),\n      });\n    }\n  }\n\n  onRemoveItem(i, emit = true) {\n    // Find the index of the course element in the state\n    const index = _.findIndex(this.state.items, (element) => { return element.data.i === i });\n    const foundItem = this.state.items[index];\n\n    // Emit a message to all other applications that a course has been edeleted\n    if (emit) {\n      this.socket.emit(\"courseDeleted\", foundItem, i);\n    }\n\n    // Remove the element from the state\n    this.setState({ items: _.reject(this.state.items, (element) => { return element.data.i === i }) });\n  }\n\n  onRemoveVacation(vid, emit = true) {\n    if (emit) {\n      this.socket.emit(\"vacationDeleted\", { vacation_id: vid });\n    }\n\n    // Remove the element from the state\n    this.setState({ items: _.reject(this.state.items, (element) => { return element.vid === vid }) });\n  }\n\n  onRemoveUser = (key, y) => {\n    const initialLength = this.state.instructorArray.length;\n    this.setState({ instructorArray: _.reject(this.state.instructorArray, (element) => { return element.key === key }) },\n      () => {\n        // No user/ instructor found to delete\n        if (this.state.instructorArray.length !== initialLength) {\n          // Remove elements on the same row\n          console.log(\"Removed items at: \" + y);\n          this.setState({ items: _.reject(this.state.items, (element) => { return element.data.y === y || element.data.y === y + 1 }) }\n            , () => {\n              console.log(this.state.items);\n              // Move course elements up if they are below the user that was deleted\n              this.setState({\n                items: _.reduce(this.state.items, (acc, element) => {\n                  if (element.data.y > y) {\n                    const newElement = element;\n                    newElement.data.y -= 2;\n                    return [...acc, newElement];\n                  } else {\n                    return [...acc, element];\n                  }\n                }, [])\n              },\n                () => {\n                  this.setState({\n                    layout: _.reduce(this.state.items, (acc, element) => {\n                      if (element.vid !== undefined) {\n                        const itemData = { ...element.data, isDraggable: false, isResizable: false };\n                        return [...acc, itemData];\n                      } else {\n                        const itemData = element.data;\n                        return [...acc, itemData];\n                      }\n                    }, [])\n                  });\n                  console.log(this.state.layout);\n                });\n            });\n          // Reset layout so that the items are shifted up visually\n        }\n      });\n  }\n\n  onAddUser = (user) => {\n    this.setState({ instructorArray: [...this.state.instructorArray, { key: user.username, name: user.firstname + \" \" + user.lastname, timeblocks: [], vacations: [] }] });\n  }\n\n  createElement(el, isVacation = false) {\n    const removeStyle = {\n      position: \"absolute\",\n      right: \"2px\",\n      top: 0,\n      cursor: \"pointer\",\n      padding: \"5px\",\n      color: \"black\"\n    };\n    const dsStyle = {\n      position: \"absolute\",\n      left: \"2px\",\n      bottom: 0,\n      cursor: \"pointer\",\n      padding: \"5px\",\n      color: \"black\"\n    };\n\n    return (\n      <div key={el.data.i} data-grid={isVacation ? { ...el.data, isDraggable: false, isResizable: false } : el.data} name={el.text + \" el\"} >\n        <span className=\"text\">{el.text}</span>\n        {\n          ReactSession.get(\"admin\") === 1 ?\n            <span\n              className=\"remove\"\n              style={removeStyle}\n              onClick={isVacation ? this.onRemoveVacation.bind(this, el.vid) : this.onRemoveItem.bind(this, el.data.i)}\n            >\n              x\n            </span>\n            :\n            undefined\n        }\n        {!isVacation && ReactSession.get(\"admin\") === 1 ?\n          <Link\n            to={{\n              pathname: \"/detailed-schedule\",\n              search: \"?courseNum=\" + el.courseNum,\n            }}\n          >\n            <span\n              className=\"remove\"\n              style={dsStyle}\n            >\n              Detailed\n            </span>\n          </Link>\n          :\n          undefined\n        }\n      </div>\n    );\n  }\n\n  render() {\n    console.log(this.props.weekInformation);\n    console.log(this.state.items);\n    console.log(this.totalWeeks);\n    return (\n      <React.Fragment>\n        <TimelineGrid\n          socket={this.socket}\n          heightLimit={this.heightLimit}\n          instructorArray={this.state.instructorArray}\n          createCourse={this.onAddCourse}\n          totalWeeks={this.totalWeeks}\n          onRemoveUser={this.onRemoveUser}\n          onAddUser={this.onAddUser} />\n        <div className=\"grid-item-container\" style={{ width: this.totalWeeks * 102, position: \"absolute\" }}>\n          <ReactGridLayout\n            {...this.props}\n            cols={this.totalWeeks}\n            maxRows={this.state.heightLimit()}\n            layout={this.state.layout}\n            onLayoutChange={this.onLayoutChange}\n            onResizeStop={this.onItemChange}\n            onDragStop={this.onItemChange}\n            isDraggable={ReactSession.get(\"admin\") !== undefined ? true : false}\n            isResizable={ReactSession.get(\"admin\") !== undefined ? true : false}\n          >\n            {this.state.items.map(el => this.createElement(el, el.vid !== undefined ? true : false))}\n            {/* {this.state.vacations.map(el => this.createElement(el, true))} */}\n          </ReactGridLayout>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nfunction findWeekIndex(weekInformation, date) {\n  // Search for a week in a particular month\n  const monthIndex = date.getMonth();\n\n  // Get the first day of every week in that month\n  const weekRanges = weekInformation.weekRangesArray[monthIndex].times;\n\n  for (let i = 0; i < weekRanges.length; i++) {\n    if (date <= weekRanges[i].date) {\n      return weekRanges[i].index;\n    }\n\n  }\n\n  // Return the index of the last week of the month\n  return weekRanges[weekRanges.length - 1].index;\n}\n\nfunction findWeekDate(weekInformation, index) {\n  return weekInformation.indexMap[index];\n}\n","import React from \"react\";\nimport Form from \"./Form\";\nimport Popup from \"reactjs-popup\";\n\nexport default function Slot({ name, position, createCourse }) {\n\n  return (\n    <div className=\"grid-slot\" style={{ position: \"relative\", gridArea: position.x + \" / \" + position.y + \" / span 1 / span 1\" }}>\n      \n      {createCourse &&\n        <Popup trigger={\n          <button\n            name={`${name} slot ${position.y}`}\n            style={{ opacity: 0, height: '100%', width: '100%', position: \"absolute\", zIndex: 99 }}\n            onClick={() => { console.log(\"CLICKCLACK\") }}\n            >\n\n          </button>\n        } modal>\n          <div className=\"add-row-modal-bg\">\n            <Form text={\"Add Row: \"}\n              title={\"course\"}\n              textObject={[\"Day Length\", \"Color\"]}\n              isCourse={true}\n              callBack={(course) => createCourse(course, position.y - 3, position.x - 1)} /> {/*Coordinates are based on CSS grid, needs to be offset*/}\n          </div>\n          \n        </Popup>\n      }\n      \n    </div>\n  );\n}","import React from \"react\";\nimport SlotWeek from \"./Slot_Week\";\nimport { ReactSession } from 'react-client-session';\n\nexport default function RowHeader({position, text, width, height, removeFunction, createCourse}) {\n    const createRowSlots = () => {\n        let slots = [];\n        for(let y = 0; y < width; y++) {\n            for(let x = 0; x < height; x++) {\n                slots.push({\n                    key: text + \"x:\" + (position.x + x) + \"y:\" + (position.y + y),\n                    pos: {x: position.x + x, y: position.y + y + 2},\n                });\n            }\n        }\n        return slots;\n    }\n\n    const createSlot= (item, i) => {\n        return(\n            <SlotWeek key={item.key} position={{x: item.pos.x, y: item.pos.y}} \n            // Rowheader has 3 rows associated with it, one that can create courses, one that can't (vacation row)\n            createCourse={item.pos.x % 3 != 0 ? createCourse : null} \n            name={text}/>\n        );\n    }\n\n    // const [slotArray, ] = useState(createRowSlots());\n\n    let slotArray = createRowSlots();\n\n    return(\n        <React.Fragment>\n            <div className=\"grid-row-header\" style={{gridArea: position.x + \" / \" + position.y + \" / span 3 / span 2\"}}>\n                {\n                    ReactSession.get(\"admin\") === 1 ? \n                    <button name={text + \" remove\"} className=\"grid-row-header-close\" onClick={removeFunction}>\n                        <p>Remove</p>\n                    </button>\n                    :\n                    undefined\n                }\n                <p>{text}</p>\n            </div>\n            {slotArray.map((item, i) => {\n                return (\n                    createSlot(item, i)\n                )\n            })}\n        </React.Fragment>\n    );\n}","import React, { useEffect } from \"react\";\nimport _ from \"lodash\";\nimport RowHeader from './RowHeader';\nimport { useState } from \"react\";\nimport RowHeaderWeek from './RowHeader_Week'\n// const [display, setDisplay] = useState('Week');\n\nexport default function TimelineGrid({socket, heightLimit, instructorArray, createCourse, totalWeeks, onRemoveUser, onAddUser}) {\n    const initialRowHeaderArray = instructorArray;\n\n    // 100px height cells + 4 px total margin, change later if needed\n    const rowHeight = 204; \n\n    // Height for the grid and for correct placment of the add row button\n    const [height, setHeight] = useState(initialRowHeaderArray.length * rowHeight);\n\n    // List of users\n    const [rowHeaderArray, setRowHeaderArray] = useState(initialRowHeaderArray);\n\n    // Add a user to the timeline\n    const addRowHeader = (user, emit=true) => {\n        if(emit) {\n            socket.emit('userAdded', user);\n        } else {\n            setRowHeaderArray(rowHeaderArray => [...rowHeaderArray, {key: user.username, name: user.firstname + \" \" + user.lastname, timeblocks: [], vacations: []}]);\n\n            // Set the height limit to the number of users * 2 since each user takes up 2 rows\n            heightLimit.set((rowHeaderArray.length + 1) * 2);\n            setHeight(height => height + rowHeight);\n    \n            // Call the add user function passed in from the interactive grid so that it could also be updated\n            onAddUser(user);\n        }\n    }\n\n    const removeRowHeader = (key, x, emit=true) => {\n        // Check that an element has been found and removed before adjusting the row heights\n        setRowHeaderArray(rowHeaderArray => _.reject(rowHeaderArray, (element) => {return element.key === key}));\n        setHeight(height => height - rowHeight);\n\n        // Height limit not used, elements are locked to their rows\n        heightLimit.set((rowHeaderArray.length - 1) * 2);\n\n        // Call the add user function passed in from the interactive grid so that it could also be updated\n        onRemoveUser(key, x - 1);\n\n        if(emit)\n            socket.emit('userDeleted', key, x); \n    }\n\n    const createRowHeaderWeek = (item, i) => {\n        const x = i * 3 + 1;\n        return <RowHeaderWeek key={item.key + \"rowHeader\" + i} socket={socket} text={item.name} \n                position={{x: x, y: 1}} width={totalWeeks} height={3}\n                removeFunction={() => {\n                    removeRowHeader(item.key, x)}} \n                    createCourse={createCourse}/>\n    }\n\n    //Use effect for attaching socket event listeners once the component mounts\n    useEffect(() => {\n        socket.on(\"userAdded\", (user, state) => {\n            console.log(\"Added: \" + JSON.stringify(user));\n            addRowHeader(user, false, state);\n        });\n\n        socket.on(\"userDeleted\", (id, x) => {\n            console.log(x);\n            console.log(id);\n            removeRowHeader(id, x, false);\n        });\n    }, []);\n\n    return(\n                <React.Fragment>\n                    <div className=\"grid-container-layout-weeks\" style={{height:height}}>\n                        {\n                            rowHeaderArray.map((item, i) => {\n                                return (\n                                    createRowHeaderWeek(item, i)\n                                )\n                            })\n                        }\n                    </div>\n                </React.Fragment>\n        )\n}","import React from \"react\";\nimport _ from \"lodash\";\nimport TimelineGridWeek from \"./TimelineGrid_Week\";\nimport { Link } from 'react-router-dom';\nimport { ReactSession } from 'react-client-session';\nimport RGL, { WidthProvider } from \"react-grid-layout\";\n\nexport default class LocalStorageLayout extends React.PureComponent {\n  static defaultProps = {\n    className: \"layout\",\n    rowHeight: 80,\n    margin: [2, 2],\n    allowOverlap: true,\n    preventCollision: false,\n    resizeHandles: ['e'],\n    compactType: null,\n    autoSize: true,\n  };\n  //###############################################################################\n  // ---------DISCLAMER: THIS WILL BE PAINFUL TO LOOK AT. IM SORRY :(.  -love matt\n  //############################################################################### \n  \n  constructor({ props, socket, heightLimit, newInstructorArray, weekInformation,  \n    totalWeeks, firstWeek, firstDay, currentWeekDays, currentMonth, currentWeek, currentDate, year }) {\n    super(props);\n\n    let timeLineInformation = weekInformation.weekRangesArray[currentMonth];\n\n    this.state = {\n      // Loops through the instructor array to get all the courses associated with them\n      items: newInstructorArray.reduce(function (acc, element, index) {\n\n        if ((element.timeblocks.length === 0 && element.vacations.length === 0) || weekInformation.length === 0) {\n          \n          return acc;\n        }\n\n        // Create a course element for every timeblock and concatenate them into one array\n        // KEEP IN MIND. it concatenates through every course_assingment in the database. ikr?!?!?!? i didnt do this i swear\n        // btw most of this file is copy pasted code. \n        let arr = acc.concat(\n          element.timeblocks.map((info) => {\n\n            // this stuff determines the amount of days the course_assignments are from the firstDate -> jan 3, 2022\n            const start = getDayRange(currentDate, info.start)\n            const end = getDayRange(currentDate, info.end) + 1\n            // console.log('timeblock start, end', start, end)\n            // console.log('current Date', currentDate)\n            // console.log('info.start', info.start.getDate()) \n            // console.log('info.end', info.end.getDate())\n            // console.log('start', start)\n            // console.log('end', end)\n            // console.log('currentDate', currentDate)\n\n            // determines how many days this event will stretch on the week view.\n            // it will give any course_assignment that isnt shown in the first week a width of 0. (makes it invisible :0)\n            const width = getCourseWidth(start, end, currentDate);\n            // console.log('width', width)\n            // the data values are basically coordinates and dimensions for a 'react-grid-layout' or RGL.\n            // i recommend looking the documentation to know what this is doing (lookup: RGL and react-grid-layout).\n            return (\n              {\n                start: start,\n                end: end,\n                text: info.name,\n                caId: info.caId,\n                userId: info.userId,\n                courseNum: info.courseNum,\n                data: {\n                  i: info.caId,\n                  x: start,\n                  y: index * 2,\n                  w: width,\n                  h: 1,\n                }\n              }\n            )\n          })\n        );\n        // this isnt not relevant to the week view but i havent touched it so idk if removing it will break the app.(it prob will)\n        return arr.concat(\n          element.vacations.map((info) => {\n            const start = getDayRange(currentDate, info.vacationStart);\n            const end = getDayRange(currentDate, info.vacationEnd) + 1;\n\n            const width = getCourseWidth(start, end, weekInformation, timeLineInformation, currentDate);\n            return (\n              {\n                start: start,\n                end: end,\n                text: info.userId + \"'s Vacation\",\n                uid: info.userId,\n                vid: info.vacationId,\n                data: {\n                  i: info.userId + info.vacationId,\n                  x: start,\n                  y: (index * 2) + 1,\n                  w: width,\n                  h: 1,\n                }\n              }\n            )\n          })\n        );\n      }, []),\n      heightLimit: heightLimit.get,\n      weekInformation: weekInformation,\n      instructorArray: newInstructorArray,\n      currentWeekDays: currentWeekDays,\n      // i added these. again sorry. i made the same value twice and didnt realize it.\n      //makes a static value that can be read all over this file.\n      firstWeek: currentWeek,\n      currentWeek: currentWeek\n\n    };\n    //makes a static value that can be read all over this file. see next change at line 243\n    this.firstDate = currentDate\n    \n    this.socket = socket;\n    this.heightLimit = heightLimit;\n    this.totalWeeks = totalWeeks;\n    this.mWeeks = currentWeekDays;\n    this.monthItems = this.state.items.filter((info) => {\n      const start = info.start;\n      const end = info.end;\n      // console.log('l99 start, end', start, end)\n      const width = getCourseWidth(start, end, currentDate);\n      console.log(\"monthItems is called\")\n\n      if (width === 0) {\n        return false;\n      }\n\n      return true;\n    });\n    this.itemLayout = [];\n\n    this.socket.on(\"itemChanged\", (item) => {\n      console.log(\"Item Received: \" + JSON.stringify(item));\n\n      this.replaceItem(item);\n    });\n\n    this.socket.on(\"courseAdded\", (item) => {\n      console.log(\"Item Received: \" + JSON.stringify(item));\n\n      var date = new Date(item.start);\n\n      var courseYear = date.getFullYear();\n\n      var adjustment = (courseYear - this.props.year) * 12;\n\n      date.setMonth(date.getMonth() - adjustment);\n\n      item.start = date.getTime();\n\n      this.onAddCourse(item, parseInt(item.x), parseInt(item.y), false);\n    });\n\n    this.socket.on(\"courseDeleted\", (i) => {\n      console.log(\"Item Received: \" + JSON.stringify(i));\n\n      this.onRemoveItem(i, false);\n    });\n\n    this.socket.on(\"vacationApproved\", (vacation) => {\n      console.log(\"Item Received: \" + JSON.stringify(vacation));\n\n      this.onAddVacation(vacation);\n    });\n\n    this.socket.on(\"vacationDeleted\", (vacation) => {\n      console.log(\"Item Received: \" + JSON.stringify(vacation));\n\n      this.onRemoveVacation(vacation.vacation_id, false);\n    });\n  }\n\n  replaceItem = (item) => {\n    for (let i = 0; i < this.state.layout.length; i++) {\n      if (this.state.layout[i].i === item.i) {\n        const newLayout = this.state.layout.slice();\n        newLayout[i] = item;\n\n\n        this.setState({\n          layout: newLayout\n        });\n\n        break;\n      }\n    }\n  }\n\n  onLayoutChange = (layout) => {\n\n    this.setState({\n      layout: layout\n    });\n  }\n\n  onItemChange = (layout, oldItem, newItem) => {\n    // Update the dates on the postgresql database\n    const startDate = findWeekDate(this.state.weekInformation, newItem.x);\n    const endDate = findWeekDate(this.state.weekInformation, newItem.w + newItem.x - 1);\n\n    // HTTP request instead of sockets\n    const index = _.findIndex(this.monthItems, (element) => { return element.data.i.toString() === newItem.i });\n    const foundItem = this.monthItems[index];\n\n    // Restrict movement of the course to one row only\n    const yAxisLockedItem = newItem;\n    yAxisLockedItem.y = oldItem.y;\n    this.replaceItem(yAxisLockedItem);\n\n    const instructor = this.state.instructorArray[Math.floor(newItem.y / 2)];\n    this.socket.emit('itemChanged', yAxisLockedItem, { username: instructor.key, courseNum: foundItem.courseNum, caId: foundItem.caId, start: startDate.getTime(), end: endDate.getTime() });\n  }\n\n  onAddVacation = (info) => {\n    const start = getDayRange(this.state.current_date, new Date(info.start_date));\n    const end = getDayRange(this.state.current_date, new Date(info.end_date)) + 1;\n    const index = _.findIndex(this.state.instructorArray, (element) => { return element.key === info.username });\n\n    const newVacation = {\n      text: info.username + \"'s Vacation\",\n      uid: info.username,\n      vid: info.vacation_id,\n      data: {\n        i: info.username + info.vacation_id,\n        x: start,\n        y: (index * 2) + 1,\n        w: end - start,\n        h: 1,\n      }\n    }\n\n    this.setState({\n      items: this.state.items.concat(\n        newVacation\n      )\n    });\n  }\n\n  onAddCourse = (course, x = 0, y = 0, emit = true) => {\n    const w = parseInt(course.weeklength);\n\n\n    // this broke in the begining of adjusting the code. i dont know how to fix it yet. \n    // totally doable tho. see next change on line 422\n    const startDate = findWeekDate(this.state.weekInformation, x, this.props.firstWeek);\n    const endDate = findWeekDate(this.state.weekInformation, w + x, this.props.firstWeek);\n    const instructor = this.state.instructorArray[Math.floor(y / 2)];\n\n    const start = getCourseWidth(this.props.current_date, startDate);\n    const end = getCourseWidth(this.props.current_date, endDate);\n\n    // User/ instructor was deleted, can't create a course\n    if (instructor === undefined) {\n      return;\n    }\n\n    if (emit) {\n      this.socket.emit('courseAdded', { ...course, x: x, y: y, instructorKey: instructor.key, courseNum: course.number, start: startDate.getTime(), end: endDate.getTime() });\n    } else {\n      this.setState({\n        // Add a new item\n        items: this.state.items.concat({\n          start: start,\n          end: end,\n          text: course.title,\n          userId: instructor.key,\n          courseNum: course.number,\n          caId: course.caId,\n          data: {\n            i: course.caId,\n            x: x,\n            y: y,\n            w: w,\n            h: 1,\n          }\n        }),\n      });\n    }\n    // console.log(this.state.items);\n  }\n\n  onRemoveItem(i, emit = true) {\n    // Find the index of the course element in the state\n    const index = _.findIndex(this.state.items, (element) => { return element.data.i === i });\n    const foundItem = this.state.items[index];\n\n    // Emit a message to all other applications that a course has been edeleted\n    if (emit) {\n      this.socket.emit(\"courseDeleted\", foundItem, i);\n    }\n\n    // Remove the element from the state\n    this.setState({ items: _.reject(this.state.items, (element) => { return element.data.i === i }) });\n  }\n\n  onRemoveVacation(vid, emit = true) {\n    if (emit) {\n      this.socket.emit(\"vacationDeleted\", { vacation_id: vid });\n    }\n\n    // Remove the element from the state\n    this.setState({ items: _.reject(this.state.items, (element) => { return element.vid === vid }) });\n  }\n\n  onRemoveUser = (key, y) => {\n    const initialLength = this.state.instructorArray.length;\n    this.setState({ instructorArray: _.reject(this.state.instructorArray, (element) => { return element.key === key }) },\n      () => {\n        // No user/ instructor found to delete\n        if (this.state.instructorArray.length !== initialLength) {\n          // Remove elements on the same row\n          console.log(\"Removed items at: \" + y);\n          this.setState({ items: _.reject(this.state.items, (element) => { return element.data.y === y || element.data.y === y + 1 }) }\n            , () => {\n              // console.log(this.state.items);\n              // Move course elements up if they are below the user that was deleted\n              this.setState({\n                items: _.reduce(this.state.items, (acc, element) => {\n                  if (element.data.y > y) {\n                    const newElement = element;\n                    newElement.data.y -= 2;\n                    return [...acc, newElement];\n                  } else {\n                    return [...acc, element];\n                  }\n                }, [])\n              },\n                () => {\n                  this.setState({\n                    layout: _.reduce(this.state.items, (acc, element) => {\n                      if (element.vid !== undefined) {\n                        const itemData = { ...element.data, isDraggable: false, isResizable: false };\n                        return [...acc, itemData];\n                      } else {\n                        const itemData = element.data;\n                        return [...acc, itemData];\n                      }\n                    }, [])\n                  });\n                  // console.log(this.state.layout);\n                });\n            });\n          // Reset layout so that the items are shifted up visually\n        }\n      });\n  }\n\n  onAddUser = (user) => {\n    this.setState({ instructorArray: [...this.state.instructorArray, { key: user.username, name: user.firstname + \" \" + user.lastname, timeblocks: [], vacations: [] }] });\n  }\n\n  createElement(el, isVacation = false, layout) {\n    const removeStyle = {\n      position: \"absolute\",\n      right: \"2px\",\n      top: 0,\n      cursor: \"pointer\",\n      padding: \"5px\",\n      color: \"black\"\n    };\n    const dsStyle = {\n      position: \"absolute\",\n      left: \"2px\",\n      bottom: 0,\n      cursor: \"pointer\",\n      padding: \"5px\",\n      color: \"black\"\n    };\n    return (\n      <div key={el.data.i} data-grid={isVacation ? { ...el.data, isDraggable: false, isResizable: false } : el.data}\n        name={el.text + \" el\"}>\n        <span className=\"text\">{el.text}</span>\n        {\n          ReactSession.get(\"admin\") !== undefined ?\n            <span\n              className=\"remove\"\n              style={removeStyle}\n              onClick={isVacation ? this.onRemoveVacation.bind(this, el.vid) : this.onRemoveItem.bind(this, el.data.i)}\n            >\n              x\n            </span>\n            :\n            undefined\n        }\n        {!isVacation && ReactSession.get(\"admin\") !== undefined ?\n          <Link\n            to={{\n              pathname: \"/detailed-schedule\",\n              search: \"?courseNum=\" + el.courseNum,\n            }}\n          >\n            <span\n              className=\"remove\"\n              style={dsStyle}\n            >\n              Detailed\n            </span>\n          </Link>\n          :\n          undefined\n        }\n      </div>\n    );\n  }\n\n  createItemGrid(props) {\n\n    const ReactGridLayout = WidthProvider(RGL);\n\n    this.updateItems();\n    // console.log(this.state.layout,this.state.heightLimit(),this.props.currentWeekDays,)\n    return (\n      <ReactGridLayout\n        {...props}\n        cols={this.props.currentWeekDays}\n        maxRows={this.state.heightLimit()}\n        layout={this.state.layout}\n        isDraggable={ReactSession.get(\"admin\") !== undefined ? true : false}\n        isResizable={ReactSession.get(\"admin\") !== undefined ? true : false}\n        autoSize={true}\n                                                                // just added 'false'   \\/   and this  \\/ 'this.props.currentWeekDays' next change line 434\n      >\n        {this.monthItems.map(el => this.createElement(el, el.vid !== undefined ? true : false, this.props.currentWeekDays))} \n      </ReactGridLayout>\n    )\n  }\n\n  // componentDidUpdate(prevProps, prevState) {\n  //   if (this.props.weekInformation.weekRangesArray[this.props.currentMonth].month !== prevProps.weekInformation.weekRangesArray[this.props.currentMonth].month) {\n  //     this.onLayoutChange(this.itemLayout);\n  //   }\n  // }\n  // changed this as well. just altered if statement to listen for a change in current_date. next change 457\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.current_date !== prevProps.current_date) {\n      this.onLayoutChange(this.itemLayout);\n\n    }\n  }\n\n\n  resize = () => this.forceUpdate();\n\n  componentDidMount() {\n    window.addEventListener('resize', this.resize);\n  }\n\n  updateItems() {\n\n    var items = [];\n\n    var random = this.state.items.filter((item) => {\n      const start = item.start;\n      const end = item.end;\n\n\n      const width = getCourseWidth(start, end, this.props.currentDate, this.firstDate); //i change 'width' to be the result of this function i made. same thing on line 468\n\n      if (width === 0) {\n        return false;\n      }\n\n      return true;\n    })\n\n\n    random.forEach(element => {\n      const width = getCourseWidth(element.start, element.end, this.props.currentDate, this.firstDate);//i change 'width' to be the result of this function i made. next change on line 499\n      element.data.w = width;\n      element.data.i = element.data.i.toString();\n      element.data.maxW = this.props.currentWeekDays;\n      items.push(element.data);\n    });\n    this.monthItems = random;\n    this.itemLayout = items;\n\n    return items;\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <TimelineGridWeek\n          socket={this.socket}\n          heightLimit={this.heightLimit}\n          instructorArray={this.state.instructorArray}\n          createCourse={this.onAddCourse}\n          totalWeeks={this.props.currentWeekDays}\n          onRemoveUser={this.onRemoveUser}\n          onAddUser={this.onAddUser} />\n        <div className=\"grid-item-container-week\" style={{ width: this.props.currentWeekDays * 178, position: \"absolute\" }}>\n          {this.createItemGrid(this.props)}\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n// made this new function. im sure there is a better way. \nfunction getCourseWidth(start, end, currentDate, firstDate='nothing :D') {\n  // monday and friday = how many days they are from jan 3 2022. if the dates for monday and friday are in 2021 they are negative. \n  let [monday, friday] = getMonFri(currentDate, firstDate)\n  \n  // start and end values are in the same format as monday and friday.\n  // course is an incremented array of 'day values'\n  const course = _.range(start, end)\n  // week is an incremented array of 'day values'\n  const week = _.range(monday, friday + 1)\n\n  // console.log('week', week) \n  // console.log(' course', course)\n  \n  // intersect is an array of all the values the week and course share.\n  const intersection = course.filter(value => week.includes(value));\n  \n  // this counts the array. now you have a width\n  return intersection.length\n}\n\n\n// this function gets how many days apart the current view's monday and friday are from jan 3 2022\nfunction getMonFri(currentDate, firstDate) {\n  const new_date = new Date(currentDate)\n  const monday = new_date.getDate()\n  const friday = monday + 4\n  \n  if ((typeof firstDate !== 'undefined') && (firstDate !== 'nothing :D')){\n    let new_monday = getDayRange(firstDate, currentDate)\n    let new_friday = getDayRange(firstDate, currentDate) + 4\n\n    return [new_monday, new_friday]\n  } else {\n    return [monday, friday]\n  }\n\n}\n\n// gets the amount of days between two dates\nfunction getDayRange(d1, d2) {\n  \n  return Math.round((d2.getTime() - d1.getTime()) / (1000 * 3600 * 24))\n}\n\n\n\nfunction findWeekIndex(weekInformation, date) {\n  \n\n  // Search for a week in a particular month\n  const monthIndex = date.getMonth();\n\n  // Get the first day of every week in that month\n  const weekRanges = weekInformation.weekRangesArray[monthIndex].times;\n\n  for (let i = 0; i < weekRanges.length; i++) {\n    if (date <= weekRanges[i].date) {\n      return weekRanges[i].index;\n    }\n\n  }\n\n  // Return the index of the last week of the month\n  return weekRanges[weekRanges.length - 1].index;\n}\n\nfunction findWeekDate(weekInformation, index, firstDate) {\n  return weekInformation.indexMap[index];\n}\n","import React from \"react\";\n\nexport default function Month({ title, socket, position, weeks }) {\n    return (\n        <React.Fragment>\n            <div className=\"grid-month\" style={{ gridArea: position.x + \" / \" + position.y + \" / span 1 / span \" + weeks.length }}>\n                <h2 className=\"grid-header\">{title}</h2>\n            </div>\n            {\n                weeks.map((item, i) => {\n                    return <div key={title + item} className=\"grid-day\" style={{ gridArea: (position.x + 1) + \" / \" + (position.y + i) + \" / span 1 / span 1\" }}>\n                        {item}\n                    </div>\n                })\n            }\n        </React.Fragment>\n    );\n}","import React from \"react\";\nimport IconButton from '@mui/material/IconButton';\nimport Stack from '@mui/material/Stack';\nimport ArrowForwardIosIcon from '@mui/icons-material/ArrowForwardIos';\nimport ArrowBackIosIcon from '@mui/icons-material/ArrowBackIos';\nimport {useEffect} from 'react';\nimport { useState } from 'react';\n\n// this code is copy paste from month.jsx. i altered it to be a week view.\nexport default function Week({ title, socket, position, next, previous, currentYear, current_date }) {\n    \n    const weekDayNameArray = [\n        'Monday',\n        'Tuesday',\n        'Wednesday',\n        'Thursday',\n        'Friday'\n    ]\n\n    let d2 = new Date(current_date)\n    const weeks = weekDayNameArray.map((element) => {\n        let weekDayName = String(element + '  ' + String(d2.getDate()))\n        d2.setDate(d2.getDate() + 1)\n        return  weekDayName\n    })\n    \n    return (\n        <React.Fragment>\n            <div className=\"grid-month\" style={{ gridArea: position.x +\" / \" + position.y  + \" / span 1 / span \" + weeks.length }}>\n                <Stack direction=\"row\" spacing={1}>\n                    <IconButton aria-label=\"back\" onClick={previous}>\n                        <ArrowBackIosIcon />\n                    </IconButton>\n                    <h2 className=\"grid-header\">{title}</h2>\n                    <IconButton aria-label=\"next\" onClick={next}>\n                        <ArrowForwardIosIcon />\n                    </IconButton>\n                    <h2 className=\"grid-header\">{currentYear}</h2>\n                </Stack>\n            </div>\n            {\n                weeks.map((item, i) => {\n                    return <div key={title + item} className=\"grid-day\" style={{ gridArea: (position.x + 1) + \" / \" + (position.y + i) + \" / span 1 / span 1\" }}>\n                        {item}\n                        \n                    </div>\n                })\n            }\n        </React.Fragment>\n    );\n}\n","import React from \"react\";\nimport Month from './Month';\nimport { useState } from \"react\";\nimport NoCollisionLayout from './NoCollisionLayout';\nimport { ReactSession } from 'react-client-session';\nimport AdminNav from \"./AdminNav\";\nimport UserNav from \"./UserNav\";\nimport DefaultNav from \"./DefaultNav\";\nimport '../navbar.css';\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\nimport NoCollisionYear from './NoCollision_Year';\n// week import\nimport NoCollisionWeek from './NoCollision_Week';\nimport MonthYear from './Month_Year';\nimport Week from './Week';\n\n\nfunction SelectNav(props) {\n    const userStatus = props.userStatus;\n    if (userStatus === 1) {\n        return <AdminNav />\n    }\n    if (userStatus === 0) {\n        return <UserNav />\n    }\n    return <DefaultNav />\n}\n\nexport default function Timeline({ socket, heightLimit, instructorArray }) {\n\n    const [year, setYear] = useState(2022);\n\n    let thisYear = new Date();\n    thisYear.setFullYear(year, 0, 1);\n\n    // this is a base for when the app starts\n    let startYear =  new Date(\"Jan 01, 2022 00:00:00\");\n\n\n    // console.log('instructorArray',instructorArray);\n    // console.log('thisYear',thisYear);\n\n    let weekInformation = { weekNum: 0, weekRangesArray: [], indexMap: {} };\n\n\n    const initialMonthArray = getMonthArray(thisYear);\n\n    // const initialDayArray = getWeekDayArray(thisYear);\n\n    const [year_month_array, setYearMonthArray] = useState(initialMonthArray);\n\n    const monthNameArray = [\n        \"January\",\n        \"February\",\n        \"March\",\n        \"April\",\n        \"May\",\n        \"June\",\n        \"July\",\n        \"August\",\n        \"September\",\n        \"October\",\n        \"November\",\n        \"December\",\n    ];\n    // week view\n    const weekDayNameArray = [\n        'Monday',\n        'Tuesday',\n        'Wednesday',\n        'Thursday',\n        'Friday'\n    ]\n\n    const firstWeekDayNameArray = [\n        'Monday 3',\n        'Tuesday 4',\n        'Wednesday 5',\n        'Thursday 6',\n        'Friday 7'\n    ]\n\n\n    const monthWeekArray = [\n        5, 4, 4, 5, 4, 4, 5, 4, 4, 5\n    ];\n\n\n    \n\n    const firstWeekArray = getFirstWeek();\n\n    const [monthArray,] = useState(year_month_array);\n\n    const [current_month, setCurrentMonth] = useState(0);\n\n    const [current_month_name, setCurrentMonthName] = useState(monthNameArray[current_month])\n    // week view\n    const [current_week, setCurrentWeek] = useState(0);\n\n    const [month_weeks, setMonthWeeks] = useState(monthWeekArray[current_month]);\n\n    const [first_week, setFirstWeek] = useState(firstWeekArray[0]);\n    // week view\n    const [first_day, setFirstDay] = useState(1);\n\n    const [display, setDisplay] = useState('Week');\n    //week view\n    const [current_date, setCurrentDate] = useState(new Date(\"Jan 03, 2022 00:00:00\"))\n    //week view\n    const [current_day_name_array, setDayNameArray] = useState(firstWeekDayNameArray)\n    \n    console.log('current_date', current_date)\n\n    function getMonthArray(year) {\n\n        const monthArray = Array.from(Array(12).keys()).map((item, i) => {\n            return ({\n                monthIndex: i,\n                weeks: getWeeks(year, i, weekInformation),\n            });\n        });\n\n        return monthArray;\n    }\n\n\n    let totalWeeks = 0;\n    for (let i = 0; i < monthArray.length; i++) {\n        totalWeeks += monthArray[i].weeks.length;\n    }\n\n    function nextMonth() {\n\n\n        if (current_month === 11) {\n            setYear(year + 1);\n            thisYear.setFullYear(year, 0, 1);\n\n            thisYear.setMonth(thisYear.getMonth() + 12);\n\n            setYearMonthArray(getMonthArray(thisYear));\n\n\n            setCurrentMonth(0);\n            setMonthWeeks(weekInformation.weekRangesArray[0].times.length);\n            setFirstWeek(firstWeekArray[0]);\n        } else {\n            setCurrentMonth(current_month + 1);\n            setMonthWeeks(weekInformation.weekRangesArray[current_month + 1].times.length);\n            setFirstWeek(firstWeekArray[current_month + 1]);\n        }\n    }\n\n    function previousMonth() {\n\n        if (current_month === 0) {\n            setYear(year - 1);\n\n            thisYear.setMonth(thisYear.getMonth() - 12);\n\n            setYearMonthArray(getMonthArray(thisYear));\n\n            setCurrentMonth(11);\n            setMonthWeeks(weekInformation.weekRangesArray[11].times.length);\n            setFirstWeek(firstWeekArray[11]);\n        } else {\n            setCurrentMonth(current_month - 1);\n            setMonthWeeks(weekInformation.weekRangesArray[current_month - 1].times.length);\n            setFirstWeek(firstWeekArray[current_month - 1]);\n        }\n    }\n    // see the 'previousWeek' function. its the same thing as this but mirrored.\n    // console.log(new Date(2022, 01, 32))\n    const nextWeek = async () => {\n        let d2 = new Date(current_date)\n\n        setDayNameArray(weekDayNameArray.map((element) => {\n            let weekDayName = String(element + '  ' + String(d2.getDate()))\n            d2.setDate(d2.getDate() + 1)\n            return  weekDayName\n        }))\n\n\n\n        let new_date = new Date(current_date)\n        const d = new Date(new_date.setDate(current_date.getDate() + 7))\n\n        let next_week_friday = new Date(new_date)\n        next_week_friday.setDate(current_date.getDate() + 4)\n        const friday_month = next_week_friday.getMonth();\n\n        if (current_month_name.includes('-')) {\n            setCurrentMonthName(monthNameArray[current_month])\n        }\n\n        if ( friday_month!=current_date.getMonth() ){\n            if (current_month == 11){\n                setCurrentMonthName(monthNameArray[current_month] + ' - ' + monthNameArray[0] );\n                setCurrentMonth(0);\n                setYear(year + 1);\n            } else {\n                setCurrentMonthName(monthNameArray[current_month] + ' - ' + monthNameArray[current_month + 1] )\n                setCurrentMonth(current_month + 1);\n            }\n        } else {\n            if (current_date.getMonth() != d.getMonth()) {\n                if (current_month == 11) {\n                    setCurrentMonthName(monthNameArray[0])\n                    setCurrentMonth(0);\n                    setYear(year + 1);\n                } else {\n                    setCurrentMonthName(monthNameArray[current_month + 1])\n                    setCurrentMonth(current_month + 1);\n                }\n            }\n        }\n        \n        setCurrentDate(d)\n        // setDayNameArray(changeDayNameArray())\n\n    }\n\n    // this function determines the week header for the previous week\n    function previousWeek() {\n        let d2 = new Date(current_date)\n\n        setDayNameArray(weekDayNameArray.map((element) => {\n            let weekDayName = String(element + '  ' + String(d2.getDate()))\n            d2.setDate(d2.getDate() + 1)\n            return  weekDayName\n        }))\n\n\n        // Step 1: find the date of last week monday\n        let d = new Date(current_date)\n        //last week monday\n        d.setDate(d.getDate() - 7)\n\n\n        // step 2: find the date of last friday (monday + 4 days)\n        let next_date = new Date(d)\n        next_date.setDate(next_date.getDate() + 4)\n        const friday_month = next_date.getMonth()\n\n        // This checks if the last month title was like jan-feb.\n        // if so change it to a regular month\n        if (current_month_name.includes('-')) {\n            setCurrentMonthName(monthNameArray[current_month])\n        }\n\n        console.log(current_month)\n        // tip: these nested if statements should be nested the other way round. lots of redundency here.\n        // if friday and monday of last week is not the same.\n        // then make title like jan-feb\n        if ( friday_month!=current_date.getMonth() ){\n            \n            // before setting the title determine if the next month of the previous year (going from jan to dec)\n            if (current_date.getMonth() == 0){\n                setCurrentMonthName(monthNameArray[current_date.getMonth()] + ' - ' + monthNameArray[11] )\n                setCurrentMonth(11);\n                setYear(year - 1);\n            // if not then do this.\n            } else {\n                setCurrentMonthName(monthNameArray[current_date.getMonth()] + ' - ' + monthNameArray[current_month - 1] )\n                setCurrentMonth(current_month - 1);\n            }\n        } else {\n            // if previous week is in a different month entirely. then set month title to ie jan\n            if (current_date.getMonth() != d.getMonth()) {\n                // before setting the title determine if the next month of the previous year (going from jan to dec)\n                if (current_date.getMonth() == 0){\n                    setCurrentMonthName(monthNameArray[11])\n                    setCurrentMonth(11);\n                    setYear(year - 1);\n                // if not then do this.\n                } else {\n                    setCurrentMonthName(monthNameArray[current_date.getMonth() - 1])\n                    setCurrentMonth(current_date.getMonth() - 1);\n                }\n            }\n        }\n        // change the current_date (this variable is important for displaying the course_assingments)\n        setCurrentDate(d)\n        // change the (monday 1, tuesday 2.. etc)\n  \n        // setDayNameArray(changeDayNameArray())\n\n    }\n\n    // creates a new label for each weekday header (from monday 3, tuesday 4.... to monday 10, tuesday 11...)\n    function changeDayNameArray() {\n        const d = new Date(current_date)\n        const newNameArray = weekDayNameArray.map((element) => {\n            let weekDayName = String(element + '  ' + String(d.getDate()))\n            d.setDate(d.getDate() + 1)\n            return  weekDayName\n        })\n        return newNameArray\n    }\n\n    function getFirstWeek() {\n        var firstWeek = [0];\n\n        for (var i = 0; i < 12; i++) {\n            var weekNumber = weekInformation.weekRangesArray[i].times.length + firstWeek[i];\n            firstWeek.push(weekNumber);\n        }\n        return firstWeek;\n    }\n\n    \n    const createWeekColumns = () => {\n        \n        return (\n            <NoCollisionLayout socket={socket} heightLimit={heightLimit} newInstructorArray={instructorArray}\n            weekInformation={weekInformation} totalWeeks={totalWeeks} firstDate={new Date(\"Jan 03, 2022 00:00:00\")}\n            currentMonthWeeks={month_weeks} currentMonth={current_month} year={year} />\n            )\n        }\n    // this is just for the week view rows and instructor header. it imports 'noCollision_week.jsx'.\n    // keep in mind some of these values are useless as it was originally copied from the month_view one above ^\n    const createDayColumns = () => {\n        const current_week_date = ''\n        return (\n            <NoCollisionWeek socket={socket} heightLimit={heightLimit} newInstructorArray={instructorArray}\n            weekInformation={weekInformation} totalWeeks={7} currentDate={current_date} firstWeek={first_week} firstDay={first_day}\n            currentWeekDays={5} currentMonth={current_month} currentWeek={current_week} year={year} />\n            )\n        }\n    const createMonth = (item, i) => {\n        return (\n            <Month key={monthNameArray[item.monthIndex] + \" month\"} title={monthNameArray[item.monthIndex]}\n                position={{ x: 1, y: i === 0 ? i + 3 : getNumberOfWeeks(year_month_array, i) + 3 }} weeks={item.weeks}\n                next={nextMonth} previous={previousMonth} currentYear={year} />\n        );\n    }\n            \n    const createMonthYear = (item, i) => {\n        return <MonthYear key={monthNameArray[item.monthIndex] + \" month\"} title={monthNameArray[item.monthIndex]}\n            position={{ x: 1, y: i === 0 ? i + 3 : getNumberOfWeeks(initialMonthArray, i) + 3 }} weeks={item.weeks} />\n    }\n    // this is just for the week view header. it imports 'Week.jsx'\n    // keep in mind some of these values are useless as it was originally copied from the month_view one above ^ 'createMonth()'\n    const createWeek = (week_day_names, item, i) => {\n        console.log('createWeek says hi')\n        return (\n            <Week key={monthNameArray[current_month] + \" month\"} title={current_month_name}\n                position={{ x: 1, y: i === 0 ? i + 3 : 3}} \n                next={nextWeek} previous={previousWeek} currentYear={year} current_date={current_date} />\n        );\n    }\n\n\n    const handleChange = (event) => {\n        setDisplay(event.target.value);\n    }\n\n    const createDisplayOption = () => {\n\n        return (\n            <div>\n                <FormControl sx={{ m: 1, minWidth: 80 }}>\n                    <InputLabel id=\"display-select-label\">View</InputLabel>\n                    <Select\n                        labelId=\"display-select-label\"\n                        id=\"display-select\"\n                        value={display}\n                        onChange={handleChange}\n                        autoWidth\n                        label=\"Display\"\n                    >\n                        <MenuItem value={\"Week\"}>Week</MenuItem>\n                        <MenuItem value={\"Year\"}>Year</MenuItem>\n                        <MenuItem value={\"Month\"}>Month</MenuItem>\n                    </Select>\n                </FormControl>\n            </div>\n        )\n    }\n\n\n    \n\n    if (display === \"Month\") {\n        return (\n            <React.Fragment>\n                <SelectNav userStatus={ReactSession.get(\"admin\")} />\n                <div className=\"grid-container-months\">\n                    {\n                        createDisplayOption()\n                    }\n                    {\n                        createMonth(monthArray[current_month])\n                    }\n                </div>\n                {\n                    createWeekColumns()\n                }\n            </React.Fragment>\n        );\n    } else if (display === \"Week\") {\n        return (\n            <React.Fragment>\n                <SelectNav userStatus={ReactSession.get(\"admin\")} />\n                <div className=\"grid-container-weeks\">\n                    {\n                        createDisplayOption()\n                    }\n                    {\n                        createWeek(current_day_name_array,monthArray[current_month]    )\n                    }\n                </div>\n                {\n                    createDayColumns()\n                }\n            </React.Fragment>\n        )\n    }\n    if (display === \"Year\") {\n        return (\n            <React.Fragment>\n                <SelectNav userStatus={ReactSession.get(\"admin\")} />\n                <div className=\"grid-container-months\">\n                    {\n                        createDisplayOption()\n                    }\n                    {\n                        monthArray.map((item, i) => {\n                            return (\n                                createMonthYear(item, i)\n                            )\n                        })\n                    }\n                </div>\n                <NoCollisionYear socket={socket} heightLimit={heightLimit} newInstructorArray={instructorArray} weekInformation={weekInformation} totalWeeks={totalWeeks} />\n            </React.Fragment>\n        )\n    }\n\n}\n\nfunction getWeeks(startDate, month, weekInformation) {\n    const weeks = [];\n    const weekTimes = { month: startDate.getMonth(), times: [] };\n\n    // Retrieve first days of every week in all of the months\n    while (startDate.getMonth() === month) {\n        // Save the date to an array to position courses in the timeline\n        const index = weekInformation.weekNum + weeks.length\n        const date = new Date(startDate.getTime());\n        weekTimes.times.push({ index: index, date: date });\n        weekInformation.indexMap[index] = date;\n\n        // Get the first day of every week\n        weeks.push(startDate.getDate());\n\n        // Increment the date by a week\n        startDate.setDate(startDate.getDate() + 7);\n    }\n\n    weekInformation.weekRangesArray.push(weekTimes);\n    weekInformation.weekNum += weeks.length;\n    return weeks;\n}\n\n\n\nfunction getNumberOfWeeks(weeks, index) {\n    let sum = 0;\n\n    for (let i = index - 1; i >= 0; i--) {\n        sum += weeks[i].weeks.length;\n    }\n\n    return sum;\n}","import React from \"react\";\nimport \"./style.css\";\nimport './gridstyles.css';\nimport \"./timeline.css\";\nimport Timeline from './components/Timeline';\n\nconst END_POINT_ROOT = \"/\";\nconst INSTRUCTORS_RESOURCE = \"users\";\n\nexport default class App extends React.Component {\n  state = {\n    instructors: [],\n    heightLimit: 8,\n    loaded: false,\n    error: \"\"\n  };\n\n  constructor({ socket }) {\n    super();\n    this.socket = socket;\n  }\n\n  getHeightLimit() {\n    return this.state.heightLimit;\n  }\n\n  setHeightLimit(heightLimit) {\n    this.setState({ heightLimit: heightLimit });\n    console.log(\"HeightLimit: \" + this.state.heightLimit);\n  }\n\n  parseData = (data) => {\n    if (!data) {\n      return null;\n    }\n    const parsedData = JSON.parse(data);\n\n    let instructorArray = {};\n    for (let i = 0; i < parsedData.length; i++) {\n      const key = parsedData[i].username;\n\n      let instructor;\n      // Check if instructor is already in the object\n      if (instructorArray[key]) {\n        instructor = instructorArray[key];\n      } else {\n        instructor = {};\n        instructor.timeblocks = [];\n        instructor.vacations = [];\n        instructor.name = parsedData[i].first_name + \" \" + parsedData[i].last_name;\n        instructor.key = key;\n        instructorArray[key] = instructor;\n      }\n      // Check if there are any valid courses associated with the instructor\n      if (parsedData[i].start_date != null && parsedData[i].end_date != null) {\n        instructor.timeblocks.push({\n          start: new Date(parsedData[i].start_date),\n          end: new Date(parsedData[i].end_date),\n          name: parsedData[i].title,\n          courseNum: parsedData[i].course_num,\n          caId: parsedData[i].ca_id,\n          userId: parsedData[i].username\n        });\n        \n      }\n\n      // Check if there are any valid vacations associated with the instructor\n      if (parsedData[i].vacation_start != null && parsedData[i].vacation_end != null && parsedData[i].approved === 1) {\n        instructor.vacations.push({\n          vacationId: parsedData[i].vacation_id,\n          userId: parsedData[i].username,\n          vacationStart: new Date(parsedData[i].vacation_start),\n          vacationEnd: new Date(parsedData[i].vacation_end),\n        });\n      }\n    }\n    instructorArray = Object.values(instructorArray);\n    console.log(instructorArray);\n\n    this.setState({ instructors: instructorArray, heightLimit: (instructorArray.length + 1) * 2 })\n    this.setState({ loaded: true })\n  }\n\n  retrieveInstructorDataFromDatabase = () => {\n    fetch(END_POINT_ROOT + INSTRUCTORS_RESOURCE)\n      .then(response => {\n        return response.text();\n      })\n      .then(data => {\n        this.parseData(data)\n      })\n      .catch((error) => {\n        console.error('Error:', error);\n        console.log(error)   \n      });\n  }\n\n  componentDidMount() {\n     this.retrieveInstructorDataFromDatabase();\n  }\n\n  removeElement(el) {\n    console.log(el);\n  }\n\n  renderApp() {\n\n    return (\n      <div className=\"App\">\n        {(this.state.error !== \"\") ?\n          <div className=\"error-modal\" key={\"errorModal\"}>\n            <h1>Error:</h1>\n            <p>{this.state.error}</p>\n            <button style={{ position: \"absolute\", top: 0, right: 0 }} onClick={() => { this.setState({ error: \"\" }) }}>\n              <p>X</p>\n            </button>\n          </div>\n          :\n          undefined\n        }\n\n        <Timeline socket={this.socket} heightLimit={{ get: () => this.getHeightLimit(), set: (limit) => this.setHeightLimit(limit) }}\n          instructorArray={this.state.instructors} />\n      </div>\n    );\n  }\n\n  render() {\n    // Remove this later on and add a real feedback message, this is just for development purposes\n    this.socket.on('error', (err) => {\n      console.log(err);\n      if (typeof (err) === String) {\n        this.setState({ error: err });\n      } else {\n        if (err.detail === undefined) {\n          this.setState({ error: \"ERROR Code: \" + err.code });\n        } else {\n          this.setState({ error: err.detail });\n        }\n      }\n    });\n\n    return (\n      this.state.loaded ?\n        this.renderApp()\n        :\n        <span>Loading data...</span>\n    );\n  }\n}\n","import Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { styled } from '@mui/system';\nimport { createTheme, Typography } from \"@mui/material\";\nimport React, { Component }  from 'react';\nconst screenLayout = createTheme({\n    breakpoints: {\n        values: {\n            xxs: 0,\n            xs: 300,\n            lg: 800,\n        }\n    }\n});\n\nconst styles = makeStyles({\n    button: {\n        border: 0,\n        borderRadius: 5,\n        color: \"white\",\n        padding: '0 10px',\n        background: \"#003E6B\",\n        width: \"8vw\",\n        alignSelf: \"center\",\n        '&:hover': {\n            background: \"#5082A7\",\n        },\n        '&:focus': {\n            background: \"#003E6B\",\n            '&:hover': {\n                background: \"#5082A7\"\n            }\n        },\n        textAlign: \"right\",\n        marginLeft: \"30%\",\n    },\n    image: {\n        width: 80,\n        height: 80,\n    }\n});\n\nfunction Logo() {\n    const classes = styles();\n    return <img className={classes.image} src={require(\"../../images/BCIT_logo.png\")}\n        alt={\"BCIT\"} style={{\n            position: \"absolute\",\n            left: 5,\n            top: 5,\n        }} />\n}\n\nfunction BackButton() {\n    const classes = styles();\n    return <Button className={classes.button} onClick={(e) => { window.location.href = '/' }}>Back</Button>\n}\n\nconst TopNavWrapper = styled('div')({\n    width: \"100vw\",\n    height: \"10vh\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"left\",\n    justifyContent: \"space-evenly\",\n    color: \"#003E6B\",\n    backgroundColor: \"white\",\n})\n\nconst TitleAndBackBWrapper = styled('div')({\n    width: \"100%\",\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    //marginTop:\"40px\"\n})\n\nconst LoginTitleWrapper = styled('div')({\n})\n\nconst HeaderWrapper = styled('div')({\n\n})\n\nconst Header = ({ title }) => {\n    return (\n        <TopNavWrapper>\n            <Logo />\n            <TitleAndBackBWrapper>\n                <Typography theme={screenLayout} sx={{\n                    fontSize: {\n                        xxs: \"11px\",\n                        xs: \"11px\",\n                        lg: \"16px\",\n                    },\n                    marginLeft: {\n                        xxs: \"60px\",\n                        xs: \"60px\",\n                    }\n                }}>\n                    <h1 className=\"details-title\">{title}</h1>\n                </Typography>\n                <BackButton />\n            </TitleAndBackBWrapper>\n        </TopNavWrapper>\n    );\n};\n\nHeader.defaultProps = {\n    title: 'Course Details',\n}\n\nexport default Header;\n","import React from 'react';\nimport { EditText, EditTextarea } from 'react-edit-text';\nimport 'react-edit-text/dist/index.css';\nimport './index.css';\nimport _ from \"lodash\";\nimport { Link, useSearchParams } from 'react-router-dom';\nimport { ReactSession } from 'react-client-session';\nimport Header from \"./components/Header\";\n\nconst END_POINT_ROOT = \"/\";\n\nclass Day extends React.Component {\n\n  constructor({ props, info, socket }) {\n    super(props);\n    this.state = {\n      description: info.description,\n      model_num: info.model_num,\n      model_name: info.model_name,\n      quantity: info.quantity\n    }\n    this.ca_id = info.ca_id;\n    this.course = info.course;\n    this.date = info.date;\n    this.ds_id = info.ds_id;\n    this.subject = info.subject;\n    this.instructor = info.username;\n    this.socket = socket;\n  }\n\n  handleSave = ({ name, value, previousValue }) => {\n    this.setState({ description: value }, () => {\n      this.socket.emit(\"changeDay\", {\n        ca_id: this.ca_id,\n        course: this.course,\n        date: this.date.getTime(),\n        description: this.state.description,\n        ds_id: this.ds_id,\n        model_name: this.state.model_name,\n        model_num: this.state.model_num,\n        quantity: this.state.quantity,\n        subject: this.subject,\n        username: this.instructor\n      });\n    });\n  };\n\n  render() {\n    const descEditSave = this.state.editMode ? \"Save\" : \"Edit\";\n\n    let resources = null;\n    if (this.state.model_num) {\n      resources = this.state.model_num.map((m_num, index) => {\n        return (\n          <li key={m_num}>\n            {`${this.state.model_name[index]} - ${this.state.quantity[index]}`}\n          </li>\n        )\n      });\n    }\n\n    return (\n      <tr>\n        <td>\n          <EditText\n            name=\"date\"\n            defaultValue={getStringDate(this.date)}\n            readonly\n          />\n        </td>\n        <td>\n          <EditText\n            name=\"instructor\"\n            defaultValue={this.instructor ? this.instructor : \"No instructor assigned\"}\n            readonly\n          />\n        </td>\n        <td class='course-desc'>\n          <EditTextarea\n            name=\"description\"\n            defaultValue={!this.state.description || this.state.description == \"null\" ? \"\" : this.state.description}\n            onSave={this.handleSave}\n            rows={2}\n          />\n        </td>\n        <td>\n          <ul>\n            {resources}\n            {this.instructor ? (\n              <li>\n                <Link\n                  className='li-link-to-res'\n                  to={{\n                    pathname: \"/resources\",\n                    search: `?ds_id=${this.ds_id}&date=${this.date}`,\n                  }}\n                >Book</Link>\n              </li>)\n              : null}\n          </ul>\n        </td>\n      </tr>\n    );\n  }\n}\n\nclass Week extends React.Component {\n\n  constructor({ props, info, socket }) {\n\n    super(props);\n    this.state = {\n      days: info,\n    }\n    this.socket = socket;\n\n    this.socket.on('changeDay', (rowInfo) => {\n\n      rowInfo.date = new Date(rowInfo.date);\n\n      let index;\n\n      for (let i = 0; i < this.state.days.length; i++) {\n        if (this.state.days[i].ds_id == rowInfo.ds_id) {\n          index = i;\n          break;\n        }\n      }\n\n      let copyDays = this.state.days.slice();\n      copyDays[index] = rowInfo;\n      console.log(rowInfo);\n\n      this.setState({\n        days: _.reduce(copyDays, (acc, day) => {\n          const dayData = day;\n          return [...acc, dayData];\n        }, [])\n      });\n\n    })\n  }\n\n  renderDay(dayInfo) {\n    return (\n      <Day key={dayInfo.ds_id + dayInfo.username + dayInfo.description}\n        info={dayInfo}\n        socket={this.socket}\n      />\n    );\n  }\n\n  render() {\n    const days = this.state.days.map((day, index) => {\n      return (\n        this.renderDay(day)\n      );\n    });\n    return (\n      <table key={this.state.days[0].ds_id}>\n        <caption>Schedule for week of {getStringDate(this.state.days[0].date)}</caption>\n        <thead>\n          <tr>\n            <th>Date</th>\n            <th>Instructor</th>\n            <th>Description</th>\n            <th>Resources</th>\n          </tr>\n        </thead>\n        <tbody>\n          {days}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nclass Course extends React.Component {\n\n\n  constructor({ props, socket, courseNum }) {\n    super(props);\n    this.socket = socket;\n    this.state = {\n      data: null,\n      dataLoaded: false,\n    }\n    this.courseNum = courseNum;\n  }\n\n  renderWeek(weekInfo) {\n    return (\n      <Week key={weekInfo[0].ds_id}\n        info={weekInfo}\n        socket={this.socket}\n      />\n    );\n\n  }\n\n  renderCourse() {\n    let weeksData = new Array();\n    const chunk = 7; // # days in a week.\n    for (let i = 0, j = this.state.data.length; i < j; i += chunk) {\n      weeksData.push(this.state.data.slice(i, i + chunk));\n    }\n    const weeks = weeksData.map((week, index) => {\n      return (\n        this.renderWeek(week)\n      );\n    });\n    return (\n      <div>\n        <Header />\n        <h2>{`${this.state.data[0].subject} - ${this.state.data[0].course}`}</h2><br />\n        {weeks}\n      </div>\n    );\n  }\n\n  parseData = (data) => {\n    if (!data) {\n      return null;\n    }\n\n    const parsedData = JSON.parse(data);\n\n    for (let i = 0; i < parsedData.rows.length; i++) {\n      parsedData.rows[i].date = new Date(parsedData.rows[i].date); // Changing date from string-date to date object.\n    }\n\n    let formattedData = [];\n    let formattedData_len = 0;\n    let prev_ds_id = null;\n    for (let i = 0; i < parsedData.rows.length; i++) {  // Merge same days together. Add resources info to a list instead.\n      if (parsedData.rows[i].model_name) {\n        if (prev_ds_id == parsedData.rows[i].ds_id) {\n          formattedData[formattedData_len - 1].model_name.push(parsedData.rows[i].model_name);\n          formattedData[formattedData_len - 1].model_num.push(parsedData.rows[i].model_num);\n          formattedData[formattedData_len - 1].quantity.push(parsedData.rows[i].quantity);\n        } else {\n          formattedData_len = formattedData.push({\n            ca_id: parsedData.rows[i].ca_id,\n            course: parsedData.rows[i].course,\n            date: parsedData.rows[i].date,\n            description: parsedData.rows[i].description,\n            ds_id: parsedData.rows[i].ds_id,\n            model_name: [parsedData.rows[i].model_name],  // put in a list - to be able to add to it later if needed.\n            model_num: [parsedData.rows[i].model_num],    // put in a list - to be able to add to it later if needed.\n            quantity: [parsedData.rows[i].quantity],      // put in a list - to be able to add to it later if needed.\n            subject: parsedData.rows[i].subject,\n            username: parsedData.rows[i].username\n          });\n        }\n      }\n      else {\n        formattedData_len = formattedData.push(parsedData.rows[i]);\n      }\n      prev_ds_id = parsedData.rows[i].ds_id;\n    }\n\n    console.log(formattedData);\n\n    this.setState({ data: formattedData });\n    this.setState({ dataLoaded: true });\n  }\n\n  retrieveDailyScheduleDataFromDatabase = (courseNum) => {\n    fetch(END_POINT_ROOT + `detailedSchedule?courseNum=${courseNum}`, {\n      method: 'GET',\n      headers: { 'Content-Type': 'application/json' },\n    })\n      .then(response => {\n        return response.text();\n      })\n      .then(data => {\n        this.parseData(data)\n      });\n  }\n\n  componentDidMount() {\n    this.retrieveDailyScheduleDataFromDatabase(this.courseNum);\n  }\n\n  render() {\n\n    return (\n      ReactSession.get(\"admin\") >= 0 ? (\n        this.state.dataLoaded ? this.renderCourse() :\n          <span>Loading data...</span>\n      ) :\n        window.location.href = \"/\"\n    );\n  }\n\n}\n\nconst DetailedSchedule = (socket) => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  return (\n    <Course socket={socket.socket} courseNum={searchParams.get(\"courseNum\")}></Course>\n  );\n}\n\nexport default DetailedSchedule;\n\nfunction getStringDate(date) {\n  const months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n  return (months[date.getMonth()] + \" \" + date.getDate());\n}\n","import React, { Component } from \"react\";\nimport \"react-edit-text/dist/index.css\";\nimport \"./index.css\";\nimport _ from \"lodash\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { ReactSession } from \"react-client-session\";\n\nconst END_POINT_ROOT = \"/api/\";\n\nclass PopUp extends Component {\n  constructor({ props, socket, toggle, resInfo, ds_id }) {\n    super(props);\n    this.state = {\n      inputValue: 0,\n    };\n    this.resInfo = resInfo;\n    this.toggle = toggle;\n    this.socket = socket;\n    this.quantityAvailable = resInfo.q_left;\n    this.ds_id = ds_id;\n  }\n\n  handleClose = () => {\n    this.toggle();\n  };\n\n  handleSubmit = () => {\n    console.log(this.quantityAvailable);\n    this.props.toggle();\n\n    if (isNaN(this.state.inputValue)) {\n      alert(\"Please enter a number\");\n    } else if (this.state.inputValue > this.quantityAvailable) {\n      alert(\"Not enough items are available!\");\n    } else if (this.state.inputValue <= 0) {\n      alert(\"Invalid number\");\n    } else {\n      alert(\n        `Succesfully booked ${this.state.inputValue} ${this.resInfo.model_name}`\n      );\n      this.socket.emit(\"bookResource\", {\n        ds_id: this.ds_id,\n        model_num: this.resInfo.model_num,\n        model_name: this.resInfo.model_name,\n        quantity_total: this.resInfo.quantity_total,\n        model_location: this.resInfo.model_location,\n        q_left: this.quantityAvailable - this.state.inputValue,\n        quantity_booked: this.state.inputValue,\n      });\n    }\n  };\n\n  updateInputValue = (evt) => {\n    this.setState({\n      inputValue: evt.target.value,\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"modal\">\n        <div className=\"modal_content\">\n          <span className=\"close\" onClick={this.handleClose}>\n            &times;\n          </span>\n          <form>\n            <label id=\"popUpLabel\">\n              Number of Items:\n              <input\n                type=\"text\"\n                name=\"count\"\n                value={this.state.inputValue}\n                onChange={(evt) => this.updateInputValue(evt)}\n              />\n            </label>\n            <br />\n            <input type=\"submit\" onClick={this.handleSubmit} />\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nclass Item extends React.Component {\n  constructor({ props, socket, resInfo, ds_id }) {\n    console.log(resInfo);\n    super(props);\n    this.resInfo = resInfo;\n    this.state = {\n      seen: false,\n    };\n    this.socket = socket;\n    this.ds_id = ds_id;\n    //   Has a value  ?  yes, then keep it  :  No, then set it to quantity_total\n    this.resInfo.q_left =\n      this.resInfo.q_left != null\n        ? this.resInfo.q_left\n        : this.resInfo.quantity_total;\n  }\n\n  togglePop = () => {\n    this.setState({\n      seen: !this.state.seen,\n    });\n  };\n\n  render() {\n    return (\n      <tr>\n        <td>\n          <p>{this.resInfo.model_name}</p>\n        </td>\n        <td>\n          <p>{this.resInfo.quantity_total}</p>\n        </td>\n        <td>\n          <p>{this.resInfo.q_left}</p>\n        </td>\n        <td>\n          <p>{this.resInfo.model_location}</p>\n        </td>\n        <td id=\"popUpBookBtn\">\n          {this.state.seen ? null : (\n            <button onClick={() => this.togglePop()}>Book</button>\n          )}\n          {this.state.seen ? (\n            <PopUp\n              toggle={this.togglePop}\n              resInfo={this.resInfo}\n              socket={this.socket}\n              ds_id={this.ds_id}\n            />\n          ) : null}\n        </td>\n      </tr>\n    );\n  }\n}\n\nclass Resource extends React.Component {\n  constructor({ props, socket, date, ds_id }) {\n    super(props);\n    this.socket = socket;\n    this.state = {\n      data: null,\n      dataLoaded: false,\n    };\n\n    this.date = date;\n    this.ds_id = ds_id;\n    this.socket.on(\"bookResource\", (resInfo) => {\n      let index;\n      for (let i = 0; i < this.state.data.length; i++) {\n        if (this.state.data[i].model_num == resInfo.model_num) {\n          index = i;\n          break;\n        }\n      }\n\n      let copyData = this.state.data.slice();\n      copyData[index] = resInfo;\n\n      this.setState({\n        data: _.reduce(\n          copyData,\n          (acc, res) => {\n            const rowData = res;\n            return [...acc, rowData];\n          },\n          []\n        ),\n      });\n    });\n  }\n\n  renderItem(itemInfo) {\n    return (\n      <Item\n        resInfo={itemInfo}\n        key={itemInfo.model_num + itemInfo.q_left}\n        socket={this.socket}\n        ds_id={this.ds_id}\n      />\n    );\n  }\n\n  renderResouce() {\n    const items = this.state.data.map((itemInfo, index) => {\n      return this.renderItem(itemInfo);\n    });\n    return (\n      <table>\n        <caption>Available Resources</caption>\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Total Quantity</th>\n            <th>Available Quantity</th>\n            <th>location</th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody>{items}</tbody>\n      </table>\n    );\n  }\n\n  //----\n  parseData = (data) => {\n    if (!data) {\n      return null;\n    }\n\n    const parsedData = JSON.parse(data);\n\n    this.setState({ data: parsedData.rows });\n    this.setState({ dataLoaded: true });\n  };\n\n  retrieveResourcesDataFromDatabase = (date) => {\n    fetch(END_POINT_ROOT + `resources?date=${date}`, {\n      method: \"GET\",\n      headers: { \"Content-Type\": \"application/json\" },\n    })\n      .then((response) => {\n        return response.text();\n      })\n      .then((data) => {\n        this.parseData(data);\n      });\n  };\n\n  componentDidMount() {\n    this.retrieveResourcesDataFromDatabase(this.date);\n  }\n\n  render() {\n    return ReactSession.get(\"admin\") >= 0 ? (\n      this.state.dataLoaded ? (\n        this.renderResouce()\n      ) : (\n        <span>Loading data...</span>\n      )\n    ) : (\n      (window.location.href = \"/\")\n    );\n  }\n}\n\nconst Resources = (socket) => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const ds_id = searchParams.get(\"ds_id\");\n  const current_date = new Date(searchParams.get(\"date\"));\n  const formattedDate = `${current_date.getFullYear()}-${\n    current_date.getMonth() + 1\n  }-${current_date.getDate()}`;\n  console.log(formattedDate);\n  console.log(ds_id);\n  return (\n    <Resource\n      socket={socket.socket}\n      ds_id={ds_id}\n      date={formattedDate}\n    ></Resource>\n  );\n};\n\nexport default Resources;\n","import React from \"react\";\n\nconst Footer = () => {\n    return (\n        <footer className=\"footer\">\n            <a href='https://www.bcit.ca/copyright/'><text>Copyright</text></a>\n            &nbsp; &nbsp; &nbsp;\n            <a href='https://www.bcit.ca/privacy/'><text>Privacy</text></a>\n        </footer>\n    );\n}\n\nexport default Footer; ","import { useState, useEffect } from \"react\";\nimport bg from \"../images/1.jpeg\";\nimport logo from \"../images/BCIT_logo.png\";\nimport React from \"react\";\n\nimport { ReactSession } from \"react-client-session\";\nimport Footer from \"./components/Footer\";\n\n// styles\nimport styles from \"./login.module.css\";\n\nexport default function Login() {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const authenticate = async (e) => {\n    let res_data = {};\n\n    e.preventDefault();\n\n    const user = { username: username, password: password };\n    const requestOptions = {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(user),\n    };\n\n    await fetch(\"/api/login\", requestOptions)\n      .then((response) => response.json())\n      .then((data) => (res_data = data));\n\n    console.log(res_data.status);\n    if (res_data.status === 200) {\n      ReactSession.set(\"username\", res_data.username);\n      ReactSession.set(\"first_name\", res_data.first_name);\n      ReactSession.set(\"last_name\", res_data.last_name);\n      ReactSession.set(\"admin\", res_data.admin);\n      window.location.href = \"/\";\n    } else {\n      document.getElementById(\"successMessage\").innerText =\n        \"Incorrect username or password!\";\n      document.getElementById(\"successMessage\").style.color = \"Yellow\";\n      document.getElementById(\"successMessage\").style.fontWeight = \"Bold\";\n    }\n  };\n\n  useEffect(() => {\n    document.body.style.backgroundImage = `url('${bg}')`;\n    document.body.style.backgroundSize = `cover`;\n  }, []);\n\n  return (\n    <div className=\"backgroundPic\">\n      <form onSubmit={authenticate} className={styles[\"login-form\"]}>\n        <div align=\"center\">\n          <img src={logo} alt=\"logo\" height=\"150\" width=\"170\"></img>\n        </div>\n        <h2>Account Login</h2>\n\n        <label>\n          <br />\n        </label>\n        <label>\n          <span>\n            <b>Username:</b>\n          </span>\n          <input\n            type=\"username\"\n            placeholder=\"Username\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n          />\n        </label>\n        <label>\n          <span>\n            <b>Password:</b>\n          </span>\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            onChange={(e) => setPassword(e.target.value)}\n            value={password}\n          />\n        </label>\n        <button className=\"btn\">Login</button>\n\n        <div id=\"successMessage\"></div>\n      </form>\n      <center>\n        <Footer></Footer>\n      </center>\n    </div>\n  );\n}\n","import { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport AdminNav from \"../../src/components/AdminNav\";\nimport React from 'react'\nimport { ReactSession } from 'react-client-session';\nimport logo from '../images/BCIT_logo.png'\n// styles\nimport styles from './createUser.module.css'\n\nfunction isAdmin() {\n  let userStatus = ReactSession.get(\"admin\");\n  if (userStatus === 1) {\n      return true;\n  }\n  return false;\n}\n\n\n\nexport default function CreateUser(socket) {\n  socket = socket.socket;\n  const [username, setUsername] = useState('');\n  const [firstname, setFirstName] = useState('');\n  const [lastname, setLastName] = useState('');\n  const [admin, setAdmin] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n\nconst create_user = (e) => {\n        e.preventDefault();\n        document.getElementById(\"successMessage\").style.color = 'Red';\n        document.getElementById(\"successMessage\").style.fontWeight= 'Bold';\n        if (!username) {\n            document.getElementById(\"successMessage\").innerText = \"Please enter a user name.\";\n            return;\n        }\n\n        if (!firstname || !lastname) {\n            document.getElementById(\"successMessage\").innerText = \"Please enter a first and last name.\";\n            return;\n        }\n\n        if (!email) {\n            document.getElementById(\"successMessage\").innerText = \"Please enter an email address.\";\n            return;\n        }\n\n        if (password !== confirmPassword) {\n            document.getElementById(\"successMessage\").innerText = \"Password does not match confirmed password.\";\n            return;\n        }\n\n\n\n        const date = new Date();\n        const dateJoined = `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\n\n        const new_user = {\n            username: username,\n            firstname: firstname,\n            lastname: lastname,\n            datejoined: dateJoined,\n            admin: admin ? 1 : 0,\n            email: email,\n            password: password\n        };\n        socket.emit('userAdded', new_user, null);\n\n        // feedback upon successful creation\n        socket.on('userAdded', (user) => {\n            document.getElementById(\"successMessage\").innerText = \"User successfully created.\"\n        });\n\n        // displays error msg upon failure \n        socket.on('error', (error) => {\n            document.getElementById(\"successMessage\").innerText = \"An error has occured! Please check your inputs.\";\n\n        });\n      }\n\n  return isAdmin() ? (\n    <>\n    <AdminNav></AdminNav>\n    \n    <label><br/></label>\n    <div align=\"center\">\n    <Link to=\"/\"><img src={logo} alt='logo' height=\"150\" width=\"170\" ></img></Link>\n    </div>\n    <form onSubmit={create_user} className={styles['signup-form']}>\n      <h2>Create User</h2>\n      <label>\n        <span>Username:</span>\n        <input \n          type=\"text\" \n          placeholder='FirstName_LastName'\n          onChange={(e) => setUsername(e.target.value)}\n          value={username}\n        />\n      </label>\n      <label>\n        <span>First Name:</span>\n        <input \n          type=\"text\" \n          placeholder='First Name...'\n          onChange={(e) => setFirstName(e.target.value)}\n          value={firstname}\n        />\n      </label>\n      <label>\n        <span>Last Name:</span>\n        <input \n          type=\"text\" \n          placeholder='Last Name...'\n          onChange={(e) => setLastName(e.target.value)}\n          value={lastname}\n        />\n      </label>\n\n\n      <label className={styles['container']}>\n        <span>Admin:</span>\n        <input \n            type='checkbox'\n            value={admin}\n            onChange={(e) => setAdmin(e.target.checked)} />\n        <span className={styles['checkmark']}></span>\n      </label>\n\n\n      <label>\n        <span>Email:</span>\n        <input \n          type=\"email\" \n          placeholder='Email...'\n          onChange={(e) => setEmail(e.target.value)} \n          value={email}\n        />\n      </label>\n      <label>\n        <span>Password:</span>\n        <input \n          type=\"password\" \n          placeholder=\"Password...\"\n          onChange={(e) => setPassword(e.target.value)} \n          value={password} \n        />\n      </label>\n      <label>\n        <span>Confirm Password:</span>\n        <input \n          type=\"password\" \n          placeholder=\"Confirm password...\"\n          onChange={(e) => setConfirmPassword(e.target.value)} \n          value={confirmPassword} \n        />\n      </label>\n\n      <button className=\"btn\">Create User</button>\n      \n    <p id=\"successMessage\"></p>\n    </form>    \n    </> \n  ) : window.location.href = \"/\";\n}\n","import React from 'react'\nimport { useState } from 'react'\nimport { ReactSession } from 'react-client-session';\nimport styles from './create_course.module.css'\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport AdminNav from \"../../src/components/AdminNav\";\nimport { Link } from 'react-router-dom'\nimport logo from '../images/BCIT_logo.png'\n\n\nfunction isAdmin() {\n    let userStatus = ReactSession.get(\"admin\");\n    if (userStatus === 1) {\n        return true;\n    }\n    return false;\n}\n\nfunction Create_Course(socket) {\n    socket = socket.socket;\n    const [course_num, setCourseNum] = useState('');\n    const [subject, setSubject] = useState('');\n    // const [course, setCourse] = useState('');\n    const [title, setTitle] = useState('');\n    const [dateRange, setDateRange] = useState([null, null]);\n    const [startDate, endDate] = dateRange;\n\n    const create_course = (e) => {\n        e.preventDefault();\n        document.getElementById(\"successMessage\").style.color = 'Red';\n        document.getElementById(\"successMessage\").style.fontWeight= 'Bold';\n        if (!course_num || isNaN(course_num)) {\n            document.getElementById(\"successMessage\").innerText = \"Please enter a valid course number.It should be a Integer Value.\";\n            return;\n        }\n\n        if (!subject) {\n            document.getElementById(\"successMessage\").innerText = \"Please enter the subject name.\";\n            return;\n        }\n\n        if (!title) {\n            document.getElementById(\"successMessage\").innerText = \"Please enter the course title.\";\n            return;\n        }\n\n        if (!dateRange[0] || !dateRange[1]) {\n            document.getElementById(\"successMessage\").innerText = \"Please enter a start and end date.\";\n            return;\n        }\n\n        const new_course = {\n            course_num: course_num,\n            subject: subject,\n            course: course_num,\n            title: title,\n            start_date: `${dateRange[0].getFullYear()}-${dateRange[0].getMonth() + 1}-${dateRange[0].getDate()}`,\n            end_date: `${dateRange[1].getFullYear()}-${dateRange[1].getMonth() + 1}-${dateRange[1].getDate()}`,\n            colour: \"\"\n        };\n        socket.emit('courseAdded1', new_course);\n        console.log('CreateCourse.js\\tcourse_created!')\n        // feedback upon successful creation\n        socket.on('courseAdded1', (user) => {\n            document.getElementById(\"successMessage\").innerText = \"Course successfully created.\"\n            document.getElementById(\"successMessage\").style.color = 'Green';\n            document.getElementById(\"successMessage\").style.fontWeight= 'Bold';\n        });\n\n        // displays error msg upon failure \n        socket.on('error', (error) => {\n            document.getElementById(\"successMessage\").innerText = \"An error has occured! Please check your inputs.\";\n            document.getElementById(\"successMessage\").style.color = 'Red';\n            document.getElementById(\"successMessage\").style.fontWeight= 'Bold';\n\n        });\n    }\n\n    return isAdmin() ? (\n        <>\n        <AdminNav></AdminNav>\n        <label><br/></label>\n        <div align=\"center\">\n            <Link to=\"/\"><img src={logo} alt='logo' height=\"150\" width=\"170\" ></img></Link>\n            </div>\n        <form onSubmit={create_course} className={styles['course-form']}>\n                        <h2>Create Course</h2>\n        <label>\n        <span>Course Number:</span>\n        <input\n                            className=\"new-course-input\"\n                            type=\"text\"\n                            placeholder=\"Course Number...\"\n                            value={course_num}\n                            onChange={(e) => setCourseNum(e.target.value)} />\n              </label>\n        <label>\n        <span>Subject Name:</span>\n              <input\n                            className=\"new-course-input\"\n                            type=\"text\"\n                            placeholder=\"Subject...\"\n                            value={subject}\n                            onChange={(e) => setSubject(e.target.value)} />\n        </label>\n        <label>\n        <span>Title:</span>\n        <input\n                            className=\"new-course-input\"\n                            type=\"text\"\n                            placeholder=\"Title...\"\n                            value={title}\n                            onChange={(e) => setTitle(e.target.value)} />\n                            \n        </label>\n        <label>\n        <text id='start-and-end'>Duration: </text>\n                        <DatePicker\n                            selectsRange={true}\n                            startDate={startDate}\n                            endDate={endDate}\n                            onChange={(update) => {\n                                setDateRange(update);\n                            }}\n                        />\n        </label>\n        <button >Create Course</button>\n        <p id=\"successMessage\"></p>\n        </form>\n        </> \n    ) : window.location.href = \"/\"\n}\nexport default Create_Course","import { useState } from 'react'\nimport { ReactSession } from 'react-client-session';\nimport styles from './create_resource.module.css'\nimport './create_resource.module.css'\nimport React from 'react'\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport AdminNav from \"../../src/components/AdminNav\";\nimport { Link } from 'react-router-dom'\nimport logo from '../images/BCIT_logo.png'\n\nfunction isAdmin() {\n    let userStatus = ReactSession.get(\"admin\");\n    if (userStatus === 1) {\n        return true;\n    }\n    return false;\n}\n\nfunction Create_resource(socket) {\n    socket = socket.socket;\n    const [model_num, setModelNum] = useState('');\n    const [model_name, setModelName] = useState('');\n    const [quantity_total, setQuantityTotal] = useState('');\n    const [model_location, setModelLocation] = useState('');\n\n    const create_resource = (e) => {\n        e.preventDefault();\n        document.getElementById(\"successMessage\").style.color = 'Red';\n        document.getElementById(\"successMessage\").style.fontWeight= 'Bold';\n        if (!model_num) {\n            document.getElementById(\"successMessage\").innerText = \"Please enter a model number.\";\n            return;\n        }\n\n        if (!model_name) {\n            document.getElementById(\"successMessage\").innerText = \"Please enter a model name.\";\n            return;\n        }\n\n        if (!quantity_total || isNaN(quantity_total) || quantity_total <= 0) {\n            document.getElementById(\"successMessage\").innerText = \"Please enter a valid quantity\";\n            return;\n        }\n\n        if (!model_location) {\n            document.getElementById(\"successMessage\").innerText = \"Please enter a model location.\";\n            return;\n        }\n\n        const new_resource = {\n            model_num: model_num,\n            model_name: model_name,\n            quantity_total: quantity_total,\n            model_location: model_location\n        };\n        socket.emit('resourceAdded', new_resource, null);\n\n        // feedback upon successful creation\n        socket.on('resourceAdded', (user) => {\n            document.getElementById(\"successMessage\").innerText = \"Resource successfully created.\"\n            document.getElementById(\"successMessage\").style.color = 'Green';\n            document.getElementById(\"successMessage\").style.fontWeight= 'Bold';\n        });\n\n        // displays error msg upon failure \n        socket.on('error', (error) => {\n            document.getElementById(\"successMessage\").innerText = \"An error has occured! Please check your inputs.\";\n            document.getElementById(\"successMessage\").style.color = 'Red';\n            document.getElementById(\"successMessage\").style.fontWeight= 'Bold';\n\n        });\n    }\n\n    return isAdmin() ? (\n        <>\n        <AdminNav></AdminNav>\n        <label><br/></label>\n        <div align=\"center\">\n            <Link to=\"/\"><img src={logo} alt='logo' height=\"150\" width=\"170\" ></img></Link>\n            </div>\n                    <form onSubmit={create_resource} className={styles['resource-form']}>\n                        <h2>Create Resource</h2>\n                        <label>\n        <span>Model Number:</span>\n        <input\n                            className=\"new-resource-input\"\n                            type=\"text\"\n                            placeholder=\"Model Number...\"\n                            value={model_num}\n                            onChange={(e) => setModelNum(e.target.value)} />\n              </label>\n              <label>\n        <span>Model Name:</span>\n        <input\n                            className=\"new-resource-input\"\n                            type=\"text\"\n                            placeholder=\"Model Name...\"\n                            value={model_name}\n                            onChange={(e) => setModelName(e.target.value)} />\n              </label>\n              <label>\n        <span>Quantity Total:</span>\n        <input\n                            className=\"new-resource-input\"\n                            type=\"text\"\n                            placeholder=\"Quantity Total...\"\n                            value={quantity_total}\n                            onChange={(e) => setQuantityTotal(e.target.value)}/>\n              </label>\n              <label>\n        <span>Model Location:</span>\n        <input\n                            className=\"new-resource-input\"\n                            type=\"text\"\n                            placeholder=\"Model Location...\"\n                            value={model_location}\n                            onChange={(e) => setModelLocation(e.target.value)}/>\n              </label>\n        <button >Create Resource</button>\n        <p id=\"successMessage\"></p>\n                    </form>\n                    </>\n    ) : window.location.href = \"/\"\n}\n\nexport default Create_resource\n","import { createTheme, Typography } from \"@mui/material\";\nimport { styled } from \"@mui/system\";\nimport Button from \"@material-ui/core/Button\";\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\nimport CancelIcon from '@mui/icons-material/Cancel';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport React, { Component }  from 'react';\n\nconst screenLayout = createTheme({\n  breakpoints: {\n    values: {\n      xxs: 0,\n      xs: 460,\n      lg: 800,\n    }\n  }\n})\n\nconst CheckAndCancelStyles = makeStyles({\n  check: {\n    border: 0,\n    borderRadius: 5,\n    color: \"white\",\n    padding: '0 10px',\n    background: \"green\",\n    '&:hover': {\n      background: \"white\",\n      color: \"green\",\n    },\n    '&:focus': {\n      background: \"green\",\n      color: \"green\",\n    },\n  },\n  cancel: {\n    border: 0,\n    borderRadius: 5,\n    color: \"white\",\n    padding: '0 10px',\n    background: \"red\",\n    '&:hover': {\n      background: \"white\",\n      color: \"red\",\n    },\n    '&:focus': {\n      background: \"green\",\n      color: \"red\",\n    },\n  }\n});\n\nconst VacationInfoWrapper = styled('div')({\n  padding: \"5px\",\n  width: \"50%\",\n});\n\nconst ButtonsWrapper = styled('div')({\n  padding: \"5px\",\n  width: \"50%\",\n  display: \"flex\",\n  flexDirection: \"row\",\n  justifyContent: \"center\",\n  alignItems: \"center\"\n})\n\nconst Container = styled('div')({\n  border: \"1px solid\",\n  borderColor: \"steelblue\",\n  display: \"flex\",\n  flexDirection: \"row\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  marginTop: \"20px\",\n})\n\nconst VacationEntry = ({ vacation, name, onApprove, onReject }) => {\n\n  const numToMonth = (num) => {\n    switch (num) {\n      case 0:\n        return \"January\"\n      case 1:\n        return \"February\"\n      case 2:\n        return \"March\"\n      case 3:\n        return \"April\"\n      case 4:\n        return \"May\"\n      case 5:\n        return \"June\"\n      case 6:\n        return \"July\"\n      case 7:\n        return \"August\"\n      case 8:\n        return \"September\"\n      case 9:\n        return \"October\"\n      case 10:\n        return \"November\"\n      case 11:\n        return \"December\"\n    }\n  }\n\n  const createDate = (timestamp) => {\n    const date = new Date(timestamp)\n    const month = numToMonth(date.getMonth())\n    return date.getDate() + \" \" + month + \", \" + date.getFullYear()\n  }\n\n  return (\n    <Container theme={screenLayout} sx={{\n      width: {\n        xxs: \"100%\",\n        xs: \"100%\",\n        lg: \"500px\",\n      }\n    }}>\n      <VacationInfoWrapper theme={screenLayout} sx={{\n        width: {\n          xxs: \"70%\",\n          xs: \"70%\",\n          lg: \"50%\",\n        },\n      }}>\n        <Typography theme={screenLayout} sx={{\n          fontSize: {\n            xxs: \"15px\",\n            xs: \"15px\",\n            lg: \"24px\",\n          },\n        }}>\n          <div className=\"approval-entry-name\" style={{ fontWeight: \"bold\" }}>{name[0]} {name[1]}</div>\n          <div className=\"approval-entry-start\">From: {createDate(vacation.start_date)}</div> {/* BLANK CHARACTER 52-54 */}\n          <div className=\"approval-entry-end\">To: {createDate(vacation.end_date)}</div> {/* BLANK CHARACTER 48-50 */}\n          <div className=\"approval-entry-duration\">Duration: {vacation.duration} days</div>\n        </Typography>\n      </VacationInfoWrapper>\n      <ButtonsWrapper>\n        <Button onClick={() => onApprove(vacation)} className={CheckAndCancelStyles().check}><CheckCircleIcon /></Button>\n        <Button onClick={() => onReject(vacation)} className={CheckAndCancelStyles().cancel}><CancelIcon /></Button>\n      </ButtonsWrapper>\n    </Container>\n  )\n}\n\nexport default VacationEntry\n","import React from \"react\"\nimport VacationEntry from \"./VacationEntry\"\n\nconst NotApprovedList = ({ vacations, onApprove, onReject }) => {\n\n    const capitalizeString = (string) => {\n        if (string){\n        return string.charAt(0).toUpperCase() + string.slice(1)\n        }\n    }\n\n    const usernameToName = (vacation) => {\n        let first = vacation.username.split(\"_\")[0]\n        let last = vacation.username.split(\"_\")[1]\n        first = capitalizeString(first)\n        last = capitalizeString(last)\n        return [first, last]\n    }\n\n    return (\n        <div className=\"approval-list\">\n            {vacations.map((vacation) => (\n                <div key={vacation.vacation_id}>\n                    <VacationEntry\n                        vacation={vacation}\n                        name={usernameToName(vacation)}\n                        onApprove={onApprove}\n                        onReject={onReject} />\n                </div>\n            ))}\n        </div>\n    )\n}\n\nexport default NotApprovedList","import React, { Component }  from 'react';\nconst noVacations = () => {\n  return (\n    <div className=\"approval-no-vacations\">\n      <p>\n        All vacations have been processed.\n      </p>\n    </div>\n  )\n}\n\nexport default noVacations\n","import Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { styled } from '@mui/system';\nimport { createTheme, Typography } from \"@mui/material\";\nimport React, { Component }  from 'react';\nconst styles = makeStyles({\n    button: {\n        border: 0,\n        borderRadius: 5,\n        color: \"white\",\n        padding: '0 10px',\n        background: \"#003E6B\",\n        width: \"8vw\",\n        alignSelf: \"center\",\n        '&:hover': {\n            background: \"#5082A7\",\n        },\n        '&:focus': {\n            background: \"#003E6B\",\n            '&:hover': {\n                background: \"#5082A7\"\n            }\n        },\n        textAlign: \"right\",\n        marginLeft: \"30%\",\n    },\n    image: {\n        width: 80,\n        height: 80,\n    }\n});\n\nconst screenLayout = createTheme({\n    breakpoints: {\n        values: {\n            xxs: 0,\n            xs: 460,\n            lg: 800,\n        }\n    }\n});\n\nfunction Logo() {\n    const classes = styles();\n    return <img className={classes.image} src={require(\"../../images/BCIT_logo.png\")}\n        alt={\"BCIT\"} style={{\n            position: \"absolute\",\n            left: 5,\n            top: 5,\n        }} />\n}\n\nfunction BackButton() {\n    const classes = styles();\n    return <Button className={classes.button} onClick={(e) => { window.location.href = '/' }}>Back</Button>\n}\n\nconst TopNavWrapper = styled('div')({\n    width: \"100vw\",\n    height: \"10vh\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"left\",\n    justifyContent: \"space-evenly\",\n    color: \"#003E6B\",\n    backgroundColor: \"white\",\n})\n\nconst TitleAndBackBWrapper = styled('div')({\n    width: \"100%\",\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n})\n\nconst LoginTitleWrapper = styled('div')({\n})\n\nconst Header = ({ title }) => {\n    return (\n        <TopNavWrapper>\n            <Logo />\n            <TitleAndBackBWrapper>\n                <Typography theme={screenLayout} sx={{\n                    fontSize: {\n                        xxs: \"11px\",\n                        xs: \"11px\",\n                        lg: \"16px\",\n                    },\n                    marginLeft: {\n                        xxs: \"60px\",\n                        xs: \"60px\",\n                    }\n                }}>\n                    <h1>{title}</h1>\n                </Typography>\n                <BackButton />\n            </TitleAndBackBWrapper>\n        </TopNavWrapper>\n    );\n};\n\nHeader.defaultProps = {\n    title: 'Pending Vacation Requests',\n}\n\nexport default Header;\n","import React from \"react\";\nimport NotApprovedList from \"./components/NotApprovedList\";\nimport NoVacations from \"./components/NoVacations\";\nimport { ReactSession } from \"react-client-session\";\nimport { createTheme } from \"@mui/material\";\nimport { styled } from \"@mui/system\";\nimport Header from \"./components/Header\";\n\n// REPLACE WHEN HOSTING\nconst END_POINT_ROOT = \"/api/\";\nconst VACATION_RESOURCE = \"vacationsNotApproved\";\n\nconst screenLayout = createTheme({\n  breakpoints: {\n    values: {\n      xxs: 0,\n      xs: 460,\n      lg: 800,\n    },\n  },\n});\n\nconst ApprovalContainer = styled(\"div\")({\n  width: \"100%\",\n  height: \"100%\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  alignItems: \"center\",\n});\n\nfunction isAdmin() {\n  if (ReactSession.get(\"admin\")) {\n    return true;\n  }\n  return false;\n}\n\nexport default class VacationApproval extends React.Component {\n  state = {\n    vacations: [],\n    loaded: false,\n  };\n\n  constructor({ socket }) {\n    super();\n    this.socket = socket;\n    socket.on(\"vacationApproved\", (vacation) => {\n      this.setState({\n        vacations: this.state.vacations.filter(\n          (v) => v.vacation_id !== vacation.vacation_id\n        ),\n      });\n    });\n    socket.on(\"vacationDeleted\", (vacation) => {\n      this.setState({\n        vacations: this.state.vacations.filter(\n          (v) => v.vacation_id !== vacation.vacation_id\n        ),\n      });\n    });\n  }\n\n  approveVacation = (vacation) => {\n    this.setState({\n      vacations: this.state.vacations.filter(\n        (v) => v.vacation_id !== vacation.vacation_id\n      ),\n    });\n    this.socket.emit(\"vacationApproved\", vacation);\n  };\n\n  rejectVacation = (vacation) => {\n    this.setState({\n      vacations: this.state.vacations.filter(\n        (v) => v.vacation_id !== vacation.vacation_id\n      ),\n    });\n    this.socket.emit(\"vacationDeleted\", vacation);\n  };\n\n  parseData = (data) => {\n    if (!data) {\n      return null;\n    }\n    const parsedData = JSON.parse(data);\n    this.setState({ vacations: parsedData });\n    this.setState({ loaded: true });\n  };\n\n  getVacations = () => {\n    fetch(END_POINT_ROOT + VACATION_RESOURCE)\n      .then((response) => {\n        return response.text();\n      })\n      .then((data) => {\n        this.parseData(data);\n      });\n  };\n\n  componentDidMount() {\n    this.getVacations();\n  }\n\n  renderApp() {\n    return isAdmin() ? (\n      <ApprovalContainer theme={screenLayout}>\n        <Header />\n        {this.state.vacations.length > 0 ? (\n          <NotApprovedList\n            vacations={this.state.vacations}\n            onApprove={this.approveVacation}\n            onReject={this.rejectVacation}\n          />\n        ) : (\n          <NoVacations />\n        )}\n      </ApprovalContainer>\n    ) : (\n      (window.location.href = \"/\")\n    );\n  }\n\n  render() {\n    return this.state.loaded ? this.renderApp() : <span>Loading data...</span>;\n  }\n}\n","import Vacation from \"./vacation-form/Vacation\"\nimport Schedule from \"./Schedule\"\nimport DetailedSchedule from \"./detailed-schedule/detailedSchedule\"\nimport Resources from \"./resources/resources\"\nimport Login from \"./login/Login\"\nimport CreateUser from \"./create_user/CreateUser\"\nimport CreateCourse from \"./course/CreateCourse\"\nimport CreateResource from \"./resources/create_resource\"\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom'\nimport { ReactSession } from 'react-client-session';\nimport VacationApproval from \"./vacation-approval/VacationApproval\";\nimport io from \"socket.io-client\";\nimport React, { Component }  from 'react';\nconst socket = io.connect('/');\n\nReactSession.setStoreType(\"localStorage\");\n\nfunction App() {\n    return (\n        <Router>\n            <div className=\"app\">\n                <Routes>\n                    <Route exact path=\"/\" element={<Schedule socket={socket} />} />\n                    <Route exact path=\"/detailed-schedule\" element={<DetailedSchedule socket={socket} />} />\n                    <Route exact path=\"/resources\" element={<Resources socket={socket} />} />\n                    <Route exact path=\"/vacation\" element={<Vacation socket={socket} />} />\n                    <Route exact path=\"/vacationApproval\" element={<VacationApproval socket={socket} />} />\n                    <Route exact path=\"/login\" element={<Login />} />\n                    <Route exact path=\"/create_user\" element={<CreateUser socket={socket} />} />\n                    <Route exact path=\"/create_course\" element={<CreateCourse socket={socket} />} />\n                    <Route exact path=\"/create_resource\" element={<CreateResource socket={socket} />} />\n                </Routes>\n            </div>\n        </Router>\n    );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));","module.exports = __webpack_public_path__ + \"static/media/BCIT_logo.b8ed20e7.png\";"],"sourceRoot":""}