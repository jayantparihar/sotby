{"ast":null,"code":"import _slicedToArray from \"/media/matt/2-Samsung-Files/Documents/School/BCIT/Level_4/6_ISSP/my-repo/backup (copy)/ISSP-Fall-2022/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/media/matt/2-Samsung-Files/Documents/School/BCIT/Level_4/6_ISSP/my-repo/backup (copy)/ISSP-Fall-2022/src/components/Timeline.jsx\";\nimport React from \"react\";\nimport Month from './Month';\nimport { useState } from \"react\";\nimport NoCollisionLayout from './NoCollisionLayout';\nimport { ReactSession } from 'react-client-session';\nimport AdminNav from \"./AdminNav\";\nimport UserNav from \"./UserNav\";\nimport DefaultNav from \"./DefaultNav\";\nimport '../navbar.css';\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\nimport NoCollisionYear from './NoCollision_Year';\nimport MonthYear from './Month_Year';\n\nfunction SelectNav(props) {\n  var userStatus = props.userStatus;\n\n  if (userStatus === 1) {\n    return /*#__PURE__*/React.createElement(AdminNav, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 16\n      }\n    });\n  }\n\n  if (userStatus === 0) {\n    return /*#__PURE__*/React.createElement(UserNav, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 16\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(DefaultNav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 12\n    }\n  });\n}\n\nexport default function Timeline(_ref) {\n  var _this = this;\n\n  var socket = _ref.socket,\n      heightLimit = _ref.heightLimit,\n      instructorArray = _ref.instructorArray;\n\n  var _useState = useState(2022),\n      _useState2 = _slicedToArray(_useState, 2),\n      year = _useState2[0],\n      setYear = _useState2[1];\n\n  var thisYear = new Date();\n  thisYear.setFullYear(year, 0, 1, 1);\n  console.log(instructorArray);\n  console.log(thisYear);\n  var weekInformation = {\n    weekNum: 0,\n    weekRangesArray: [],\n    indexMap: {}\n  };\n  var initialMonthArray = getMonthArray(thisYear);\n\n  var _useState3 = useState(initialMonthArray),\n      _useState4 = _slicedToArray(_useState3, 2),\n      year_month_array = _useState4[0],\n      setYearMonthArray = _useState4[1];\n\n  var monthNameArray = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n  var monthWeekArray = [5, 4, 4, 5, 4, 4, 5, 4, 4, 5];\n  var firstWeekArray = getFirstWeek();\n\n  var _useState5 = useState(year_month_array),\n      _useState6 = _slicedToArray(_useState5, 1),\n      monthArray = _useState6[0];\n\n  var _useState7 = useState(0),\n      _useState8 = _slicedToArray(_useState7, 2),\n      current_month = _useState8[0],\n      setCurrentMonth = _useState8[1];\n\n  var _useState9 = useState(monthWeekArray[current_month]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      month_weeks = _useState10[0],\n      setMonthWeeks = _useState10[1];\n\n  var _useState11 = useState(firstWeekArray[0]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      first_week = _useState12[0],\n      setFirstWeek = _useState12[1];\n\n  var _useState13 = useState('Month'),\n      _useState14 = _slicedToArray(_useState13, 2),\n      display = _useState14[0],\n      setDisplay = _useState14[1];\n\n  function getMonthArray(year) {\n    var monthArray = Array.from(Array(12).keys()).map(function (item, i) {\n      return {\n        monthIndex: i,\n        weeks: getWeeks(year, i, weekInformation)\n      };\n    });\n    return monthArray;\n  }\n\n  var totalWeeks = 0;\n\n  for (var i = 0; i < monthArray.length; i++) {\n    totalWeeks += monthArray[i].weeks.length;\n  }\n\n  function nextMonth() {\n    if (current_month === 11) {\n      setYear(year + 1);\n      thisYear.setFullYear(year, 0, 1);\n      thisYear.setMonth(thisYear.getMonth() + 12);\n      setYearMonthArray(getMonthArray(thisYear));\n      setCurrentMonth(0);\n      setMonthWeeks(weekInformation.weekRangesArray[0].times.length);\n      setFirstWeek(firstWeekArray[0]);\n    } else {\n      setCurrentMonth(current_month + 1);\n      setMonthWeeks(weekInformation.weekRangesArray[current_month + 1].times.length);\n      setFirstWeek(firstWeekArray[current_month + 1]);\n    }\n  }\n\n  function previousMonth() {\n    if (current_month === 0) {\n      setYear(year - 1);\n      thisYear.setMonth(thisYear.getMonth() - 12);\n      setYearMonthArray(getMonthArray(thisYear));\n      setCurrentMonth(11);\n      setMonthWeeks(weekInformation.weekRangesArray[11].times.length);\n      setFirstWeek(firstWeekArray[11]);\n    } else {\n      setCurrentMonth(current_month - 1);\n      setMonthWeeks(weekInformation.weekRangesArray[current_month - 1].times.length);\n      setFirstWeek(firstWeekArray[current_month - 1]);\n    }\n  }\n\n  function getFirstWeek() {\n    var firstWeek = [0];\n\n    for (var i = 0; i < 12; i++) {\n      var weekNumber = weekInformation.weekRangesArray[i].times.length + firstWeek[i];\n      firstWeek.push(weekNumber);\n    }\n\n    return firstWeek;\n  }\n\n  var createMonth = function createMonth(item, i) {\n    return /*#__PURE__*/React.createElement(Month, {\n      key: monthNameArray[item.monthIndex] + \" month\",\n      title: monthNameArray[item.monthIndex],\n      position: {\n        x: 1,\n        y: i === 0 ? i + 3 : getNumberOfWeeks(year_month_array, i) + 3\n      },\n      weeks: item.weeks,\n      next: nextMonth,\n      previous: previousMonth,\n      currentYear: year,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }\n    });\n  };\n\n  var createWeeks = function createWeeks() {\n    return /*#__PURE__*/React.createElement(NoCollisionLayout, {\n      socket: socket,\n      heightLimit: heightLimit,\n      newInstructorArray: instructorArray,\n      weekInformation: weekInformation,\n      totalWeeks: totalWeeks,\n      firstWeek: first_week,\n      currentMonthWeeks: month_weeks,\n      currentMonth: current_month,\n      year: year,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 13\n      }\n    });\n  };\n\n  var createMonthYear = function createMonthYear(item, i) {\n    return /*#__PURE__*/React.createElement(MonthYear, {\n      key: monthNameArray[item.monthIndex] + \" month\",\n      title: monthNameArray[item.monthIndex],\n      position: {\n        x: 1,\n        y: i === 0 ? i + 3 : getNumberOfWeeks(initialMonthArray, i) + 3\n      },\n      weeks: item.weeks,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 16\n      }\n    });\n  };\n\n  var handleChange = function handleChange(event) {\n    setDisplay(event.target.value);\n  };\n\n  var createDisplayOption = function createDisplayOption() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      sx: {\n        m: 1,\n        minWidth: 80\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(InputLabel, {\n      id: \"display-select-label\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 21\n      }\n    }, \"View\"), /*#__PURE__*/React.createElement(Select, {\n      labelId: \"display-select-label\",\n      id: \"display-select\",\n      value: display,\n      onChange: handleChange,\n      autoWidth: true,\n      label: \"Display\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      value: \"Year\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 25\n      }\n    }, \"Year\"), /*#__PURE__*/React.createElement(MenuItem, {\n      value: \"Month\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 25\n      }\n    }, \"Month\"))));\n  };\n\n  console.log(thisYear);\n\n  if (display === \"Month\") {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(SelectNav, {\n      userStatus: ReactSession.get(\"admin\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"grid-container-months\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 17\n      }\n    }, createDisplayOption(), createMonth(monthArray[current_month])), createWeeks());\n  } else {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(SelectNav, {\n      userStatus: ReactSession.get(\"admin\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"grid-container-months\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 17\n      }\n    }, createDisplayOption(), monthArray.map(function (item, i) {\n      return createMonthYear(item, i);\n    })), /*#__PURE__*/React.createElement(NoCollisionYear, {\n      socket: socket,\n      heightLimit: heightLimit,\n      newInstructorArray: instructorArray,\n      weekInformation: weekInformation,\n      totalWeeks: totalWeeks,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 17\n      }\n    }));\n  }\n}\n\nfunction getWeeks(startDate, month, weekInformation) {\n  var weeks = [];\n  var weekTimes = {\n    month: startDate.getMonth(),\n    times: []\n  }; // Retrieve first days of every week in all of the months\n\n  while (startDate.getMonth() === month) {\n    // Save the date to an array to position courses in the timeline\n    var index = weekInformation.weekNum + weeks.length;\n    var date = new Date(startDate.getTime());\n    weekTimes.times.push({\n      index: index,\n      date: date\n    });\n    weekInformation.indexMap[index] = date; // Get the first day of every week\n\n    weeks.push(startDate.getDate()); // Increment the date by a week\n\n    startDate.setDate(startDate.getDate() + 7);\n  }\n\n  weekInformation.weekRangesArray.push(weekTimes);\n  weekInformation.weekNum += weeks.length;\n  return weeks;\n}\n\nfunction getNumberOfWeeks(weeks, index) {\n  var sum = 0;\n\n  for (var i = index - 1; i >= 0; i--) {\n    sum += weeks[i].weeks.length;\n  }\n\n  return sum;\n}","map":{"version":3,"names":["React","Month","useState","NoCollisionLayout","ReactSession","AdminNav","UserNav","DefaultNav","InputLabel","MenuItem","FormControl","Select","NoCollisionYear","MonthYear","SelectNav","props","userStatus","Timeline","socket","heightLimit","instructorArray","year","setYear","thisYear","Date","setFullYear","console","log","weekInformation","weekNum","weekRangesArray","indexMap","initialMonthArray","getMonthArray","year_month_array","setYearMonthArray","monthNameArray","monthWeekArray","firstWeekArray","getFirstWeek","monthArray","current_month","setCurrentMonth","month_weeks","setMonthWeeks","first_week","setFirstWeek","display","setDisplay","Array","from","keys","map","item","i","monthIndex","weeks","getWeeks","totalWeeks","length","nextMonth","setMonth","getMonth","times","previousMonth","firstWeek","weekNumber","push","createMonth","x","y","getNumberOfWeeks","createWeeks","createMonthYear","handleChange","event","target","value","createDisplayOption","m","minWidth","get","startDate","month","weekTimes","index","date","getTime","getDate","setDate","sum"],"sources":["/media/matt/2-Samsung-Files/Documents/School/BCIT/Level_4/6_ISSP/my-repo/backup (copy)/ISSP-Fall-2022/src/components/Timeline.jsx"],"sourcesContent":["import React from \"react\";\nimport Month from './Month';\nimport { useState } from \"react\";\nimport NoCollisionLayout from './NoCollisionLayout';\nimport { ReactSession } from 'react-client-session';\nimport AdminNav from \"./AdminNav\";\nimport UserNav from \"./UserNav\";\nimport DefaultNav from \"./DefaultNav\";\nimport '../navbar.css';\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\nimport NoCollisionYear from './NoCollision_Year';\nimport MonthYear from './Month_Year';\n\n\nfunction SelectNav(props) {\n    const userStatus = props.userStatus;\n    if (userStatus === 1) {\n        return <AdminNav />\n    }\n    if (userStatus === 0) {\n        return <UserNav />\n    }\n    return <DefaultNav />\n}\n\nexport default function Timeline({ socket, heightLimit, instructorArray }) {\n\n    const [year, setYear] = useState(2022);\n\n    let thisYear = new Date();\n    thisYear.setFullYear(year, 0, 1, 1);\n\n    console.log(instructorArray);\n    console.log(thisYear);\n\n    let weekInformation = { weekNum: 0, weekRangesArray: [], indexMap: {} };\n\n    const initialMonthArray = getMonthArray(thisYear);\n\n    const [year_month_array, setYearMonthArray] = useState(initialMonthArray);\n\n    const monthNameArray = [\n        \"January\",\n        \"February\",\n        \"March\",\n        \"April\",\n        \"May\",\n        \"June\",\n        \"July\",\n        \"August\",\n        \"September\",\n        \"October\",\n        \"November\",\n        \"December\",\n    ];\n\n    const monthWeekArray = [\n        5, 4, 4, 5, 4, 4, 5, 4, 4, 5\n    ];\n\n    const firstWeekArray = getFirstWeek();\n\n    const [monthArray,] = useState(year_month_array);\n\n    const [current_month, setCurrentMonth] = useState(0);\n\n    const [month_weeks, setMonthWeeks] = useState(monthWeekArray[current_month]);\n\n    const [first_week, setFirstWeek] = useState(firstWeekArray[0]);\n\n    const [display, setDisplay] = useState('Month');\n\n\n    function getMonthArray(year) {\n\n        const monthArray = Array.from(Array(12).keys()).map((item, i) => {\n            return ({\n                monthIndex: i,\n                weeks: getWeeks(year, i, weekInformation),\n            });\n        });\n\n        return monthArray;\n    }\n\n    let totalWeeks = 0;\n    for (let i = 0; i < monthArray.length; i++) {\n        totalWeeks += monthArray[i].weeks.length;\n    }\n\n    function nextMonth() {\n\n\n        if (current_month === 11) {\n            setYear(year + 1);\n            thisYear.setFullYear(year, 0, 1);\n\n            thisYear.setMonth(thisYear.getMonth() + 12);\n\n            setYearMonthArray(getMonthArray(thisYear));\n\n\n            setCurrentMonth(0);\n            setMonthWeeks(weekInformation.weekRangesArray[0].times.length);\n            setFirstWeek(firstWeekArray[0]);\n        } else {\n            setCurrentMonth(current_month + 1);\n            setMonthWeeks(weekInformation.weekRangesArray[current_month + 1].times.length);\n            setFirstWeek(firstWeekArray[current_month + 1]);\n        }\n    }\n\n    function previousMonth() {\n\n        if (current_month === 0) {\n            setYear(year - 1);\n\n            thisYear.setMonth(thisYear.getMonth() - 12);\n\n            setYearMonthArray(getMonthArray(thisYear));\n\n            setCurrentMonth(11);\n            setMonthWeeks(weekInformation.weekRangesArray[11].times.length);\n            setFirstWeek(firstWeekArray[11]);\n        } else {\n            setCurrentMonth(current_month - 1);\n            setMonthWeeks(weekInformation.weekRangesArray[current_month - 1].times.length);\n            setFirstWeek(firstWeekArray[current_month - 1]);\n        }\n    }\n\n    function getFirstWeek() {\n        var firstWeek = [0];\n\n        for (var i = 0; i < 12; i++) {\n            var weekNumber = weekInformation.weekRangesArray[i].times.length + firstWeek[i];\n            firstWeek.push(weekNumber);\n        }\n        return firstWeek;\n    }\n\n    const createMonth = (item, i) => {\n        return (\n            <Month key={monthNameArray[item.monthIndex] + \" month\"} title={monthNameArray[item.monthIndex]}\n                position={{ x: 1, y: i === 0 ? i + 3 : getNumberOfWeeks(year_month_array, i) + 3 }} weeks={item.weeks}\n                next={nextMonth} previous={previousMonth} currentYear={year} />\n        );\n    }\n\n    const createWeeks = () => {\n\n        return (\n            <NoCollisionLayout socket={socket} heightLimit={heightLimit} newInstructorArray={instructorArray}\n                weekInformation={weekInformation} totalWeeks={totalWeeks} firstWeek={first_week}\n                currentMonthWeeks={month_weeks} currentMonth={current_month} year={year} />\n        )\n    }\n\n    const createMonthYear = (item, i) => {\n        return <MonthYear key={monthNameArray[item.monthIndex] + \" month\"} title={monthNameArray[item.monthIndex]}\n            position={{ x: 1, y: i === 0 ? i + 3 : getNumberOfWeeks(initialMonthArray, i) + 3 }} weeks={item.weeks} />\n    }\n\n\n    const handleChange = (event) => {\n        setDisplay(event.target.value);\n    }\n\n    const createDisplayOption = () => {\n\n        return (\n            <div>\n                <FormControl sx={{ m: 1, minWidth: 80 }}>\n                    <InputLabel id=\"display-select-label\">View</InputLabel>\n                    <Select\n                        labelId=\"display-select-label\"\n                        id=\"display-select\"\n                        value={display}\n                        onChange={handleChange}\n                        autoWidth\n                        label=\"Display\"\n                    >\n                        <MenuItem value={\"Year\"}>Year</MenuItem>\n                        <MenuItem value={\"Month\"}>Month</MenuItem>\n                    </Select>\n                </FormControl>\n            </div>\n        )\n    }\n\n\n    console.log(thisYear);\n\n    if (display === \"Month\") {\n        return (\n            <React.Fragment>\n                <SelectNav userStatus={ReactSession.get(\"admin\")} />\n                <div className=\"grid-container-months\">\n                    {\n                        createDisplayOption()\n                    }\n                    {\n                        createMonth(monthArray[current_month])\n                    }\n                </div>\n                {\n                    createWeeks()\n                }\n            </React.Fragment>\n        );\n    } else {\n        return (\n            <React.Fragment>\n                <SelectNav userStatus={ReactSession.get(\"admin\")} />\n                <div className=\"grid-container-months\">\n                    {\n                        createDisplayOption()\n                    }\n                    {\n                        monthArray.map((item, i) => {\n                            return (\n                                createMonthYear(item, i)\n                            )\n                        })\n                    }\n                </div>\n                <NoCollisionYear socket={socket} heightLimit={heightLimit} newInstructorArray={instructorArray} weekInformation={weekInformation} totalWeeks={totalWeeks} />\n            </React.Fragment>\n        )\n    }\n\n}\n\nfunction getWeeks(startDate, month, weekInformation) {\n    const weeks = [];\n    const weekTimes = { month: startDate.getMonth(), times: [] };\n\n    // Retrieve first days of every week in all of the months\n    while (startDate.getMonth() === month) {\n        // Save the date to an array to position courses in the timeline\n        const index = weekInformation.weekNum + weeks.length\n        const date = new Date(startDate.getTime());\n        weekTimes.times.push({ index: index, date: date });\n        weekInformation.indexMap[index] = date;\n\n        // Get the first day of every week\n        weeks.push(startDate.getDate());\n\n        // Increment the date by a week\n        startDate.setDate(startDate.getDate() + 7);\n    }\n\n    weekInformation.weekRangesArray.push(weekTimes);\n    weekInformation.weekNum += weeks.length;\n    return weeks;\n}\n\nfunction getNumberOfWeeks(weeks, index) {\n    let sum = 0;\n\n    for (let i = index - 1; i >= 0; i--) {\n        sum += weeks[i].weeks.length;\n    }\n\n    return sum;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}