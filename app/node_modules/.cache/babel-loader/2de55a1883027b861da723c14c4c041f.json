{"ast":null,"code":"import _defineProperty from \"/media/matt/2-Samsung-Files/Documents/School/BCIT/Level_4/6_ISSP/my-repo/backup (copy)/ISSP-Fall-2022/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/media/matt/2-Samsung-Files/Documents/School/BCIT/Level_4/6_ISSP/my-repo/backup (copy)/ISSP-Fall-2022/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/media/matt/2-Samsung-Files/Documents/School/BCIT/Level_4/6_ISSP/my-repo/backup (copy)/ISSP-Fall-2022/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/media/matt/2-Samsung-Files/Documents/School/BCIT/Level_4/6_ISSP/my-repo/backup (copy)/ISSP-Fall-2022/src/components/Form.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport Select from 'react-select';\nvar END_POINT_ROOT = \"http://localhost:8000/\";\nvar COURSE_RESOURCE = \"courses\";\n\nvar parseData = function parseData(data) {\n  if (!data) {\n    return null;\n  }\n\n  var parsedData = JSON.parse(data);\n  console.log(parsedData);\n  var courseArray = [];\n\n  for (var i = 0; i < parsedData.length; i++) {\n    var course = {\n      value: parsedData[i].course_num,\n      label: parsedData[i].title\n    };\n    courseArray.push(course);\n  }\n\n  return courseArray;\n};\n\nvar getCourses = function getCourses(callBack) {\n  fetch(END_POINT_ROOT + COURSE_RESOURCE).then(function (response) {\n    return response.text();\n  }).then(function (data) {\n    callBack(parseData(data));\n  });\n};\n\nexport default function Form(_ref) {\n  var _this = this;\n\n  var title = _ref.title,\n      textObject = _ref.textObject,\n      callBack = _ref.callBack,\n      _ref$isCourse = _ref.isCourse,\n      isCourse = _ref$isCourse === void 0 ? false : _ref$isCourse;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      input = _useState2[0],\n      setInput = _useState2[1]; // '' is the initial state value\n\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      selectedOption = _useState4[0],\n      setSelectedOption = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isLoaded = _useState6[0],\n      setLoaded = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      courseArray = _useState8[0],\n      setCourseArray = _useState8[1];\n\n  useEffect(function () {\n    if (isCourse) {\n      getCourses(function (data) {\n        setCourseArray(data);\n        setLoaded(true);\n      });\n    } else {\n      setLoaded(true);\n    }\n  }, []);\n\n  var renderForm = function renderForm() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: title + \" div\",\n      style: {\n        display: \"inline\",\n        position: \"sticky\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 7\n      }\n    }, isCourse ? /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      name: \"Course\",\n      key: \"course label\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 15\n      }\n    }, \"Course\"), /*#__PURE__*/React.createElement(Select, {\n      defaultValue: selectedOption,\n      onChange: setSelectedOption,\n      options: courseArray,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }\n    })) : undefined, textObject.map(function (item, i) {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        key: item + \" container\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        name: item + \" label\",\n        key: item + \" label\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }\n      }, item), /*#__PURE__*/React.createElement(\"input\", {\n        name: item + \" input\",\n        key: item + \" input\",\n        onInput: function onInput(e) {\n          return setInput(_objectSpread({}, input, _defineProperty({}, item.split(\" \").join(\"\").toLowerCase(), e.target.value)));\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }\n      }));\n    }), isCourse ? /*#__PURE__*/React.createElement(\"button\", {\n      name: title + \" button\",\n      key: title + \" button\",\n      onClick: function onClick() {\n        return callBack(_objectSpread({\n          number: selectedOption.value,\n          title: selectedOption.label\n        }, input, {\n          datejoined: new Date().getTime()\n        }));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, \"Submit\") : /*#__PURE__*/React.createElement(\"button\", {\n      name: title + \" button\",\n      key: title + \" button\",\n      onClick: function onClick() {\n        return callBack(_objectSpread({}, input, {\n          datejoined: new Date().getTime()\n        }));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, \"Submit\"));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }\n  }, isLoaded ? renderForm() : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, \"Loading\"));\n}","map":{"version":3,"names":["React","useEffect","useState","Select","END_POINT_ROOT","COURSE_RESOURCE","parseData","data","parsedData","JSON","parse","console","log","courseArray","i","length","course","value","course_num","label","title","push","getCourses","callBack","fetch","then","response","text","Form","textObject","isCourse","input","setInput","selectedOption","setSelectedOption","isLoaded","setLoaded","setCourseArray","renderForm","display","position","undefined","map","item","e","split","join","toLowerCase","target","number","datejoined","Date","getTime"],"sources":["/media/matt/2-Samsung-Files/Documents/School/BCIT/Level_4/6_ISSP/my-repo/backup (copy)/ISSP-Fall-2022/src/components/Form.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Select from 'react-select';\n\nconst END_POINT_ROOT = \"http://localhost:8000/\"\nconst COURSE_RESOURCE = \"courses\"\n\nconst parseData = (data) => {\n  if (!data) {\n    return null;\n  }\n  const parsedData = JSON.parse(data);\n  console.log(parsedData);\n\n  let courseArray = [];\n  for (let i = 0; i < parsedData.length; i++) {\n    const course = { value: parsedData[i].course_num, label: parsedData[i].title };\n\n    courseArray.push(course);\n  }\n  return courseArray;\n}\n\nconst getCourses = (callBack) => {\n  fetch(END_POINT_ROOT + COURSE_RESOURCE)\n    .then(response => {\n      return response.text();\n    })\n    .then(data => {\n      callBack(parseData(data));\n    });\n}\n\nexport default function Form({ title, textObject, callBack, isCourse = false }) {\n  const [input, setInput] = useState({}); // '' is the initial state value\n  const [selectedOption, setSelectedOption] = useState(null);\n  const [isLoaded, setLoaded] = useState(false);\n  const [courseArray, setCourseArray] = useState([]);\n\n  useEffect(() => {\n    if (isCourse) {\n      getCourses((data) => {\n        setCourseArray(data);\n        setLoaded(true);\n      })\n    } else {\n      setLoaded(true);\n    }\n  }, [])\n\n  const renderForm = () => {\n    return (\n      <div key={title + \" div\"} style={{ display: \"inline\", position: \"sticky\" }}>\n        {\n          isCourse ?\n            <React.Fragment>\n              <label name={\"Course\"} key={\"course label\"}>Course</label>\n              <Select\n                defaultValue={selectedOption}\n                onChange={setSelectedOption}\n                options={courseArray}\n              />\n            </React.Fragment>\n            :\n            undefined\n        }\n        {textObject.map((item, i) => {\n          return (\n            <React.Fragment key={item + \" container\"}>\n              <label name={item + \" label\"} key={item + \" label\"}>{item}</label>\n              <input name={item + \" input\"} key={item + \" input\"} onInput={e => setInput({ ...input, [item.split(\" \").join(\"\").toLowerCase()]: e.target.value })} />\n              <br />\n            </React.Fragment>\n          )\n        })}\n        {\n          isCourse ?\n            <button name={title + \" button\"} key={title + \" button\"} onClick={() => callBack({ number: selectedOption.value, title: selectedOption.label, ...input, datejoined: new Date().getTime() })}>Submit</button>\n            :\n            <button name={title + \" button\"} key={title + \" button\"} onClick={() => callBack({ ...input, datejoined: new Date().getTime() })}>Submit</button>\n        }\n\n      </div>\n    );\n  }\n\n  return (\n    <React.Fragment>\n      {isLoaded ?\n        renderForm()\n        :\n        <p>Loading</p>\n      }\n    </React.Fragment>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}